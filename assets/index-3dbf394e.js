function i_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function s_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bs={},o_={get exports(){return bs},set exports(t){bs=t}},Al={},w={},a_={get exports(){return w},set exports(t){w=t}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.element"),l_=Symbol.for("react.portal"),u_=Symbol.for("react.fragment"),c_=Symbol.for("react.strict_mode"),h_=Symbol.for("react.profiler"),d_=Symbol.for("react.provider"),f_=Symbol.for("react.context"),p_=Symbol.for("react.forward_ref"),m_=Symbol.for("react.suspense"),g_=Symbol.for("react.memo"),y_=Symbol.for("react.lazy"),ap=Symbol.iterator;function v_(t){return t===null||typeof t!="object"?null:(t=ap&&t[ap]||t["@@iterator"],typeof t=="function"?t:null)}var Hg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qg=Object.assign,Wg={};function Li(t,e,n){this.props=t,this.context=e,this.refs=Wg,this.updater=n||Hg}Li.prototype.isReactComponent={};Li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kg(){}Kg.prototype=Li.prototype;function sd(t,e,n){this.props=t,this.context=e,this.refs=Wg,this.updater=n||Hg}var od=sd.prototype=new Kg;od.constructor=sd;qg(od,Li.prototype);od.isPureReactComponent=!0;var lp=Array.isArray,Gg=Object.prototype.hasOwnProperty,ad={current:null},Qg={key:!0,ref:!0,__self:!0,__source:!0};function Yg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gg.call(e,r)&&!Qg.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:co,type:t,key:s,ref:o,props:i,_owner:ad.current}}function S_(t,e){return{$$typeof:co,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ld(t){return typeof t=="object"&&t!==null&&t.$$typeof===co}function __(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var up=/\/+/g;function Au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?__(""+t.key):e.toString(36)}function wa(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case co:case l_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Au(o,0):r,lp(i)?(n="",t!=null&&(n=t.replace(up,"$&/")+"/"),wa(i,e,n,"",function(u){return u})):i!=null&&(ld(i)&&(i=S_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(up,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Au(s,a);o+=wa(s,e,n,l,i)}else if(l=v_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Au(s,a++),o+=wa(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ro(t,e,n){if(t==null)return t;var r=[],i=0;return wa(t,r,"","",function(s){return e.call(n,s,i++)}),r}function w_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},Ca={transition:null},C_={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:ad};K.Children={map:Ro,forEach:function(t,e,n){Ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ro(t,function(){e++}),e},toArray:function(t){return Ro(t,function(e){return e})||[]},only:function(t){if(!ld(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Li;K.Fragment=u_;K.Profiler=h_;K.PureComponent=sd;K.StrictMode=c_;K.Suspense=m_;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ad.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gg.call(e,l)&&!Qg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:co,type:t.type,key:i,ref:s,props:r,_owner:o}};K.createContext=function(t){return t={$$typeof:f_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d_,_context:t},t.Consumer=t};K.createElement=Yg;K.createFactory=function(t){var e=Yg.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:p_,render:t}};K.isValidElement=ld;K.lazy=function(t){return{$$typeof:y_,_payload:{_status:-1,_result:t},_init:w_}};K.memo=function(t,e){return{$$typeof:g_,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=Ca.transition;Ca.transition={};try{t()}finally{Ca.transition=e}};K.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};K.useCallback=function(t,e){return ut.current.useCallback(t,e)};K.useContext=function(t){return ut.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};K.useEffect=function(t,e){return ut.current.useEffect(t,e)};K.useId=function(){return ut.current.useId()};K.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return ut.current.useMemo(t,e)};K.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};K.useRef=function(t){return ut.current.useRef(t)};K.useState=function(t){return ut.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return ut.current.useTransition()};K.version="18.2.0";(function(t){t.exports=K})(a_);const B=s_(w),Tc=i_({__proto__:null,default:B},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_=w,k_=Symbol.for("react.element"),T_=Symbol.for("react.fragment"),N_=Object.prototype.hasOwnProperty,I_=E_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P_={key:!0,ref:!0,__self:!0,__source:!0};function Xg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)N_.call(e,r)&&!P_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:k_,type:t,key:s,ref:o,props:i,_owner:I_.current}}Al.Fragment=T_;Al.jsx=Xg;Al.jsxs=Xg;(function(t){t.exports=Al})(o_);const Nc=bs.Fragment,S=bs.jsx,b=bs.jsxs;var Ic={},Pc={},D_={get exports(){return Pc},set exports(t){Pc=t}},At={},Dc={},x_={get exports(){return Dc},set exports(t){Dc=t}},Jg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,M){var q=x.length;x.push(M);e:for(;0<q;){var _e=q-1>>>1,Ae=x[_e];if(0<i(Ae,M))x[_e]=M,x[q]=Ae,q=_e;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var M=x[0],q=x.pop();if(q!==M){x[0]=q;e:for(var _e=0,Ae=x.length,$o=Ae>>>1;_e<$o;){var hr=2*(_e+1)-1,bu=x[hr],dr=hr+1,Lo=x[dr];if(0>i(bu,q))dr<Ae&&0>i(Lo,bu)?(x[_e]=Lo,x[dr]=q,_e=dr):(x[_e]=bu,x[hr]=q,_e=hr);else if(dr<Ae&&0>i(Lo,q))x[_e]=Lo,x[dr]=q,_e=dr;else break e}}return M}function i(x,M){var q=x.sortIndex-M.sortIndex;return q!==0?q:x.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,m=!1,_=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(x){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=x)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function C(x){if(y=!1,g(x),!_)if(n(l)!==null)_=!0,ne(N);else{var M=n(u);M!==null&&ht(C,M.startTime-x)}}function N(x,M){_=!1,y&&(y=!1,p(D),D=-1),m=!0;var q=d;try{for(g(M),h=n(l);h!==null&&(!(h.expirationTime>M)||x&&!ie());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,d=h.priorityLevel;var Ae=_e(h.expirationTime<=M);M=t.unstable_now(),typeof Ae=="function"?h.callback=Ae:h===n(l)&&r(l),g(M)}else r(l);h=n(l)}if(h!==null)var $o=!0;else{var hr=n(u);hr!==null&&ht(C,hr.startTime-M),$o=!1}return $o}finally{h=null,d=q,m=!1}}var P=!1,A=null,D=-1,re=5,V=-1;function ie(){return!(t.unstable_now()-V<re)}function $t(){if(A!==null){var x=t.unstable_now();V=x;var M=!0;try{M=A(!0,x)}finally{M?wt():(P=!1,A=null)}}else P=!1}var wt;if(typeof f=="function")wt=function(){f($t)};else if(typeof MessageChannel<"u"){var qr=new MessageChannel,Qi=qr.port2;qr.port1.onmessage=$t,wt=function(){Qi.postMessage(null)}}else wt=function(){E($t,0)};function ne(x){A=x,P||(P=!0,wt())}function ht(x,M){D=E(function(){x(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,ne(N))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var q=d;d=M;try{return x()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,M){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var q=d;d=x;try{return M()}finally{d=q}},t.unstable_scheduleCallback=function(x,M,q){var _e=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?_e+q:_e):q=_e,x){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=q+Ae,x={id:c++,callback:M,priorityLevel:x,startTime:q,expirationTime:Ae,sortIndex:-1},q>_e?(x.sortIndex=q,e(u,x),n(l)===null&&x===n(u)&&(y?(p(D),D=-1):y=!0,ht(C,q-_e))):(x.sortIndex=Ae,e(l,x),_||m||(_=!0,ne(N))),x},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(x){var M=d;return function(){var q=d;d=M;try{return x.apply(this,arguments)}finally{d=q}}}})(Jg);(function(t){t.exports=Jg})(x_);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=w,xt=Dc;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,As={};function Rr(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(As[t]=e,t=0;t<e.length;t++)ey.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xc=Object.prototype.hasOwnProperty,b_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cp={},hp={};function A_(t){return xc.call(hp,t)?!0:xc.call(cp,t)?!1:b_.test(t)?hp[t]=!0:(cp[t]=!0,!1)}function O_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $_(t,e,n,r){if(e===null||typeof e>"u"||O_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function cd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ud,cd);He[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ud,cd);He[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ud,cd);He[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function hd(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($_(e,n,i,r)&&(n=null),r||i===null?A_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bn=Zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),fd=Symbol.for("react.forward_ref"),Ac=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),ry=Symbol.for("react.offscreen"),dp=Symbol.iterator;function Yi(t){return t===null||typeof t!="object"?null:(t=dp&&t[dp]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Ou;function as(t){if(Ou===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ou=e&&e[1]||""}return`
`+Ou+t}var $u=!1;function Lu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?as(t):""}function L_(t){switch(t.tag){case 5:return as(t.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return t=Lu(t.type,!1),t;case 11:return t=Lu(t.type.render,!1),t;case 1:return t=Lu(t.type,!0),t;default:return""}}function $c(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Xr:return"Portal";case bc:return"Profiler";case dd:return"StrictMode";case Ac:return"Suspense";case Oc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ny:return(t.displayName||"Context")+".Consumer";case ty:return(t._context.displayName||"Context")+".Provider";case fd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pd:return e=t.displayName||null,e!==null?e:$c(t.type)||"Memo";case $n:e=t._payload,t=t._init;try{return $c(t(e))}catch{}}return null}function R_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $c(e);case 8:return e===dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M_(t){var e=iy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fo(t){t._valueTracker||(t._valueTracker=M_(t))}function sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lc(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oy(t,e){e=e.checked,e!=null&&hd(t,"checked",e,!1)}function Rc(t,e){oy(t,e);var n=er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mc(t,e.type,er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mc(t,e,n){(e!=="number"||Ba(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ls=Array.isArray;function hi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+er(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(ls(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:er(n)}}function ay(t,e){var n=er(e.value),r=er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ly(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ly(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bo,uy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bo=Bo||document.createElement("div"),Bo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Os(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F_=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){F_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function cy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function hy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B_=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(t,e){if(e){if(B_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Uc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=null;function md(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jc=null,di=null,fi=null;function yp(t){if(t=po(t)){if(typeof jc!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Ml(e),jc(t.stateNode,t.type,e))}}function dy(t){di?fi?fi.push(t):fi=[t]:di=t}function fy(){if(di){var t=di,e=fi;if(fi=di=null,yp(t),e)for(t=0;t<e.length;t++)yp(e[t])}}function py(t,e){return t(e)}function my(){}var Ru=!1;function gy(t,e,n){if(Ru)return t(e,n);Ru=!0;try{return py(t,e,n)}finally{Ru=!1,(di!==null||fi!==null)&&(my(),fy())}}function $s(t,e){var n=t.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Hc=!1;if(Cn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Hc=!1}function z_(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gs=!1,za=null,Ua=!1,qc=null,U_={onError:function(t){gs=!0,za=t}};function V_(t,e,n,r,i,s,o,a,l){gs=!1,za=null,z_.apply(U_,arguments)}function j_(t,e,n,r,i,s,o,a,l){if(V_.apply(this,arguments),gs){if(gs){var u=za;gs=!1,za=null}else throw Error(T(198));Ua||(Ua=!0,qc=u)}}function Mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vp(t){if(Mr(t)!==t)throw Error(T(188))}function H_(t){var e=t.alternate;if(!e){if(e=Mr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vp(i),t;if(s===r)return vp(i),e;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function vy(t){return t=H_(t),t!==null?Sy(t):null}function Sy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sy(t);if(e!==null)return e;t=t.sibling}return null}var _y=xt.unstable_scheduleCallback,Sp=xt.unstable_cancelCallback,q_=xt.unstable_shouldYield,W_=xt.unstable_requestPaint,we=xt.unstable_now,K_=xt.unstable_getCurrentPriorityLevel,gd=xt.unstable_ImmediatePriority,wy=xt.unstable_UserBlockingPriority,Va=xt.unstable_NormalPriority,G_=xt.unstable_LowPriority,Cy=xt.unstable_IdlePriority,Ol=null,un=null;function Q_(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Ol,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:J_,Y_=Math.log,X_=Math.LN2;function J_(t){return t>>>=0,t===0?32:31-(Y_(t)/X_|0)|0}var zo=64,Uo=4194304;function us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=us(a):(s&=o,s!==0&&(r=us(s)))}else o=n&~i,o!==0?r=us(o):s!==0&&(r=us(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),i=1<<n,r|=t[n],e&=~i;return r}function Z_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ew(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Z_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ey(){var t=zo;return zo<<=1,!(zo&4194240)&&(zo=64),t}function Mu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ho(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function tw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var te=0;function ky(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ty,vd,Ny,Iy,Py,Kc=!1,Vo=[],Un=null,Vn=null,jn=null,Ls=new Map,Rs=new Map,Rn=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _p(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(e.pointerId)}}function Ji(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=po(e),e!==null&&vd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rw(t,e,n,r,i){switch(e){case"focusin":return Un=Ji(Un,t,e,n,r,i),!0;case"dragenter":return Vn=Ji(Vn,t,e,n,r,i),!0;case"mouseover":return jn=Ji(jn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ls.set(s,Ji(Ls.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rs.set(s,Ji(Rs.get(s)||null,t,e,n,r,i)),!0}return!1}function Dy(t){var e=yr(t.target);if(e!==null){var n=Mr(e);if(n!==null){if(e=n.tag,e===13){if(e=yy(n),e!==null){t.blockedOn=e,Py(t.priority,function(){Ny(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ea(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vc=r,n.target.dispatchEvent(r),Vc=null}else return e=po(n),e!==null&&vd(e),t.blockedOn=n,!1;e.shift()}return!0}function wp(t,e,n){Ea(t)&&n.delete(e)}function iw(){Kc=!1,Un!==null&&Ea(Un)&&(Un=null),Vn!==null&&Ea(Vn)&&(Vn=null),jn!==null&&Ea(jn)&&(jn=null),Ls.forEach(wp),Rs.forEach(wp)}function Zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Kc||(Kc=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,iw)))}function Ms(t){function e(i){return Zi(i,t)}if(0<Vo.length){Zi(Vo[0],t);for(var n=1;n<Vo.length;n++){var r=Vo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Un!==null&&Zi(Un,t),Vn!==null&&Zi(Vn,t),jn!==null&&Zi(jn,t),Ls.forEach(e),Rs.forEach(e),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Dy(n),n.blockedOn===null&&Rn.shift()}var pi=bn.ReactCurrentBatchConfig,Ha=!0;function sw(t,e,n,r){var i=te,s=pi.transition;pi.transition=null;try{te=1,Sd(t,e,n,r)}finally{te=i,pi.transition=s}}function ow(t,e,n,r){var i=te,s=pi.transition;pi.transition=null;try{te=4,Sd(t,e,n,r)}finally{te=i,pi.transition=s}}function Sd(t,e,n,r){if(Ha){var i=Gc(t,e,n,r);if(i===null)Ku(t,e,r,qa,n),_p(t,r);else if(rw(i,t,e,n,r))r.stopPropagation();else if(_p(t,r),e&4&&-1<nw.indexOf(t)){for(;i!==null;){var s=po(i);if(s!==null&&Ty(s),s=Gc(t,e,n,r),s===null&&Ku(t,e,r,qa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ku(t,e,r,null,n)}}var qa=null;function Gc(t,e,n,r){if(qa=null,t=md(r),t=yr(t),t!==null)if(e=Mr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qa=t,null}function xy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K_()){case gd:return 1;case wy:return 4;case Va:case G_:return 16;case Cy:return 536870912;default:return 16}default:return 16}}var Fn=null,_d=null,ka=null;function by(){if(ka)return ka;var t,e=_d,n=e.length,r,i="value"in Fn?Fn.value:Fn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ka=i.slice(t,1<r?1-r:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jo(){return!0}function Cp(){return!1}function Ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jo:Cp,this.isPropagationStopped=Cp,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=Ot(Ri),fo=ye({},Ri,{view:0,detail:0}),aw=Ot(fo),Fu,Bu,es,$l=ye({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(Fu=t.screenX-es.screenX,Bu=t.screenY-es.screenY):Bu=Fu=0,es=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Bu}}),Ep=Ot($l),lw=ye({},$l,{dataTransfer:0}),uw=Ot(lw),cw=ye({},fo,{relatedTarget:0}),zu=Ot(cw),hw=ye({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),dw=Ot(hw),fw=ye({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pw=Ot(fw),mw=ye({},Ri,{data:0}),kp=Ot(mw),gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vw[t])?!!e[t]:!1}function Cd(){return Sw}var _w=ye({},fo,{key:function(t){if(t.key){var e=gw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cd,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ww=Ot(_w),Cw=ye({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=Ot(Cw),Ew=ye({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cd}),kw=Ot(Ew),Tw=ye({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nw=Ot(Tw),Iw=ye({},$l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pw=Ot(Iw),Dw=[9,13,27,32],Ed=Cn&&"CompositionEvent"in window,ys=null;Cn&&"documentMode"in document&&(ys=document.documentMode);var xw=Cn&&"TextEvent"in window&&!ys,Ay=Cn&&(!Ed||ys&&8<ys&&11>=ys),Np=String.fromCharCode(32),Ip=!1;function Oy(t,e){switch(t){case"keyup":return Dw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zr=!1;function bw(t,e){switch(t){case"compositionend":return $y(e);case"keypress":return e.which!==32?null:(Ip=!0,Np);case"textInput":return t=e.data,t===Np&&Ip?null:t;default:return null}}function Aw(t,e){if(Zr)return t==="compositionend"||!Ed&&Oy(t,e)?(t=by(),ka=_d=Fn=null,Zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ay&&e.locale!=="ko"?null:e.data;default:return null}}var Ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ow[t.type]:e==="textarea"}function Ly(t,e,n,r){dy(r),e=Wa(e,"onChange"),0<e.length&&(n=new wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vs=null,Fs=null;function $w(t){Wy(t,0)}function Ll(t){var e=ni(t);if(sy(e))return t}function Lw(t,e){if(t==="change")return e}var Ry=!1;if(Cn){var Uu;if(Cn){var Vu="oninput"in document;if(!Vu){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Vu=typeof Dp.oninput=="function"}Uu=Vu}else Uu=!1;Ry=Uu&&(!document.documentMode||9<document.documentMode)}function xp(){vs&&(vs.detachEvent("onpropertychange",My),Fs=vs=null)}function My(t){if(t.propertyName==="value"&&Ll(Fs)){var e=[];Ly(e,Fs,t,md(t)),gy($w,e)}}function Rw(t,e,n){t==="focusin"?(xp(),vs=e,Fs=n,vs.attachEvent("onpropertychange",My)):t==="focusout"&&xp()}function Mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ll(Fs)}function Fw(t,e){if(t==="click")return Ll(e)}function Bw(t,e){if(t==="input"||t==="change")return Ll(e)}function zw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:zw;function Bs(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xc.call(e,i)||!Jt(t[i],e[i]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,e){var n=bp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bp(n)}}function Fy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=Ba();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ba(t.document)}return e}function kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Uw(t){var e=By(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fy(n.ownerDocument.documentElement,n)){if(r!==null&&kd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ap(n,s);var o=Ap(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vw=Cn&&"documentMode"in document&&11>=document.documentMode,ei=null,Qc=null,Ss=null,Yc=!1;function Op(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yc||ei==null||ei!==Ba(r)||(r=ei,"selectionStart"in r&&kd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&Bs(Ss,r)||(Ss=r,r=Wa(Qc,"onSelect"),0<r.length&&(e=new wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ei)))}function Ho(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ti={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},ju={},zy={};Cn&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function Rl(t){if(ju[t])return ju[t];if(!ti[t])return t;var e=ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zy)return ju[t]=e[n];return t}var Uy=Rl("animationend"),Vy=Rl("animationiteration"),jy=Rl("animationstart"),Hy=Rl("transitionend"),qy=new Map,$p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(t,e){qy.set(t,e),Rr(e,[t])}for(var Hu=0;Hu<$p.length;Hu++){var qu=$p[Hu],jw=qu.toLowerCase(),Hw=qu[0].toUpperCase()+qu.slice(1);sr(jw,"on"+Hw)}sr(Uy,"onAnimationEnd");sr(Vy,"onAnimationIteration");sr(jy,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(Hy,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function Lp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j_(r,e,void 0,t),t.currentTarget=null}function Wy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Lp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Lp(i,a,u),s=l}}}if(Ua)throw t=qc,Ua=!1,qc=null,t}function ae(t,e){var n=e[th];n===void 0&&(n=e[th]=new Set);var r=t+"__bubble";n.has(r)||(Ky(e,t,2,!1),n.add(r))}function Wu(t,e,n){var r=0;e&&(r|=4),Ky(n,t,r,e)}var qo="_reactListening"+Math.random().toString(36).slice(2);function zs(t){if(!t[qo]){t[qo]=!0,ey.forEach(function(n){n!=="selectionchange"&&(qw.has(n)||Wu(n,!1,t),Wu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qo]||(e[qo]=!0,Wu("selectionchange",!1,e))}}function Ky(t,e,n,r){switch(xy(e)){case 1:var i=sw;break;case 4:i=ow;break;default:i=Sd}n=i.bind(null,e,n,t),i=void 0,!Hc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ku(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gy(function(){var u=s,c=md(n),h=[];e:{var d=qy.get(t);if(d!==void 0){var m=wd,_=t;switch(t){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":m=ww;break;case"focusin":_="focus",m=zu;break;case"focusout":_="blur",m=zu;break;case"beforeblur":case"afterblur":m=zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=uw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kw;break;case Uy:case Vy:case jy:m=dw;break;case Hy:m=Nw;break;case"scroll":m=aw;break;case"wheel":m=Pw;break;case"copy":case"cut":case"paste":m=pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tp}var y=(e&4)!==0,E=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var f=u,g;f!==null;){g=f;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,p!==null&&(C=$s(f,p),C!=null&&y.push(Us(f,C,g)))),E)break;f=f.return}0<y.length&&(d=new m(d,_,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Vc&&(_=n.relatedTarget||n.fromElement)&&(yr(_)||_[En]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?yr(_):null,_!==null&&(E=Mr(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(y=Ep,C="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=Tp,C="onPointerLeave",p="onPointerEnter",f="pointer"),E=m==null?d:ni(m),g=_==null?d:ni(_),d=new y(C,f+"leave",m,n,c),d.target=E,d.relatedTarget=g,C=null,yr(c)===u&&(y=new y(p,f+"enter",_,n,c),y.target=g,y.relatedTarget=E,C=y),E=C,m&&_)t:{for(y=m,p=_,f=0,g=y;g;g=Wr(g))f++;for(g=0,C=p;C;C=Wr(C))g++;for(;0<f-g;)y=Wr(y),f--;for(;0<g-f;)p=Wr(p),g--;for(;f--;){if(y===p||p!==null&&y===p.alternate)break t;y=Wr(y),p=Wr(p)}y=null}else y=null;m!==null&&Rp(h,d,m,y,!1),_!==null&&E!==null&&Rp(h,E,_,y,!0)}}e:{if(d=u?ni(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var N=Lw;else if(Pp(d))if(Ry)N=Bw;else{N=Mw;var P=Rw}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=Fw);if(N&&(N=N(t,u))){Ly(h,N,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Mc(d,"number",d.value)}switch(P=u?ni(u):window,t){case"focusin":(Pp(P)||P.contentEditable==="true")&&(ei=P,Qc=u,Ss=null);break;case"focusout":Ss=Qc=ei=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,Op(h,n,c);break;case"selectionchange":if(Vw)break;case"keydown":case"keyup":Op(h,n,c)}var A;if(Ed)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Zr?Oy(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Ay&&n.locale!=="ko"&&(Zr||D!=="onCompositionStart"?D==="onCompositionEnd"&&Zr&&(A=by()):(Fn=c,_d="value"in Fn?Fn.value:Fn.textContent,Zr=!0)),P=Wa(u,D),0<P.length&&(D=new kp(D,t,null,n,c),h.push({event:D,listeners:P}),A?D.data=A:(A=$y(n),A!==null&&(D.data=A)))),(A=xw?bw(t,n):Aw(t,n))&&(u=Wa(u,"onBeforeInput"),0<u.length&&(c=new kp("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}Wy(h,e)})}function Us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$s(t,n),s!=null&&r.unshift(Us(t,s,i)),s=$s(t,e),s!=null&&r.push(Us(t,s,i))),t=t.return}return r}function Wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=$s(n,s),l!=null&&o.unshift(Us(n,l,a))):i||(l=$s(n,s),l!=null&&o.push(Us(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ww=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function Mp(t){return(typeof t=="string"?t:""+t).replace(Ww,`
`).replace(Kw,"")}function Wo(t,e,n){if(e=Mp(e),Mp(t)!==e&&n)throw Error(T(425))}function Ka(){}var Xc=null,Jc=null;function Zc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(Yw)}:eh;function Yw(t){setTimeout(function(){throw t})}function Gu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ms(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ms(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),an="__reactFiber$"+Mi,Vs="__reactProps$"+Mi,En="__reactContainer$"+Mi,th="__reactEvents$"+Mi,Xw="__reactListeners$"+Mi,Jw="__reactHandles$"+Mi;function yr(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bp(t);t!==null;){if(n=t[an])return n;t=Bp(t)}return e}t=n,n=t.parentNode}return null}function po(t){return t=t[an]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Ml(t){return t[Vs]||null}var nh=[],ri=-1;function or(t){return{current:t}}function ue(t){0>ri||(t.current=nh[ri],nh[ri]=null,ri--)}function oe(t,e){ri++,nh[ri]=t.current,t.current=e}var tr={},nt=or(tr),pt=or(!1),Ir=tr;function wi(t,e){var n=t.type.contextTypes;if(!n)return tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function Ga(){ue(pt),ue(nt)}function zp(t,e,n){if(nt.current!==tr)throw Error(T(168));oe(nt,e),oe(pt,n)}function Gy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(T(108,R_(t)||"Unknown",i));return ye({},n,r)}function Qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tr,Ir=nt.current,oe(nt,t),oe(pt,pt.current),!0}function Up(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Gy(t,e,Ir),r.__reactInternalMemoizedMergedChildContext=t,ue(pt),ue(nt),oe(nt,t)):ue(pt),oe(pt,n)}var mn=null,Fl=!1,Qu=!1;function Qy(t){mn===null?mn=[t]:mn.push(t)}function Zw(t){Fl=!0,Qy(t)}function ar(){if(!Qu&&mn!==null){Qu=!0;var t=0,e=te;try{var n=mn;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mn=null,Fl=!1}catch(i){throw mn!==null&&(mn=mn.slice(t+1)),_y(gd,ar),i}finally{te=e,Qu=!1}}return null}var ii=[],si=0,Ya=null,Xa=0,Lt=[],Rt=0,Pr=null,gn=1,yn="";function fr(t,e){ii[si++]=Xa,ii[si++]=Ya,Ya=t,Xa=e}function Yy(t,e,n){Lt[Rt++]=gn,Lt[Rt++]=yn,Lt[Rt++]=Pr,Pr=t;var r=gn;t=yn;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var s=32-Yt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gn=1<<32-Yt(e)+i|n<<i|r,yn=s+t}else gn=1<<s|n<<i|r,yn=t}function Td(t){t.return!==null&&(fr(t,1),Yy(t,1,0))}function Nd(t){for(;t===Ya;)Ya=ii[--si],ii[si]=null,Xa=ii[--si],ii[si]=null;for(;t===Pr;)Pr=Lt[--Rt],Lt[Rt]=null,yn=Lt[--Rt],Lt[Rt]=null,gn=Lt[--Rt],Lt[Rt]=null}var Dt=null,Pt=null,he=!1,Gt=null;function Xy(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Pt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pr!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Pt=null,!0):!1;default:return!1}}function rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ih(t){if(he){var e=Pt;if(e){var n=e;if(!Vp(t,e)){if(rh(t))throw Error(T(418));e=Hn(n.nextSibling);var r=Dt;e&&Vp(t,e)?Xy(r,n):(t.flags=t.flags&-4097|2,he=!1,Dt=t)}}else{if(rh(t))throw Error(T(418));t.flags=t.flags&-4097|2,he=!1,Dt=t}}}function jp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function Ko(t){if(t!==Dt)return!1;if(!he)return jp(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zc(t.type,t.memoizedProps)),e&&(e=Pt)){if(rh(t))throw Jy(),Error(T(418));for(;e;)Xy(t,e),e=Hn(e.nextSibling)}if(jp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=Dt?Hn(t.stateNode.nextSibling):null;return!0}function Jy(){for(var t=Pt;t;)t=Hn(t.nextSibling)}function Ci(){Pt=Dt=null,he=!1}function Id(t){Gt===null?Gt=[t]:Gt.push(t)}var eC=bn.ReactCurrentBatchConfig;function Wt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ja=or(null),Za=null,oi=null,Pd=null;function Dd(){Pd=oi=Za=null}function xd(t){var e=Ja.current;ue(Ja),t._currentValue=e}function sh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mi(t,e){Za=t,Pd=oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function Bt(t){var e=t._currentValue;if(Pd!==t)if(t={context:t,memoizedValue:e,next:null},oi===null){if(Za===null)throw Error(T(308));oi=t,Za.dependencies={lanes:0,firstContext:t}}else oi=oi.next=t;return e}var vr=null;function bd(t){vr===null?vr=[t]:vr.push(t)}function Zy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bd(e)):(n.next=i.next,i.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ln=!1;function Ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ev(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kn(t,n)}return i=r.interleaved,i===null?(e.next=e,bd(r)):(e.next=i.next,i.next=e),r.interleaved=e,kn(t,n)}function Na(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yd(t,n)}}function Hp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function el(t,e,n,r){var i=t.updateQueue;Ln=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(d=e,m=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){h=_.call(m,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,d=typeof _=="function"?_.call(m,h,d):_,d==null)break e;h=ye({},h,d);break e;case 2:Ln=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=h}}function qp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var tv=new Zg.Component().refs;function oh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bl={isMounted:function(t){return(t=t._reactInternals)?Mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),i=Kn(t),s=Sn(r,i);s.payload=e,n!=null&&(s.callback=n),e=qn(t,s,i),e!==null&&(Xt(e,t,i,r),Na(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),i=Kn(t),s=Sn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qn(t,s,i),e!==null&&(Xt(e,t,i,r),Na(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=Kn(t),i=Sn(n,r);i.tag=2,e!=null&&(i.callback=e),e=qn(t,i,r),e!==null&&(Xt(e,t,r,n),Na(e,t,r))}};function Wp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bs(n,r)||!Bs(i,s):!0}function nv(t,e,n){var r=!1,i=tr,s=e.contextType;return typeof s=="object"&&s!==null?s=Bt(s):(i=mt(e)?Ir:nt.current,r=e.contextTypes,s=(r=r!=null)?wi(t,i):tr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bl.enqueueReplaceState(e,e.state,null)}function ah(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=tv,Ad(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bt(s):(s=mt(e)?Ir:nt.current,i.context=wi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(oh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bl.enqueueReplaceState(i,i.state,null),el(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===tv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Go(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gp(t){var e=t._init;return e(t._payload)}function rv(t){function e(p,f){if(t){var g=p.deletions;g===null?(p.deletions=[f],p.flags|=16):g.push(f)}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Gn(p,f),p.index=0,p.sibling=null,p}function s(p,f,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<f?(p.flags|=2,f):g):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,g,C){return f===null||f.tag!==6?(f=nc(g,p.mode,C),f.return=p,f):(f=i(f,g),f.return=p,f)}function l(p,f,g,C){var N=g.type;return N===Jr?c(p,f,g.props.children,C,g.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Gp(N)===f.type)?(C=i(f,g.props),C.ref=ts(p,f,g),C.return=p,C):(C=Aa(g.type,g.key,g.props,null,p.mode,C),C.ref=ts(p,f,g),C.return=p,C)}function u(p,f,g,C){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=rc(g,p.mode,C),f.return=p,f):(f=i(f,g.children||[]),f.return=p,f)}function c(p,f,g,C,N){return f===null||f.tag!==7?(f=kr(g,p.mode,C,N),f.return=p,f):(f=i(f,g),f.return=p,f)}function h(p,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=nc(""+f,p.mode,g),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Mo:return g=Aa(f.type,f.key,f.props,null,p.mode,g),g.ref=ts(p,null,f),g.return=p,g;case Xr:return f=rc(f,p.mode,g),f.return=p,f;case $n:var C=f._init;return h(p,C(f._payload),g)}if(ls(f)||Yi(f))return f=kr(f,p.mode,g,null),f.return=p,f;Go(p,f)}return null}function d(p,f,g,C){var N=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:a(p,f,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Mo:return g.key===N?l(p,f,g,C):null;case Xr:return g.key===N?u(p,f,g,C):null;case $n:return N=g._init,d(p,f,N(g._payload),C)}if(ls(g)||Yi(g))return N!==null?null:c(p,f,g,C,null);Go(p,g)}return null}function m(p,f,g,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(g)||null,a(f,p,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Mo:return p=p.get(C.key===null?g:C.key)||null,l(f,p,C,N);case Xr:return p=p.get(C.key===null?g:C.key)||null,u(f,p,C,N);case $n:var P=C._init;return m(p,f,g,P(C._payload),N)}if(ls(C)||Yi(C))return p=p.get(g)||null,c(f,p,C,N,null);Go(f,C)}return null}function _(p,f,g,C){for(var N=null,P=null,A=f,D=f=0,re=null;A!==null&&D<g.length;D++){A.index>D?(re=A,A=null):re=A.sibling;var V=d(p,A,g[D],C);if(V===null){A===null&&(A=re);break}t&&A&&V.alternate===null&&e(p,A),f=s(V,f,D),P===null?N=V:P.sibling=V,P=V,A=re}if(D===g.length)return n(p,A),he&&fr(p,D),N;if(A===null){for(;D<g.length;D++)A=h(p,g[D],C),A!==null&&(f=s(A,f,D),P===null?N=A:P.sibling=A,P=A);return he&&fr(p,D),N}for(A=r(p,A);D<g.length;D++)re=m(A,p,D,g[D],C),re!==null&&(t&&re.alternate!==null&&A.delete(re.key===null?D:re.key),f=s(re,f,D),P===null?N=re:P.sibling=re,P=re);return t&&A.forEach(function(ie){return e(p,ie)}),he&&fr(p,D),N}function y(p,f,g,C){var N=Yi(g);if(typeof N!="function")throw Error(T(150));if(g=N.call(g),g==null)throw Error(T(151));for(var P=N=null,A=f,D=f=0,re=null,V=g.next();A!==null&&!V.done;D++,V=g.next()){A.index>D?(re=A,A=null):re=A.sibling;var ie=d(p,A,V.value,C);if(ie===null){A===null&&(A=re);break}t&&A&&ie.alternate===null&&e(p,A),f=s(ie,f,D),P===null?N=ie:P.sibling=ie,P=ie,A=re}if(V.done)return n(p,A),he&&fr(p,D),N;if(A===null){for(;!V.done;D++,V=g.next())V=h(p,V.value,C),V!==null&&(f=s(V,f,D),P===null?N=V:P.sibling=V,P=V);return he&&fr(p,D),N}for(A=r(p,A);!V.done;D++,V=g.next())V=m(A,p,D,V.value,C),V!==null&&(t&&V.alternate!==null&&A.delete(V.key===null?D:V.key),f=s(V,f,D),P===null?N=V:P.sibling=V,P=V);return t&&A.forEach(function($t){return e(p,$t)}),he&&fr(p,D),N}function E(p,f,g,C){if(typeof g=="object"&&g!==null&&g.type===Jr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Mo:e:{for(var N=g.key,P=f;P!==null;){if(P.key===N){if(N=g.type,N===Jr){if(P.tag===7){n(p,P.sibling),f=i(P,g.props.children),f.return=p,p=f;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Gp(N)===P.type){n(p,P.sibling),f=i(P,g.props),f.ref=ts(p,P,g),f.return=p,p=f;break e}n(p,P);break}else e(p,P);P=P.sibling}g.type===Jr?(f=kr(g.props.children,p.mode,C,g.key),f.return=p,p=f):(C=Aa(g.type,g.key,g.props,null,p.mode,C),C.ref=ts(p,f,g),C.return=p,p=C)}return o(p);case Xr:e:{for(P=g.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(p,f.sibling),f=i(f,g.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=rc(g,p.mode,C),f.return=p,p=f}return o(p);case $n:return P=g._init,E(p,f,P(g._payload),C)}if(ls(g))return _(p,f,g,C);if(Yi(g))return y(p,f,g,C);Go(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,g),f.return=p,p=f):(n(p,f),f=nc(g,p.mode,C),f.return=p,p=f),o(p)):n(p,f)}return E}var Ei=rv(!0),iv=rv(!1),mo={},cn=or(mo),js=or(mo),Hs=or(mo);function Sr(t){if(t===mo)throw Error(T(174));return t}function Od(t,e){switch(oe(Hs,e),oe(js,t),oe(cn,mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bc(e,t)}ue(cn),oe(cn,e)}function ki(){ue(cn),ue(js),ue(Hs)}function sv(t){Sr(Hs.current);var e=Sr(cn.current),n=Bc(e,t.type);e!==n&&(oe(js,t),oe(cn,n))}function $d(t){js.current===t&&(ue(cn),ue(js))}var fe=or(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yu=[];function Ld(){for(var t=0;t<Yu.length;t++)Yu[t]._workInProgressVersionPrimary=null;Yu.length=0}var Ia=bn.ReactCurrentDispatcher,Xu=bn.ReactCurrentBatchConfig,Dr=0,ge=null,Ne=null,Le=null,nl=!1,_s=!1,qs=0,tC=0;function We(){throw Error(T(321))}function Rd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function Md(t,e,n,r,i,s){if(Dr=s,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ia.current=t===null||t.memoizedState===null?sC:oC,t=n(r,i),_s){s=0;do{if(_s=!1,qs=0,25<=s)throw Error(T(301));s+=1,Le=Ne=null,e.updateQueue=null,Ia.current=aC,t=n(r,i)}while(_s)}if(Ia.current=rl,e=Ne!==null&&Ne.next!==null,Dr=0,Le=Ne=ge=null,nl=!1,e)throw Error(T(300));return t}function Fd(){var t=qs!==0;return qs=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ge.memoizedState=Le=t:Le=Le.next=t,Le}function zt(){if(Ne===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Le===null?ge.memoizedState:Le.next;if(e!==null)Le=e,Ne=t;else{if(t===null)throw Error(T(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Le===null?ge.memoizedState=Le=t:Le=Le.next=t}return Le}function Ws(t,e){return typeof e=="function"?e(t):e}function Ju(t){var e=zt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ge.lanes|=c,xr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Jt(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ge.lanes|=s,xr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zu(t){var e=zt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jt(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ov(){}function av(t,e){var n=ge,r=zt(),i=e(),s=!Jt(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,Bd(cv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Ks(9,uv.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(T(349));Dr&30||lv(n,e,i)}return i}function lv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uv(t,e,n,r){e.value=n,e.getSnapshot=r,hv(e)&&dv(t)}function cv(t,e,n){return n(function(){hv(e)&&dv(t)})}function hv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function dv(t){var e=kn(t,1);e!==null&&Xt(e,t,1,-1)}function Qp(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=iC.bind(null,ge,t),[e.memoizedState,t]}function Ks(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fv(){return zt().memoizedState}function Pa(t,e,n,r){var i=on();ge.flags|=t,i.memoizedState=Ks(1|e,n,void 0,r===void 0?null:r)}function zl(t,e,n,r){var i=zt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,r!==null&&Rd(r,o.deps)){i.memoizedState=Ks(e,n,s,r);return}}ge.flags|=t,i.memoizedState=Ks(1|e,n,s,r)}function Yp(t,e){return Pa(8390656,8,t,e)}function Bd(t,e){return zl(2048,8,t,e)}function pv(t,e){return zl(4,2,t,e)}function mv(t,e){return zl(4,4,t,e)}function gv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yv(t,e,n){return n=n!=null?n.concat([t]):null,zl(4,4,gv.bind(null,e,t),n)}function zd(){}function vv(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sv(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _v(t,e,n){return Dr&21?(Jt(n,e)||(n=Ey(),ge.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function nC(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Xu.transition;Xu.transition={};try{t(!1),e()}finally{te=n,Xu.transition=r}}function wv(){return zt().memoizedState}function rC(t,e,n){var r=Kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cv(t))Ev(e,n);else if(n=Zy(t,e,n,r),n!==null){var i=lt();Xt(n,t,r,i),kv(n,e,r)}}function iC(t,e,n){var r=Kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cv(t))Ev(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jt(a,o)){var l=e.interleaved;l===null?(i.next=i,bd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Zy(t,e,i,r),n!==null&&(i=lt(),Xt(n,t,r,i),kv(n,e,r))}}function Cv(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function Ev(t,e){_s=nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yd(t,n)}}var rl={readContext:Bt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},sC={readContext:Bt,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:Yp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pa(4194308,4,gv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pa(4,2,t,e)},useMemo:function(t,e){var n=on();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=on();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rC.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:Qp,useDebugValue:zd,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=Qp(!1),e=t[0];return t=nC.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,i=on();if(he){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Re===null)throw Error(T(349));Dr&30||lv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Yp(cv.bind(null,r,s,t),[t]),r.flags|=2048,Ks(9,uv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=on(),e=Re.identifierPrefix;if(he){var n=yn,r=gn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oC={readContext:Bt,useCallback:vv,useContext:Bt,useEffect:Bd,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:Sv,useReducer:Ju,useRef:fv,useState:function(){return Ju(Ws)},useDebugValue:zd,useDeferredValue:function(t){var e=zt();return _v(e,Ne.memoizedState,t)},useTransition:function(){var t=Ju(Ws)[0],e=zt().memoizedState;return[t,e]},useMutableSource:ov,useSyncExternalStore:av,useId:wv,unstable_isNewReconciler:!1},aC={readContext:Bt,useCallback:vv,useContext:Bt,useEffect:Bd,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:Sv,useReducer:Zu,useRef:fv,useState:function(){return Zu(Ws)},useDebugValue:zd,useDeferredValue:function(t){var e=zt();return Ne===null?e.memoizedState=t:_v(e,Ne.memoizedState,t)},useTransition:function(){var t=Zu(Ws)[0],e=zt().memoizedState;return[t,e]},useMutableSource:ov,useSyncExternalStore:av,useId:wv,unstable_isNewReconciler:!1};function Ti(t,e){try{var n="",r=e;do n+=L_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ec(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lC=typeof WeakMap=="function"?WeakMap:Map;function Tv(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,vh=r),lh(t,e)},n}function Nv(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lh(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CC.bind(null,t,e,n),e.then(t,t))}function Jp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,qn(n,e,1))),n.lanes|=1),t)}var uC=bn.ReactCurrentOwner,ft=!1;function ot(t,e,n,r){e.child=t===null?iv(e,null,n,r):Ei(e,t.child,n,r)}function em(t,e,n,r,i){n=n.render;var s=e.ref;return mi(e,i),r=Md(t,e,n,r,s,i),n=Fd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(he&&n&&Td(e),e.flags|=1,ot(t,e,r,i),e.child)}function tm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Iv(t,e,s,r,i)):(t=Aa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bs,n(o,r)&&t.ref===e.ref)return Tn(t,e,i)}return e.flags|=1,t=Gn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Iv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bs(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,Tn(t,e,i)}return uh(t,e,n,r,i)}function Pv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(li,Tt),Tt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(li,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,oe(li,Tt),Tt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,oe(li,Tt),Tt|=r;return ot(t,e,i,n),e.child}function Dv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uh(t,e,n,r,i){var s=mt(n)?Ir:nt.current;return s=wi(e,s),mi(e,i),n=Md(t,e,n,r,s,i),r=Fd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(he&&r&&Td(e),e.flags|=1,ot(t,e,n,i),e.child)}function nm(t,e,n,r,i){if(mt(n)){var s=!0;Qa(e)}else s=!1;if(mi(e,i),e.stateNode===null)Da(t,e),nv(e,n,r),ah(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bt(u):(u=mt(n)?Ir:nt.current,u=wi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Kp(e,o,r,u),Ln=!1;var d=e.memoizedState;o.state=d,el(e,r,o,i),l=e.memoizedState,a!==r||d!==l||pt.current||Ln?(typeof c=="function"&&(oh(e,n,c,r),l=e.memoizedState),(a=Ln||Wp(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ev(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bt(l):(l=mt(n)?Ir:nt.current,l=wi(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Kp(e,o,r,l),Ln=!1,d=e.memoizedState,o.state=d,el(e,r,o,i);var _=e.memoizedState;a!==h||d!==_||pt.current||Ln?(typeof m=="function"&&(oh(e,n,m,r),_=e.memoizedState),(u=Ln||Wp(e,n,u,r,d,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return ch(t,e,n,r,s,i)}function ch(t,e,n,r,i,s){Dv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Up(e,n,!1),Tn(t,e,s);r=e.stateNode,uC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ei(e,t.child,null,s),e.child=Ei(e,null,a,s)):ot(t,e,a,s),e.memoizedState=r.state,i&&Up(e,n,!0),e.child}function xv(t){var e=t.stateNode;e.pendingContext?zp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zp(t,e.context,!1),Od(t,e.containerInfo)}function rm(t,e,n,r,i){return Ci(),Id(i),e.flags|=256,ot(t,e,n,r),e.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function dh(t){return{baseLanes:t,cachePool:null,transitions:null}}function bv(t,e,n){var r=e.pendingProps,i=fe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(fe,i&1),t===null)return ih(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jl(o,r,0,null),t=kr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dh(n),e.memoizedState=hh,t):Ud(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gn(a,s):(s=kr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hh,r}return s=t.child,t=s.sibling,r=Gn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ud(t,e){return e=jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qo(t,e,n,r){return r!==null&&Id(r),Ei(e,t.child,null,n),t=Ud(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ec(Error(T(422))),Qo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jl({mode:"visible",children:r.children},i,0,null),s=kr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ei(e,t.child,null,o),e.child.memoizedState=dh(o),e.memoizedState=hh,s);if(!(e.mode&1))return Qo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(T(419)),r=ec(s,r,void 0),Qo(t,e,o,r)}if(a=(o&t.childLanes)!==0,ft||a){if(r=Re,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kn(t,i),Xt(r,t,i,-1))}return Kd(),r=ec(Error(T(421))),Qo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=EC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pt=Hn(i.nextSibling),Dt=e,he=!0,Gt=null,t!==null&&(Lt[Rt++]=gn,Lt[Rt++]=yn,Lt[Rt++]=Pr,gn=t.id,yn=t.overflow,Pr=e),e=Ud(e,r.children),e.flags|=4096,e)}function im(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sh(t.return,e,n)}function tc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Av(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ot(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,n,e);else if(t.tag===19)im(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tc(e,!0,n,null,s);break;case"together":tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hC(t,e,n){switch(e.tag){case 3:xv(e),Ci();break;case 5:sv(e);break;case 1:mt(e.type)&&Qa(e);break;case 4:Od(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(Ja,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?bv(t,e,n):(oe(fe,fe.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);oe(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Av(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Pv(t,e,n)}return Tn(t,e,n)}var Ov,fh,$v,Lv;Ov=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fh=function(){};$v=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sr(cn.current);var s=null;switch(n){case"input":i=Lc(t,i),r=Lc(t,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=Fc(t,i),r=Fc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ka)}zc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(As.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(As.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Lv=function(t,e,n,r){n!==r&&(e.flags|=4)};function ns(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dC(t,e,n){var r=e.pendingProps;switch(Nd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return mt(e.type)&&Ga(),Ke(e),null;case 3:return r=e.stateNode,ki(),ue(pt),ue(nt),Ld(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ko(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(wh(Gt),Gt=null))),fh(t,e),Ke(e),null;case 5:$d(e);var i=Sr(Hs.current);if(n=e.type,t!==null&&e.stateNode!=null)$v(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return Ke(e),null}if(t=Sr(cn.current),Ko(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[an]=e,r[Vs]=s,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<cs.length;i++)ae(cs[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":fp(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":mp(r,s),ae("invalid",r)}zc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wo(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wo(r.textContent,a,t),i=["children",""+a]):As.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":Fo(r),pp(r,s,!0);break;case"textarea":Fo(r),gp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ka)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ly(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[an]=e,t[Vs]=r,Ov(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uc(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<cs.length;i++)ae(cs[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":fp(t,r),i=Lc(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),ae("invalid",t);break;case"textarea":mp(t,r),i=Fc(t,r),ae("invalid",t);break;default:i=r}zc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Os(t,l):typeof l=="number"&&Os(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(As.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ae("scroll",t):l!=null&&hd(t,s,l,o))}switch(n){case"input":Fo(t),pp(t,r,!1);break;case"textarea":Fo(t),gp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+er(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hi(t,!!r.multiple,s,!1):r.defaultValue!=null&&hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)Lv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Sr(Hs.current),Sr(cn.current),Ko(e)){if(r=e.stateNode,n=e.memoizedProps,r[an]=e,(s=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:Wo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=e,e.stateNode=r}return Ke(e),null;case 13:if(ue(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&Pt!==null&&e.mode&1&&!(e.flags&128))Jy(),Ci(),e.flags|=98560,s=!1;else if(s=Ko(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[an]=e}else Ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),s=!1}else Gt!==null&&(wh(Gt),Gt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ie===0&&(Ie=3):Kd())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return ki(),fh(t,e),t===null&&zs(e.stateNode.containerInfo),Ke(e),null;case 10:return xd(e.type._context),Ke(e),null;case 17:return mt(e.type)&&Ga(),Ke(e),null;case 19:if(ue(fe),s=e.memoizedState,s===null)return Ke(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ns(s,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tl(t),o!==null){for(e.flags|=128,ns(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(fe,fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&we()>Ni&&(e.flags|=128,r=!0,ns(s,!1),e.lanes=4194304)}else{if(!r)if(t=tl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return Ke(e),null}else 2*we()-s.renderingStartTime>Ni&&n!==1073741824&&(e.flags|=128,r=!0,ns(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=we(),e.sibling=null,n=fe.current,oe(fe,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return Wd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function fC(t,e){switch(Nd(e),e.tag){case 1:return mt(e.type)&&Ga(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ki(),ue(pt),ue(nt),Ld(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $d(e),null;case 13:if(ue(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Ci()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(fe),null;case 4:return ki(),null;case 10:return xd(e.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var Yo=!1,Ye=!1,pC=typeof WeakSet=="function"?WeakSet:Set,O=null;function ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function ph(t,e,n){try{n()}catch(r){ve(t,e,r)}}var sm=!1;function mC(t,e){if(Xc=Ha,t=By(),kd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jc={focusedElem:t,selectionRange:n},Ha=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,E=_.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wt(e.type,y),E);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(C){ve(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return _=sm,sm=!1,_}function ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ph(e,n,s)}i=i.next}while(i!==r)}}function Ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rv(t){var e=t.alternate;e!==null&&(t.alternate=null,Rv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[Vs],delete e[th],delete e[Xw],delete e[Jw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mv(t){return t.tag===5||t.tag===3||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ka));else if(r!==4&&(t=t.child,t!==null))for(gh(t,e,n),t=t.sibling;t!==null;)gh(t,e,n),t=t.sibling}function yh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yh(t,e,n),t=t.sibling;t!==null;)yh(t,e,n),t=t.sibling}var Be=null,Kt=!1;function On(t,e,n){for(n=n.child;n!==null;)Fv(t,e,n),n=n.sibling}function Fv(t,e,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Ye||ai(n,e);case 6:var r=Be,i=Kt;Be=null,On(t,e,n),Be=r,Kt=i,Be!==null&&(Kt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Kt?(t=Be,n=n.stateNode,t.nodeType===8?Gu(t.parentNode,n):t.nodeType===1&&Gu(t,n),Ms(t)):Gu(Be,n.stateNode));break;case 4:r=Be,i=Kt,Be=n.stateNode.containerInfo,Kt=!0,On(t,e,n),Be=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ph(n,e,o),i=i.next}while(i!==r)}On(t,e,n);break;case 1:if(!Ye&&(ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,e,a)}On(t,e,n);break;case 21:On(t,e,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,On(t,e,n),Ye=r):On(t,e,n);break;default:On(t,e,n)}}function am(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pC),e.forEach(function(r){var i=kC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Kt=!1;break e;case 3:Be=a.stateNode.containerInfo,Kt=!0;break e;case 4:Be=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Be===null)throw Error(T(160));Fv(s,o,i),Be=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bv(e,t),e=e.sibling}function Bv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),nn(t),r&4){try{ws(3,t,t.return),Ul(3,t)}catch(y){ve(t,t.return,y)}try{ws(5,t,t.return)}catch(y){ve(t,t.return,y)}}break;case 1:Vt(e,t),nn(t),r&512&&n!==null&&ai(n,n.return);break;case 5:if(Vt(e,t),nn(t),r&512&&n!==null&&ai(n,n.return),t.flags&32){var i=t.stateNode;try{Os(i,"")}catch(y){ve(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oy(i,s),Uc(a,o);var u=Uc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?hy(i,h):c==="dangerouslySetInnerHTML"?uy(i,h):c==="children"?Os(i,h):hd(i,c,h,u)}switch(a){case"input":Rc(i,s);break;case"textarea":ay(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?hi(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?hi(i,!!s.multiple,s.defaultValue,!0):hi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vs]=s}catch(y){ve(t,t.return,y)}}break;case 6:if(Vt(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ve(t,t.return,y)}}break;case 3:if(Vt(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ms(e.containerInfo)}catch(y){ve(t,t.return,y)}break;case 4:Vt(e,t),nn(t);break;case 13:Vt(e,t),nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hd=we())),r&4&&am(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||c,Vt(e,t),Ye=u):Vt(e,t),nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(d=O,m=d.child,d.tag){case 0:case 11:case 14:case 15:ws(4,d,d.return);break;case 1:ai(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){ve(r,n,y)}}break;case 5:ai(d,d.return);break;case 22:if(d.memoizedState!==null){um(h);continue}}m!==null?(m.return=d,O=m):um(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cy("display",o))}catch(y){ve(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ve(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vt(e,t),nn(t),r&4&&am(t);break;case 21:break;default:Vt(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mv(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Os(i,""),r.flags&=-33);var s=om(t);yh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=om(t);gh(t,a,o);break;default:throw Error(T(161))}}catch(l){ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gC(t,e,n){O=t,zv(t)}function zv(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=Yo;var u=Ye;if(Yo=o,(Ye=l)&&!u)for(O=i;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?cm(i):l!==null?(l.return=o,O=l):cm(i);for(;s!==null;)O=s,zv(s),s=s.sibling;O=i,Yo=a,Ye=u}lm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):lm(t)}}function lm(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ms(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ye||e.flags&512&&mh(e)}catch(d){ve(e,e.return,d)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function um(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function cm(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ul(4,e)}catch(l){ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ve(e,i,l)}}var s=e.return;try{mh(e)}catch(l){ve(e,s,l)}break;case 5:var o=e.return;try{mh(e)}catch(l){ve(e,o,l)}}}catch(l){ve(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var yC=Math.ceil,il=bn.ReactCurrentDispatcher,Vd=bn.ReactCurrentOwner,Ft=bn.ReactCurrentBatchConfig,Y=0,Re=null,ke=null,Ue=0,Tt=0,li=or(0),Ie=0,Gs=null,xr=0,Vl=0,jd=0,Cs=null,dt=null,Hd=0,Ni=1/0,pn=null,sl=!1,vh=null,Wn=null,Xo=!1,Bn=null,ol=0,Es=0,Sh=null,xa=-1,ba=0;function lt(){return Y&6?we():xa!==-1?xa:xa=we()}function Kn(t){return t.mode&1?Y&2&&Ue!==0?Ue&-Ue:eC.transition!==null?(ba===0&&(ba=Ey()),ba):(t=te,t!==0||(t=window.event,t=t===void 0?16:xy(t.type)),t):1}function Xt(t,e,n,r){if(50<Es)throw Es=0,Sh=null,Error(T(185));ho(t,n,r),(!(Y&2)||t!==Re)&&(t===Re&&(!(Y&2)&&(Vl|=n),Ie===4&&Mn(t,Ue)),gt(t,r),n===1&&Y===0&&!(e.mode&1)&&(Ni=we()+500,Fl&&ar()))}function gt(t,e){var n=t.callbackNode;ew(t,e);var r=ja(t,t===Re?Ue:0);if(r===0)n!==null&&Sp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sp(n),e===1)t.tag===0?Zw(hm.bind(null,t)):Qy(hm.bind(null,t)),Qw(function(){!(Y&6)&&ar()}),n=null;else{switch(ky(r)){case 1:n=gd;break;case 4:n=wy;break;case 16:n=Va;break;case 536870912:n=Cy;break;default:n=Va}n=Gv(n,Uv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Uv(t,e){if(xa=-1,ba=0,Y&6)throw Error(T(327));var n=t.callbackNode;if(gi()&&t.callbackNode!==n)return null;var r=ja(t,t===Re?Ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=al(t,r);else{e=r;var i=Y;Y|=2;var s=jv();(Re!==t||Ue!==e)&&(pn=null,Ni=we()+500,Er(t,e));do try{_C();break}catch(a){Vv(t,a)}while(1);Dd(),il.current=s,Y=i,ke!==null?e=0:(Re=null,Ue=0,e=Ie)}if(e!==0){if(e===2&&(i=Wc(t),i!==0&&(r=i,e=_h(t,i))),e===1)throw n=Gs,Er(t,0),Mn(t,r),gt(t,we()),n;if(e===6)Mn(t,r);else{if(i=t.current.alternate,!(r&30)&&!vC(i)&&(e=al(t,r),e===2&&(s=Wc(t),s!==0&&(r=s,e=_h(t,s))),e===1))throw n=Gs,Er(t,0),Mn(t,r),gt(t,we()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:pr(t,dt,pn);break;case 3:if(Mn(t,r),(r&130023424)===r&&(e=Hd+500-we(),10<e)){if(ja(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eh(pr.bind(null,t,dt,pn),e);break}pr(t,dt,pn);break;case 4:if(Mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yC(r/1960))-r,10<r){t.timeoutHandle=eh(pr.bind(null,t,dt,pn),r);break}pr(t,dt,pn);break;case 5:pr(t,dt,pn);break;default:throw Error(T(329))}}}return gt(t,we()),t.callbackNode===n?Uv.bind(null,t):null}function _h(t,e){var n=Cs;return t.current.memoizedState.isDehydrated&&(Er(t,e).flags|=256),t=al(t,e),t!==2&&(e=dt,dt=n,e!==null&&wh(e)),t}function wh(t){dt===null?dt=t:dt.push.apply(dt,t)}function vC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~jd,e&=~Vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function hm(t){if(Y&6)throw Error(T(327));gi();var e=ja(t,0);if(!(e&1))return gt(t,we()),null;var n=al(t,e);if(t.tag!==0&&n===2){var r=Wc(t);r!==0&&(e=r,n=_h(t,r))}if(n===1)throw n=Gs,Er(t,0),Mn(t,e),gt(t,we()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pr(t,dt,pn),gt(t,we()),null}function qd(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(Ni=we()+500,Fl&&ar())}}function br(t){Bn!==null&&Bn.tag===0&&!(Y&6)&&gi();var e=Y;Y|=1;var n=Ft.transition,r=te;try{if(Ft.transition=null,te=1,t)return t()}finally{te=r,Ft.transition=n,Y=e,!(Y&6)&&ar()}}function Wd(){Tt=li.current,ue(li)}function Er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Nd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ga();break;case 3:ki(),ue(pt),ue(nt),Ld();break;case 5:$d(r);break;case 4:ki();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:xd(r.type._context);break;case 22:case 23:Wd()}n=n.return}if(Re=t,ke=t=Gn(t.current,null),Ue=Tt=e,Ie=0,Gs=null,jd=Vl=xr=0,dt=Cs=null,vr!==null){for(e=0;e<vr.length;e++)if(n=vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vr=null}return t}function Vv(t,e){do{var n=ke;try{if(Dd(),Ia.current=rl,nl){for(var r=ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nl=!1}if(Dr=0,Le=Ne=ge=null,_s=!1,qs=0,Vd.current=null,n===null||n.return===null){Ie=1,Gs=e,ke=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Jp(o);if(m!==null){m.flags&=-257,Zp(m,o,a,s,e),m.mode&1&&Xp(s,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){Xp(s,u,e),Kd();break e}l=Error(T(426))}}else if(he&&a.mode&1){var E=Jp(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Zp(E,o,a,s,e),Id(Ti(l,a));break e}}s=l=Ti(l,a),Ie!==4&&(Ie=2),Cs===null?Cs=[s]:Cs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=Tv(s,l,e);Hp(s,p);break e;case 1:a=l;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wn===null||!Wn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Nv(s,a,e);Hp(s,C);break e}}s=s.return}while(s!==null)}qv(n)}catch(N){e=N,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(1)}function jv(){var t=il.current;return il.current=rl,t===null?rl:t}function Kd(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Re===null||!(xr&268435455)&&!(Vl&268435455)||Mn(Re,Ue)}function al(t,e){var n=Y;Y|=2;var r=jv();(Re!==t||Ue!==e)&&(pn=null,Er(t,e));do try{SC();break}catch(i){Vv(t,i)}while(1);if(Dd(),Y=n,il.current=r,ke!==null)throw Error(T(261));return Re=null,Ue=0,Ie}function SC(){for(;ke!==null;)Hv(ke)}function _C(){for(;ke!==null&&!q_();)Hv(ke)}function Hv(t){var e=Kv(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?qv(t):ke=e,Vd.current=null}function qv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fC(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,ke=null;return}}else if(n=dC(n,e,Tt),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Ie===0&&(Ie=5)}function pr(t,e,n){var r=te,i=Ft.transition;try{Ft.transition=null,te=1,wC(t,e,n,r)}finally{Ft.transition=i,te=r}return null}function wC(t,e,n,r){do gi();while(Bn!==null);if(Y&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tw(t,s),t===Re&&(ke=Re=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xo||(Xo=!0,Gv(Va,function(){return gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ft.transition,Ft.transition=null;var o=te;te=1;var a=Y;Y|=4,Vd.current=null,mC(t,n),Bv(n,t),Uw(Jc),Ha=!!Xc,Jc=Xc=null,t.current=n,gC(n),W_(),Y=a,te=o,Ft.transition=s}else t.current=n;if(Xo&&(Xo=!1,Bn=t,ol=i),s=t.pendingLanes,s===0&&(Wn=null),Q_(n.stateNode),gt(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sl)throw sl=!1,t=vh,vh=null,t;return ol&1&&t.tag!==0&&gi(),s=t.pendingLanes,s&1?t===Sh?Es++:(Es=0,Sh=t):Es=0,ar(),null}function gi(){if(Bn!==null){var t=ky(ol),e=Ft.transition,n=te;try{if(Ft.transition=null,te=16>t?16:t,Bn===null)var r=!1;else{if(t=Bn,Bn=null,ol=0,Y&6)throw Error(T(331));var i=Y;for(Y|=4,O=t.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ws(8,c,s)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var d=c.sibling,m=c.return;if(Rv(c),c===u){O=null;break}if(d!==null){d.return=m,O=d;break}O=m}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ws(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,O=p;break e}O=s.return}}var f=t.current;for(O=f;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=f;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ul(9,a)}}catch(N){ve(a,a.return,N)}if(a===o){O=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,O=C;break e}O=a.return}}if(Y=i,ar(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Ol,t)}catch{}r=!0}return r}finally{te=n,Ft.transition=e}}return!1}function dm(t,e,n){e=Ti(n,e),e=Tv(t,e,1),t=qn(t,e,1),e=lt(),t!==null&&(ho(t,1,e),gt(t,e))}function ve(t,e,n){if(t.tag===3)dm(t,t,n);else for(;e!==null;){if(e.tag===3){dm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=Ti(n,t),t=Nv(e,t,1),e=qn(e,t,1),t=lt(),e!==null&&(ho(e,1,t),gt(e,t));break}}e=e.return}}function CC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Ue&n)===n&&(Ie===4||Ie===3&&(Ue&130023424)===Ue&&500>we()-Hd?Er(t,0):jd|=n),gt(t,e)}function Wv(t,e){e===0&&(t.mode&1?(e=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):e=1);var n=lt();t=kn(t,e),t!==null&&(ho(t,e,n),gt(t,n))}function EC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wv(t,n)}function kC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),Wv(t,n)}var Kv;Kv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,hC(t,e,n);ft=!!(t.flags&131072)}else ft=!1,he&&e.flags&1048576&&Yy(e,Xa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Da(t,e),t=e.pendingProps;var i=wi(e,nt.current);mi(e,n),i=Md(null,e,r,t,i,n);var s=Fd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,Qa(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ad(e),i.updater=Bl,e.stateNode=i,i._reactInternals=e,ah(e,r,t,n),e=ch(null,e,r,!0,s,n)):(e.tag=0,he&&s&&Td(e),ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Da(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NC(r),t=Wt(r,t),i){case 0:e=uh(null,e,r,t,n);break e;case 1:e=nm(null,e,r,t,n);break e;case 11:e=em(null,e,r,t,n);break e;case 14:e=tm(null,e,r,Wt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),uh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),nm(t,e,r,i,n);case 3:e:{if(xv(e),t===null)throw Error(T(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ev(t,e),el(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ti(Error(T(423)),e),e=rm(t,e,r,n,i);break e}else if(r!==i){i=Ti(Error(T(424)),e),e=rm(t,e,r,n,i);break e}else for(Pt=Hn(e.stateNode.containerInfo.firstChild),Dt=e,he=!0,Gt=null,n=iv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ci(),r===i){e=Tn(t,e,n);break e}ot(t,e,r,n)}e=e.child}return e;case 5:return sv(e),t===null&&ih(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zc(r,i)?o=null:s!==null&&Zc(r,s)&&(e.flags|=32),Dv(t,e),ot(t,e,o,n),e.child;case 6:return t===null&&ih(e),null;case 13:return bv(t,e,n);case 4:return Od(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ei(e,null,r,n):ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),em(t,e,r,i,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,oe(Ja,r._currentValue),r._currentValue=o,s!==null)if(Jt(s.value,o)){if(s.children===i.children&&!pt.current){e=Tn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),sh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mi(e,n),i=Bt(i),r=r(i),e.flags|=1,ot(t,e,r,n),e.child;case 14:return r=e.type,i=Wt(r,e.pendingProps),i=Wt(r.type,i),tm(t,e,r,i,n);case 15:return Iv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wt(r,i),Da(t,e),e.tag=1,mt(r)?(t=!0,Qa(e)):t=!1,mi(e,n),nv(e,r,i),ah(e,r,i,n),ch(null,e,r,!0,t,n);case 19:return Av(t,e,n);case 22:return Pv(t,e,n)}throw Error(T(156,e.tag))};function Gv(t,e){return _y(t,e)}function TC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new TC(t,e,n,r)}function Gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NC(t){if(typeof t=="function")return Gd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fd)return 11;if(t===pd)return 14}return 2}function Gn(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Aa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jr:return kr(n.children,i,s,e);case dd:o=8,i|=8;break;case bc:return t=Mt(12,n,e,i|2),t.elementType=bc,t.lanes=s,t;case Ac:return t=Mt(13,n,e,i),t.elementType=Ac,t.lanes=s,t;case Oc:return t=Mt(19,n,e,i),t.elementType=Oc,t.lanes=s,t;case ry:return jl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ty:o=10;break e;case ny:o=9;break e;case fd:o=11;break e;case pd:o=14;break e;case $n:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function kr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function jl(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=ry,t.lanes=n,t.stateNode={isHidden:!1},t}function nc(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function rc(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qd(t,e,n,r,i,s,o,a,l){return t=new IC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(s),t}function PC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qv(t){if(!t)return tr;t=t._reactInternals;e:{if(Mr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(mt(n))return Gy(t,n,e)}return e}function Yv(t,e,n,r,i,s,o,a,l){return t=Qd(n,r,!0,t,i,s,o,a,l),t.context=Qv(null),n=t.current,r=lt(),i=Kn(n),s=Sn(r,i),s.callback=e??null,qn(n,s,i),t.current.lanes=i,ho(t,i,r),gt(t,r),t}function Hl(t,e,n,r){var i=e.current,s=lt(),o=Kn(i);return n=Qv(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qn(i,e,o),t!==null&&(Xt(t,i,o,s),Na(t,i,o)),o}function ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yd(t,e){fm(t,e),(t=t.alternate)&&fm(t,e)}function DC(){return null}var Xv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xd(t){this._internalRoot=t}ql.prototype.render=Xd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Hl(t,e,null,null)};ql.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;br(function(){Hl(null,t,null,null)}),e[En]=null}};function ql(t){this._internalRoot=t}ql.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&Dy(t)}};function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pm(){}function xC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ll(o);s.call(u)}}var o=Yv(e,r,t,0,null,!1,!1,"",pm);return t._reactRootContainer=o,t[En]=o.current,zs(t.nodeType===8?t.parentNode:t),br(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ll(l);a.call(u)}}var l=Qd(t,0,!1,null,null,!1,!1,"",pm);return t._reactRootContainer=l,t[En]=l.current,zs(t.nodeType===8?t.parentNode:t),br(function(){Hl(e,l,n,r)}),l}function Kl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ll(o);a.call(l)}}Hl(e,o,t,i)}else o=xC(n,e,t,i,r);return ll(o)}Ty=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=us(e.pendingLanes);n!==0&&(yd(e,n|1),gt(e,we()),!(Y&6)&&(Ni=we()+500,ar()))}break;case 13:br(function(){var r=kn(t,1);if(r!==null){var i=lt();Xt(r,t,1,i)}}),Yd(t,1)}};vd=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=lt();Xt(e,t,134217728,n)}Yd(t,134217728)}};Ny=function(t){if(t.tag===13){var e=Kn(t),n=kn(t,e);if(n!==null){var r=lt();Xt(n,t,e,r)}Yd(t,e)}};Iy=function(){return te};Py=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};jc=function(t,e,n){switch(e){case"input":if(Rc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ml(r);if(!i)throw Error(T(90));sy(r),Rc(r,i)}}}break;case"textarea":ay(t,n);break;case"select":e=n.value,e!=null&&hi(t,!!n.multiple,e,!1)}};py=qd;my=br;var bC={usingClientEntryPoint:!1,Events:[po,ni,Ml,dy,fy,qd]},rs={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AC={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vy(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||DC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Ol=Jo.inject(AC),un=Jo}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bC;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(e))throw Error(T(200));return PC(t,e,null,n)};At.createRoot=function(t,e){if(!Jd(t))throw Error(T(299));var n=!1,r="",i=Xv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qd(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,zs(t.nodeType===8?t.parentNode:t),new Xd(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=vy(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return br(t)};At.hydrate=function(t,e,n){if(!Wl(e))throw Error(T(200));return Kl(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!Jd(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Xv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yv(e,null,t,1,n??null,i,!1,s,o),t[En]=e.current,zs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ql(e)};At.render=function(t,e,n){if(!Wl(e))throw Error(T(200));return Kl(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!Wl(t))throw Error(T(40));return t._reactRootContainer?(br(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};At.unstable_batchedUpdates=qd;At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wl(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Kl(t,e,n,!1,r)};At.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=At})(D_);var mm=Pc;Ic.createRoot=mm.createRoot,Ic.hydrateRoot=mm.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(this,arguments)}var zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zn||(zn={}));const gm="popstate";function OC(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Fr(i.location.hash.substr(1));return Ch("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:ul(s))}function r(i,s){Gl(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return LC(e,n,r,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $C(){return Math.random().toString(36).substr(2,8)}function ym(t,e){return{usr:t.state,key:t.key,idx:e}}function Ch(t,e,n,r){return n===void 0&&(n=null),Qs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fr(e):e,{state:n,key:e&&e.key||r||$C()})}function ul(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Qs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=zn.Pop;let E=c(),p=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:p})}function d(E,p){a=zn.Push;let f=Ch(y.location,E,p);n&&n(f,E),u=c()+1;let g=ym(f,u),C=y.createHref(f);try{o.pushState(g,"",C)}catch{i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function m(E,p){a=zn.Replace;let f=Ch(y.location,E,p);n&&n(f,E),u=c();let g=ym(f,u),C=y.createHref(f);o.replaceState(g,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function _(E){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof E=="string"?E:ul(E);return Pe(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let y={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gm,h),l=E,()=>{i.removeEventListener(gm,h),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let p=_(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:m,go(E){return o.go(E)}};return y}var vm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vm||(vm={}));function RC(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fr(e):e,i=Zd(r.pathname||"/",n);if(i==null)return null;let s=Jv(t);MC(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=WC(s[a],QC(i));return o}function Jv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jv(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:HC(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Zv(s.path))i(s,o,l)}),e}function Zv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Zv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function MC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FC=/^:\w+$/,BC=3,zC=2,UC=1,VC=10,jC=-2,Sm=t=>t==="*";function HC(t,e){let n=t.split("/"),r=n.length;return n.some(Sm)&&(r+=jC),e&&(r+=zC),n.filter(i=>!Sm(i)).reduce((i,s)=>i+(FC.test(s)?BC:s===""?UC:VC),r)}function qC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WC(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=KC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Qn([i,c.pathname]),pathnameBase:ZC(Qn([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Qn([i,c.pathnameBase]))}return s}function KC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=YC(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function GC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QC(t){try{return decodeURI(t)}catch(e){return Gl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function YC(t,e){try{return decodeURIComponent(t)}catch(n){return Gl(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Zd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fr(t):t;return{pathname:n?n.startsWith("/")?n:JC(n,e):e,search:eE(r),hash:tE(i)}}function JC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ic(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fr(t):(i=Qs({},t),Pe(!i.pathname||!i.pathname.includes("?"),ic("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),ic("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),ic("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=XC(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Qn=t=>t.join("/").replace(/\/\/+/g,"/"),ZC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const iE=typeof Object.is=="function"?Object.is:rE,{useState:sE,useEffect:oE,useLayoutEffect:aE,useDebugValue:lE}=Tc;function uE(t,e,n){const r=e(),[{inst:i},s]=sE({inst:{value:r,getSnapshot:e}});return aE(()=>{i.value=r,i.getSnapshot=e,sc(i)&&s({inst:i})},[t,r,e]),oE(()=>(sc(i)&&s({inst:i}),t(()=>{sc(i)&&s({inst:i})})),[t]),lE(r),r}function sc(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!iE(n,r)}catch{return!0}}function cE(t,e,n){return e()}const hE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dE=!hE,fE=dE?cE:uE;"useSyncExternalStore"in Tc&&(t=>t.useSyncExternalStore)(Tc);const nS=w.createContext(null),ef=w.createContext(null),Fi=w.createContext(null),Ql=w.createContext(null),Br=w.createContext({outlet:null,matches:[]}),rS=w.createContext(null);function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}function pE(t,e){let{relative:n}=e===void 0?{}:e;go()||Pe(!1);let{basename:r,navigator:i}=w.useContext(Fi),{hash:s,pathname:o,search:a}=tf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function go(){return w.useContext(Ql)!=null}function yo(){return go()||Pe(!1),w.useContext(Ql).location}function iS(){go()||Pe(!1);let{basename:t,navigator:e}=w.useContext(Fi),{matches:n}=w.useContext(Br),{pathname:r}=yo(),i=JSON.stringify(eS(n).map(a=>a.pathnameBase)),s=w.useRef(!1);return w.useEffect(()=>{s.current=!0}),w.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=tS(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Qn([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function mE(){let{matches:t}=w.useContext(Br),e=t[t.length-1];return e?e.params:{}}function tf(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=w.useContext(Br),{pathname:i}=yo(),s=JSON.stringify(eS(r).map(o=>o.pathnameBase));return w.useMemo(()=>tS(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function gE(t,e){go()||Pe(!1);let{navigator:n}=w.useContext(Fi),r=w.useContext(ef),{matches:i}=w.useContext(Br),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=yo(),u;if(e){var c;let y=typeof e=="string"?Fr(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Pe(!1),u=y}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",m=RC(t,{pathname:d}),_=_E(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Qn([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Qn([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return e&&_?w.createElement(Ql.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zn.Pop}},_):_}function yE(){let t=kE(),e=nE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,s)}class vE extends w.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(Br.Provider,{value:this.props.routeContext},w.createElement(rS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SE(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(nS);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Br.Provider,{value:e},r)}function _E(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Pe(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=w.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=w.createElement(yE,null));let c=e.concat(r.slice(0,a+1)),h=()=>{let d=s;return l?d=u:o.route.Component?d=w.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),w.createElement(SE,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?w.createElement(vE,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var _m;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(_m||(_m={}));var cl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(cl||(cl={}));function wE(t){let e=w.useContext(ef);return e||Pe(!1),e}function CE(t){let e=w.useContext(Br);return e||Pe(!1),e}function EE(t){let e=CE(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function kE(){var t;let e=w.useContext(rS),n=wE(cl.UseRouteError),r=EE(cl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function mr(t){Pe(!1)}function TE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zn.Pop,navigator:s,static:o=!1}=t;go()&&Pe(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Fr(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:m="default"}=r,_=w.useMemo(()=>{let y=Zd(u,a);return y==null?null:{location:{pathname:y,search:c,hash:h,state:d,key:m},navigationType:i}},[a,u,c,h,d,m,i]);return _==null?null:w.createElement(Fi.Provider,{value:l},w.createElement(Ql.Provider,{children:n,value:_}))}function NE(t){let{children:e,location:n}=t,r=w.useContext(nS),i=r&&!e?r.router.routes:kh(e);return gE(i,n)}var wm;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(wm||(wm={}));new Promise(()=>{});function kh(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,kh(r.props.children,s));return}r.type!==mr&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}function sS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function IE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PE(t,e){return t.button===0&&(!e||e==="_self")&&!IE(t)}const DE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],xE=["aria-current","caseSensitive","className","end","style","to","children"];function bE(t){let{basename:e,children:n,window:r}=t,i=w.useRef();i.current==null&&(i.current=OC({window:r,v5Compat:!0}));let s=i.current,[o,a]=w.useState({action:s.action,location:s.location});return w.useLayoutEffect(()=>s.listen(a),[s]),w.createElement(TE,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$E=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=sS(e,DE),{basename:d}=w.useContext(Fi),m,_=!1;if(typeof u=="string"&&OE.test(u)&&(m=u,AE)){let f=new URL(window.location.href),g=u.startsWith("//")?new URL(f.protocol+u):new URL(u),C=Zd(g.pathname,d);g.origin===f.origin&&C!=null?u=C+g.search+g.hash:_=!0}let y=pE(u,{relative:i}),E=LE(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function p(f){r&&r(f),f.defaultPrevented||E(f)}return w.createElement("a",hl({},h,{href:m||y,onClick:_||s?r:p,ref:n,target:l}))}),Oe=w.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=sS(e,xE),h=tf(l,{relative:c.relative}),d=yo(),m=w.useContext(ef),{navigator:_}=w.useContext(Fi),y=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,E=d.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(E=E.toLowerCase(),p=p?p.toLowerCase():null,y=y.toLowerCase());let f=E===y||!o&&E.startsWith(y)&&E.charAt(y.length)==="/",g=p!=null&&(p===y||!o&&p.startsWith(y)&&p.charAt(y.length)==="/"),C=f?r:void 0,N;typeof s=="function"?N=s({isActive:f,isPending:g}):N=[s,f?"active":null,g?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:f,isPending:g}):a;return w.createElement($E,hl({},c,{"aria-current":C,className:N,ref:n,style:P,to:l}),typeof u=="function"?u({isActive:f,isPending:g}):u)});var Cm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Cm||(Cm={}));var Em;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Em||(Em={}));function LE(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=iS(),l=yo(),u=tf(t,{relative:o});return w.useCallback(c=>{if(PE(c,n)){c.preventDefault();let h=r!==void 0?r:ul(l)===ul(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}const RE="_SearchContainer_1cyht_2",ME="_SearchBar_1cyht_7",km={SearchContainer:RE,SearchBar:ME},FE=(t,e)=>{const n=t.toLowerCase().split(" "),r=e.name.toLowerCase(),i=n.some(a=>r.includes(a)),s=n.some(a=>r.includes(a+"s")),o=oS(n).some(a=>r.includes(a));return i||s||o},BE=(t,e)=>{const n=t.toLowerCase().split(" "),r=e.description.toLowerCase().split(" "),i=n.some(a=>r.includes(a)),s=n.some(a=>r.includes(a+"s")),o=oS(n).some(a=>r.includes(a));return i||s||o},zE=(t,e)=>{const n=t.toLowerCase().split(" "),r=e.categories,i=n.some(o=>r.includes(o)),s=n.some(o=>r.includes(o+"s"));return i||s},UE=(t,e)=>{if(e.colours){const n=e.colours;return t.toLowerCase().split(" ").some(s=>n.includes(s))}else return!1},oS=t=>{let e=[];return t.forEach(n=>{n.charAt(n.length-1)==="s"?e.push(n.slice(0,n.length-1)):e.push(n)}),e},Bi=w.createContext(),VE=({children:t})=>{const[e,n]=w.useState([]),r={products:e,setProducts:n};return S(Bi.Provider,{value:r,children:t})},zr=w.createContext(),jE=({children:t})=>{const{products:e}=w.useContext(Bi),[n,r]=w.useState(""),[i,s]=w.useState([]),[o,a]=w.useState(e.length),[l,u]=w.useState(!1),m={search:n,setSearch:r,matchedItems:i,setMatchedItems:s,foundItemCount:o,setFoundItemCount:a,handleSearchChange:_=>{_.preventDefault(),r(_.target.value)},findMatches:()=>{const _=e.filter(y=>FE(n,y)||BE(n,y)||zE(n,y)||UE(n,y));_.length>0?(u(!1),s(_)):u(!0),a(_.length)},failedSearch:l,setFailedSearch:u,resetSearch:()=>{u(!1),r(""),s([]),a(e.length)}};return S(zr.Provider,{value:m,children:t})},HE=()=>{const{search:t,handleSearchChange:e,findMatches:n}=w.useContext(zr),r=iS(),i=s=>{s.keyCode===13&&(r("/shop"),n())};return S("div",{className:km.SearchContainer,children:S("input",{className:km.SearchBar,type:"text",value:t,placeholder:"Search by keyword",onChange:e,onKeyDown:i})})},qE="_NavHolder_wvkyn_6",WE="_DesktopNav_wvkyn_10",KE="_DesktopNav_Tabs_wvkyn_17",GE="_DesktopNav_Tabs_Img_wvkyn_22",QE="_DesktopNav_Tabs_TextLink_wvkyn_25",YE="_DesktopNav_SearchContainer_wvkyn_33",XE="_DesktopNav_SavedItems_wvkyn_40",JE="_DesktopNav_CartContainer_wvkyn_48",ZE="_DesktopNav_CartContainer_Default_wvkyn_56",ek="_DesktopNav_CartContainer_Num_wvkyn_59",tk="_DesktopNav_CartContainer_Img_wvkyn_71",jt={NavHolder:qE,DesktopNav:WE,DesktopNav_Tabs:KE,DesktopNav_Tabs_Img:GE,DesktopNav_Tabs_TextLink:QE,DesktopNav_SearchContainer:YE,DesktopNav_SavedItems:XE,DesktopNav_CartContainer:JE,DesktopNav_CartContainer_Default:ZE,DesktopNav_CartContainer_Num:ek,DesktopNav_CartContainer_Img:tk},An=w.createContext(),nk=({children:t})=>{const[e,n]=w.useState(0),[r,i]=w.useState(0),[s,o]=w.useState(0),[a,l]=w.useState([]),u={totalCartCount:e,setTotalCartCount:n,priceSubtotal:r,setPriceSubtotal:i,totalSavings:s,setTotalSavings:o,cartProducts:a,setCartProducts:l};return S(An.Provider,{value:u,children:t})},zi=()=>{const{totalCartCount:t}=w.useContext(An),{resetSearch:e}=w.useContext(zr);return w.useEffect(()=>{},[t]),b("div",{className:jt.NavHolder,children:[S("div",{}),b("div",{className:jt.DesktopNav,children:[b("div",{className:jt.DesktopNav_Tabs,children:[S(Oe,{to:"/",children:S("img",{className:jt.DesktopNav_Tabs_Img,src:"./src/assets/sillySocksLogo.png"})}),S(Oe,{to:"/shop",className:jt.DesktopNav_Tabs_TextLink,onClick:e,children:"SHOP"})]}),S("div",{className:jt.DesktopNav_SearchContainer,children:S(HE,{className:jt.DesktopNav_SearchContainer_SearchBar})}),S(Oe,{to:"/saved-items",children:S("div",{className:jt.DesktopNav_SavedItems,children:""})}),S(Oe,{to:"/checkout",children:b("div",{className:jt.DesktopNav_CartContainer,children:[t>0&&S("div",{className:jt.DesktopNav_CartContainer_Num,children:t}),S("img",{className:jt.DesktopNav_CartContainer_Img,src:"React-Retail-Project/src/assets/shoppingcart.png"})]})})]})]})},rk="_FooterContainer_8ggks_2",ik="_Main_8ggks_9",sk="_Main_Subheading_8ggks_18",ok="_Main_Para_8ggks_25",ak="_Main_Links_8ggks_31",lk="_Subscribe_8ggks_41",uk="_Subscribe_Signup_8ggks_44",ck="_Subscribe_Signup_Input_8ggks_49",hk="_Subscribe_Signup_Button_8ggks_57",dk="_Company_8ggks_66",fk="_Support_8ggks_73",pk="_BottomLine_8ggks_80",mk="_BottomLine_Para_8ggks_87",gk="_BottomLine_Logo_8ggks_93",yk="_BottomLine_SocialMedia_8ggks_97",vk="_BottomLine_SocialMedia_Icon_8ggks_104",se={FooterContainer:rk,Main:ik,Main_Subheading:sk,Main_Para:ok,Main_Links:ak,Subscribe:lk,Subscribe_Signup:uk,Subscribe_Signup_Input:ck,Subscribe_Signup_Button:hk,Company:dk,Support:fk,BottomLine:pk,BottomLine_Para:mk,BottomLine_Logo:gk,BottomLine_SocialMedia:yk,BottomLine_SocialMedia_Icon:vk},Ui=()=>b("div",{className:se.FooterContainer,children:[b("div",{className:se.Main,children:[b("div",{className:se.Subscribe,children:[S("h4",{className:se.Main_Subheading,children:"STAY INFORMED"}),b("div",{className:se.Subscribe_Signup,children:[S("input",{className:se.Subscribe_Signup_Input,type:"text"}),S(Oe,{to:"/not-a-real-company",children:S("button",{className:se.Subscribe_Signup_Button,type:"submit",children:"Sign Up"})})]}),S("p",{className:se.Main_Para,children:"By entering your email address and submitting this form, you consent to receive emails (such as promotion codes and cart reminders) from Silly Socks at the email address provided. Consent is not a condition of any purchase. You can unsubscribe at any time by clicking the unsubscribe link in one of our emails."})]}),b("div",{className:se.Company,children:[S("h4",{className:se.Main_Subheading,children:"COMPANY"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"About Us"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"Sustainability Statement"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"Privacy Policy"})]}),b("div",{className:se.Support,children:[S("h4",{className:se.Main_Subheading,children:"HELP & SUPPORT"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"Refund Policy"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"Shipping"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"Contact Us"}),S(Oe,{to:"/not-a-real-company",className:se.Main_Links,children:"Terms and Conditions"})]})]}),b("div",{className:se.BottomLine,children:[S("p",{className:se.BottomLine_Para,children:" 2023 All Rights Reserved"}),S("img",{className:se.BottomLine_Logo,src:"./src/assets/sillySocksSingleLinePurple.png"}),b("div",{className:se.BottomLine_SocialMedia,children:[S(Oe,{to:"/not-a-real-company",children:S("img",{className:se.BottomLine_SocialMedia_Icon,src:"https://cdn-icons-png.flaticon.com/512/124/124010.png"})}),S(Oe,{to:"/not-a-real-company",children:S("img",{className:se.BottomLine_SocialMedia_Icon,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Instagram_logo_2022.svg/1024px-Instagram_logo_2022.svg.png"})}),S(Oe,{to:"/not-a-real-company",children:S("img",{className:se.BottomLine_SocialMedia_Icon,src:"https://cdn-icons-png.flaticon.com/512/124/124021.png"})})]})]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(d=64)),r.push(n[c],n[h],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new _k;const d=s<<2|a>>4;if(r.push(d),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wk=function(t){const e=aS(t);return lS.encodeByteArray(e,!0)},dl=function(t){return wk(t).replace(/\./g,"")},Ck=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=()=>Ek().__FIREBASE_DEFAULTS__,Tk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},uS=()=>{try{return kk()||Tk()||Nk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ik=t=>{var e,n;return(n=(e=uS())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pk=t=>{const e=Ik(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dk=()=>{var t;return(t=uS())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[dl(JSON.stringify(n)),dl(JSON.stringify(o)),a].join(".")}function Ak(){try{return typeof indexedDB=="object"}catch{return!1}}function Ok(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="FirebaseError";class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$k,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cS.prototype.create)}}class cS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Lk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vi(i,a,r)}}function Lk(t,e){return t.replace(Rk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Rk=/\{\$([^}]+)}/g;function Th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Tm(s)&&Tm(o)){if(!Th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bk(e))try{this.getOrInitializeService({instanceIdentifier:gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gr){return this.instances.has(e)}getOptions(e=gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gr){return this.component?this.component.multipleInstances?e:gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fk(t){return t===gr?void 0:t}function Bk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const Uk={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Vk=J.INFO,jk={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Hk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hS{constructor(e){this.name=e,this._logLevel=Vk,this._logHandler=Hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const qk=(t,e)=>e.some(n=>t instanceof n);let Nm,Im;function Wk(){return Nm||(Nm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kk(){return Im||(Im=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,Nh=new WeakMap,fS=new WeakMap,oc=new WeakMap,nf=new WeakMap;function Gk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dS.set(n,t)}).catch(()=>{}),nf.set(e,t),e}function Qk(t){if(Nh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nh.set(t,e)}let Ih={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yk(t){Ih=t(Ih)}function Xk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ac(this),e,...n);return fS.set(r,e.sort?e.sort():[e]),Yn(r)}:Kk().includes(t)?function(...e){return t.apply(ac(this),e),Yn(dS.get(this))}:function(...e){return Yn(t.apply(ac(this),e))}}function Jk(t){return typeof t=="function"?Xk(t):(t instanceof IDBTransaction&&Qk(t),qk(t,Wk())?new Proxy(t,Ih):t)}function Yn(t){if(t instanceof IDBRequest)return Gk(t);if(oc.has(t))return oc.get(t);const e=Jk(t);return e!==t&&(oc.set(t,e),nf.set(e,t)),e}const ac=t=>nf.get(t);function Zk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yn(o.result),l.oldVersion,l.newVersion,Yn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const eT=["get","getKey","getAll","getAllKeys","count"],tT=["put","add","delete","clear"],lc=new Map;function Pm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lc.get(e))return lc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eT.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return lc.set(e,s),s}Yk(t=>({...t,get:(e,n,r)=>Pm(e,n)||t.get(e,n,r),has:(e,n)=>!!Pm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ph="@firebase/app",Dm="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new hS("@firebase/app"),iT="@firebase/app-compat",sT="@firebase/analytics-compat",oT="@firebase/analytics",aT="@firebase/app-check-compat",lT="@firebase/app-check",uT="@firebase/auth",cT="@firebase/auth-compat",hT="@firebase/database",dT="@firebase/database-compat",fT="@firebase/functions",pT="@firebase/functions-compat",mT="@firebase/installations",gT="@firebase/installations-compat",yT="@firebase/messaging",vT="@firebase/messaging-compat",ST="@firebase/performance",_T="@firebase/performance-compat",wT="@firebase/remote-config",CT="@firebase/remote-config-compat",ET="@firebase/storage",kT="@firebase/storage-compat",TT="@firebase/firestore",NT="@firebase/firestore-compat",IT="firebase",PT="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="[DEFAULT]",DT={[Ph]:"fire-core",[iT]:"fire-core-compat",[oT]:"fire-analytics",[sT]:"fire-analytics-compat",[lT]:"fire-app-check",[aT]:"fire-app-check-compat",[uT]:"fire-auth",[cT]:"fire-auth-compat",[hT]:"fire-rtdb",[dT]:"fire-rtdb-compat",[fT]:"fire-fn",[pT]:"fire-fn-compat",[mT]:"fire-iid",[gT]:"fire-iid-compat",[yT]:"fire-fcm",[vT]:"fire-fcm-compat",[ST]:"fire-perf",[_T]:"fire-perf-compat",[wT]:"fire-rc",[CT]:"fire-rc-compat",[ET]:"fire-gcs",[kT]:"fire-gcs-compat",[TT]:"fire-fst",[NT]:"fire-fst-compat","fire-js":"fire-js",[IT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Map,xh=new Map;function xT(t,e){try{t.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(xh.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;xh.set(e,t);for(const n of fl.values())xT(n,t);return!0}function bT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xn=new cS("app","Firebase",AT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=PT;function pS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=Dk()),!n)throw Xn.create("no-options");const s=fl.get(i);if(s){if(Th(n,s.options)&&Th(r,s.config))return s;throw Xn.create("duplicate-app",{appName:i})}const o=new zk(i);for(const l of xh.values())o.addComponent(l);const a=new OT(n,r,o);return fl.set(i,a),a}function LT(t=Dh){const e=fl.get(t);if(!e&&t===Dh)return pS();if(!e)throw Xn.create("no-app",{appName:t});return e}function yi(t,e,n){var r;let i=(r=DT[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}pl(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebase-heartbeat-database",MT=1,Xs="firebase-heartbeat-store";let uc=null;function mS(){return uc||(uc=Zk(RT,MT,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xs)}}}).catch(t=>{throw Xn.create("idb-open",{originalErrorMessage:t.message})})),uc}async function FT(t){try{return(await mS()).transaction(Xs).objectStore(Xs).get(gS(t))}catch(e){if(e instanceof Vi)Ar.warn(e.message);else{const n=Xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(n.message)}}}async function xm(t,e){try{const r=(await mS()).transaction(Xs,"readwrite");return await r.objectStore(Xs).put(e,gS(t)),r.done}catch(n){if(n instanceof Vi)Ar.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ar.warn(r.message)}}}function gS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=1024,zT=30*24*60*60*1e3;class UT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=zT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bm(),{heartbeatsToSend:n,unsentEntries:r}=VT(this._heartbeatsCache.heartbeats),i=dl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function bm(){return new Date().toISOString().substring(0,10)}function VT(t,e=BT){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Am(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Am(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ak()?Ok().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Am(t){return dl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){pl(new Ys("platform-logger",e=>new nT(e),"PRIVATE")),pl(new Ys("heartbeat",e=>new UT(e),"PRIVATE")),yi(Ph,Dm,t),yi(Ph,Dm,"esm2017"),yi("fire-js","")}HT("");var qT="firebase",WT="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(qT,WT,"app");var KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,rf=rf||{},U=KT||self;function ml(){}function Yl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function vo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function GT(t){return Object.prototype.hasOwnProperty.call(t,cc)&&t[cc]||(t[cc]=++QT)}var cc="closure_uid_"+(1e9*Math.random()>>>0),QT=0;function YT(t,e,n){return t.call.apply(t.bind,arguments)}function XT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ze=YT:Ze=XT,Ze.apply(null,arguments)}function Zo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function lr(){this.s=this.s,this.o=this.o}var JT=0;lr.prototype.s=!1;lr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),JT!=0)&&GT(this)};lr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Om(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yl(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function et(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ZT=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{U.addEventListener("test",ml,e),U.removeEventListener("test",ml,e)}catch{}return t}();function gl(t){return/^[\s\xa0]*$/.test(t)}var $m=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function hc(t,e){return t<e?-1:t>e?1:0}function Xl(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function ln(t){return Xl().indexOf(t)!=-1}function of(t){return of[" "](t),t}of[" "]=ml;function eN(t){var e=rN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var tN=ln("Opera"),Ii=ln("Trident")||ln("MSIE"),vS=ln("Edge"),bh=vS||Ii,SS=ln("Gecko")&&!(Xl().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge"))&&!(ln("Trident")||ln("MSIE"))&&!ln("Edge"),nN=Xl().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge");function _S(){var t=U.document;return t?t.documentMode:void 0}var yl;e:{var dc="",fc=function(){var t=Xl();if(SS)return/rv:([^\);]+)(\)|;)/.exec(t);if(vS)return/Edge\/([\d\.]+)/.exec(t);if(Ii)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nN)return/WebKit\/(\S+)/.exec(t);if(tN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fc&&(dc=fc?fc[1]:""),Ii){var pc=_S();if(pc!=null&&pc>parseFloat(dc)){yl=String(pc);break e}}yl=dc}var rN={};function iN(){return eN(function(){let t=0;const e=$m(String(yl)).split("."),n=$m("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=hc(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||hc(i[2].length==0,s[2].length==0)||hc(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Ah;if(U.document&&Ii){var Lm=_S();Ah=Lm||parseInt(yl,10)||void 0}else Ah=void 0;var sN=Ah;function Js(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SS){e:{try{of(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Js.X.h.call(this)}}qe(Js,et);var oN={2:"touch",3:"pen",4:"mouse"};Js.prototype.h=function(){Js.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var So="closure_listenable_"+(1e6*Math.random()|0),aN=0;function lN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++aN,this.ba=this.ea=!1}function Jl(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function af(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function wS(t){const e={};for(const n in t)e[n]=t[n];return e}const Rm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Rm.length;s++)n=Rm[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zl(t){this.src=t,this.g={},this.h=0}Zl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=$h(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new lN(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Oh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Jl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $h(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var lf="closure_lm_"+(1e6*Math.random()|0),mc={};function ES(t,e,n,r,i){if(r&&r.once)return TS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ES(t,e[s],n,r,i);return null}return n=hf(n),t&&t[So]?t.N(e,n,vo(r)?!!r.capture:!!r,i):kS(t,e,n,!1,r,i)}function kS(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vo(i)?!!i.capture:!!i,a=cf(t);if(a||(t[lf]=a=new Zl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=uN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ZT||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(IS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uN(){function t(n){return e.call(t.src,t.listener,n)}const e=cN;return t}function TS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TS(t,e[s],n,r,i);return null}return n=hf(n),t&&t[So]?t.O(e,n,vo(r)?!!r.capture:!!r,i):kS(t,e,n,!0,r,i)}function NS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)NS(t,e[s],n,r,i);else r=vo(r)?!!r.capture:!!r,n=hf(n),t&&t[So]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=$h(s,n,r,i),-1<n&&(Jl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=cf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$h(e,n,r,i)),(n=-1<t?e[t]:null)&&uf(n))}function uf(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[So])Oh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(IS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cf(e))?(Oh(n,t),n.h==0&&(n.src=null,e[lf]=null)):Jl(t)}}}function IS(t){return t in mc?mc[t]:mc[t]="on"+t}function cN(t,e){if(t.ba)t=!0;else{e=new Js(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&uf(t),t=n.call(r,e)}return t}function cf(t){return t=t[lf],t instanceof Zl?t:null}var gc="__closure_events_fn_"+(1e9*Math.random()>>>0);function hf(t){return typeof t=="function"?t:(t[gc]||(t[gc]=function(e){return t.handleEvent(e)}),t[gc])}function Me(){lr.call(this),this.i=new Zl(this),this.P=this,this.I=null}qe(Me,lr);Me.prototype[So]=!0;Me.prototype.removeEventListener=function(t,e,n,r){NS(this,t,e,n,r)};function Ve(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new et(e,t);else if(e instanceof et)e.target=e.target||t;else{var i=e;e=new et(r,t),CS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ea(o,r,!0,e)&&i}if(o=e.g=t,i=ea(o,r,!0,e)&&i,i=ea(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ea(o,r,!1,e)&&i}Me.prototype.M=function(){if(Me.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jl(n[r]);delete t.g[e],t.h--}}this.I=null};Me.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Me.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ea(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Oh(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var df=U.JSON.stringify;function hN(){var t=xS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dN{constructor(){this.h=this.g=null}add(e,n){const r=PS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fN,t=>t.reset());class fN{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pN(t){U.setTimeout(()=>{throw t},0)}function DS(t,e){Lh||mN(),Rh||(Lh(),Rh=!0),xS.add(t,e)}var Lh;function mN(){var t=U.Promise.resolve(void 0);Lh=function(){t.then(gN)}}var Rh=!1,xS=new dN;function gN(){for(var t;t=hN();){try{t.h.call(t.g)}catch(n){pN(n)}var e=PS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rh=!1}function eu(t,e){Me.call(this),this.h=t||1,this.g=e||U,this.j=Ze(this.lb,this),this.l=Date.now()}qe(eu,Me);L=eu.prototype;L.ca=!1;L.R=null;L.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ve(this,"tick"),this.ca&&(ff(this),this.start()))}};L.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ff(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}L.M=function(){eu.X.M.call(this),ff(this),delete this.g};function pf(t,e,n){if(typeof t=="function")n&&(t=Ze(t,n));else if(t&&typeof t.handleEvent=="function")t=Ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function bS(t){t.g=pf(()=>{t.g=null,t.i&&(t.i=!1,bS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yN extends lr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bS(this)}M(){super.M(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(t){lr.call(this),this.h=t,this.g={}}qe(Zs,lr);var Mm=[];function AS(t,e,n,r){Array.isArray(n)||(n&&(Mm[0]=n.toString()),n=Mm);for(var i=0;i<n.length;i++){var s=ES(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OS(t){af(t.g,function(e,n){this.g.hasOwnProperty(n)&&uf(e)},t),t.g={}}Zs.prototype.M=function(){Zs.X.M.call(this),OS(this)};Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tu(){this.g=!0}tu.prototype.Aa=function(){this.g=!1};function vN(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function SN(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ui(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wN(t,n)+(r?" "+r:"")})}function _N(t,e){t.info(function(){return"TIMEOUT: "+e})}tu.prototype.info=function(){};function wN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return df(n)}catch{return e}}var Ur={},Fm=null;function nu(){return Fm=Fm||new Me}Ur.Pa="serverreachability";function $S(t){et.call(this,Ur.Pa,t)}qe($S,et);function eo(t){const e=nu();Ve(e,new $S(e))}Ur.STAT_EVENT="statevent";function LS(t,e){et.call(this,Ur.STAT_EVENT,t),this.stat=e}qe(LS,et);function at(t){const e=nu();Ve(e,new LS(e,t))}Ur.Qa="timingevent";function RS(t,e){et.call(this,Ur.Qa,t),this.size=e}qe(RS,et);function _o(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var ru={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},MS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mf(){}mf.prototype.h=null;function Bm(t){return t.h||(t.h=t.i())}function FS(){}var wo={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gf(){et.call(this,"d")}qe(gf,et);function yf(){et.call(this,"c")}qe(yf,et);var Mh;function iu(){}qe(iu,mf);iu.prototype.g=function(){return new XMLHttpRequest};iu.prototype.i=function(){return{}};Mh=new iu;function Co(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Zs(this),this.O=CN,t=bh?125:void 0,this.T=new eu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new BS}function BS(){this.i=null,this.g="",this.h=!1}var CN=45e3,Fh={},vl={};L=Co.prototype;L.setTimeout=function(t){this.O=t};function Bh(t,e,n){t.K=1,t.v=ou(In(e)),t.s=n,t.P=!0,zS(t,null)}function zS(t,e){t.F=Date.now(),Eo(t),t.A=In(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),GS(n.i,"t",r),t.C=0,n=t.l.H,t.h=new BS,t.g=m0(t.l,n?e:null,!t.s),0<t.N&&(t.L=new yN(Ze(t.La,t,t.g),t.N)),AS(t.S,t.g,"readystatechange",t.ib),e=t.H?wS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),eo(),vN(t.j,t.u,t.A,t.m,t.U,t.s)}L.ib=function(t){t=t.target;const e=this.L;e&&vn(t)==3?e.l():this.La(t)};L.La=function(t){try{if(t==this.g)e:{const c=vn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||bh||this.g&&(this.h.h||this.g.fa()||jm(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?eo(3):eo(2)),su(this);var n=this.g.aa();this.Y=n;t:if(US(this)){var r=jm(this.g);t="";var i=r.length,s=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),ks(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,SN(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gl(a)){var u=a;break t}}u=null}if(n=u)ui(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zh(this,n);else{this.i=!1,this.o=3,at(12),_r(this),ks(this);break e}}this.P?(VS(this,c,o),bh&&this.i&&c==3&&(AS(this.S,this.T,"tick",this.hb),this.T.start())):(ui(this.j,this.m,o,null),zh(this,o)),c==4&&_r(this),this.i&&!this.I&&(c==4?h0(this.l,this):(this.i=!1,Eo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),_r(this),ks(this)}}}catch{}finally{}};function US(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function VS(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=EN(t,n),i==vl){e==4&&(t.o=4,at(14),r=!1),ui(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Fh){t.o=4,at(15),ui(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ui(t.j,t.m,i,null),zh(t,i);US(t)&&i!=vl&&i!=Fh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,at(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),kf(e),e.K=!0,at(11))):(ui(t.j,t.m,n,"[Invalid Chunked Response]"),_r(t),ks(t))}L.hb=function(){if(this.g){var t=vn(this.g),e=this.g.fa();this.C<e.length&&(su(this),VS(this,t,e),this.i&&t!=4&&Eo(this))}};function EN(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vl:(n=Number(e.substring(n,r)),isNaN(n)?Fh:(r+=1,r+n>e.length?vl:(e=e.substr(r,n),t.C=r+n,e)))}L.cancel=function(){this.I=!0,_r(this)};function Eo(t){t.V=Date.now()+t.O,jS(t,t.O)}function jS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=_o(Ze(t.gb,t),e)}function su(t){t.B&&(U.clearTimeout(t.B),t.B=null)}L.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(_N(this.j,this.A),this.K!=2&&(eo(),at(17)),_r(this),this.o=2,ks(this)):jS(this,this.V-t)};function ks(t){t.l.G==0||t.I||h0(t.l,t)}function _r(t){su(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,ff(t.T),OS(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zh(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Uh(n.h,t))){if(!t.J&&Uh(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)wl(n),uu(n);else break e;Ef(n),at(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=_o(Ze(n.cb,n),6e3));if(1>=XS(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else wr(n,11)}else if((t.J||n.g==t)&&wl(n),!gl(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.h;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(vf(s,s.h),s.h=null))}if(r.D){const y=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.za=y,de(r.F,r.D,y))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=p0(r,r.H?r.ka:null,r.V),o.J){JS(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(su(a),Eo(a)),r.g=o}else u0(r);0<n.i.length&&cu(n)}else u[0]!="stop"&&u[0]!="close"||wr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wr(n,7):Cf(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}eo(4)}catch{}}function kN(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function TN(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function HS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=TN(t),r=kN(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Tr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Tr){this.h=e!==void 0?e:t.h,Sl(this,t.j),this.s=t.s,this.g=t.g,_l(this,t.m),this.l=t.l,e=t.i;var n=new to;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zm(this,n),this.o=t.o}else t&&(n=String(t).match(qS))?(this.h=!!e,Sl(this,n[1]||"",!0),this.s=hs(n[2]||""),this.g=hs(n[3]||"",!0),_l(this,n[4]),this.l=hs(n[5]||"",!0),zm(this,n[6]||"",!0),this.o=hs(n[7]||"")):(this.h=!!e,this.i=new to(null,this.h))}Tr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ds(e,Um,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ds(e,Um,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ds(n,n.charAt(0)=="/"?DN:PN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ds(n,bN)),t.join("")};function In(t){return new Tr(t)}function Sl(t,e,n){t.j=n?hs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zm(t,e,n){e instanceof to?(t.i=e,AN(t.i,t.h)):(n||(e=ds(e,xN)),t.i=new to(e,t.h))}function de(t,e,n){t.i.set(e,n)}function ou(t){return de(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ds(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,IN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function IN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Um=/[#\/\?@]/g,PN=/[#\?:]/g,DN=/[#\?]/g,xN=/[#\?@]/g,bN=/#/g;function to(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ur(t){t.g||(t.g=new Map,t.h=0,t.i&&NN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}L=to.prototype;L.add=function(t,e){ur(this),this.i=null,t=ji(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WS(t,e){ur(t),e=ji(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KS(t,e){return ur(t),e=ji(t,e),t.g.has(e)}L.forEach=function(t,e){ur(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};L.oa=function(){ur(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};L.W=function(t){ur(this);let e=[];if(typeof t=="string")KS(this,t)&&(e=e.concat(this.g.get(ji(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};L.set=function(t,e){return ur(this),this.i=null,t=ji(this,t),KS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};L.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function GS(t,e,n){WS(t,e),0<n.length&&(t.i=null,t.g.set(ji(t,e),sf(n)),t.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ji(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AN(t,e){e&&!t.j&&(ur(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WS(this,r),GS(this,i,n))},t)),t.j=e}var ON=class{constructor(e,n){this.h=e,this.g=n}};function QS(t){this.l=t||$N,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ga&&U.g.Ga()&&U.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $N=10;function YS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function XS(t){return t.h?1:t.g?t.g.size:0}function Uh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function vf(t,e){t.g?t.g.add(e):t.h=e}function JS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}QS.prototype.cancel=function(){if(this.i=ZS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZS(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return sf(t.i)}function Sf(){}Sf.prototype.stringify=function(t){return U.JSON.stringify(t,void 0)};Sf.prototype.parse=function(t){return U.JSON.parse(t,void 0)};function LN(){this.g=new Sf}function RN(t,e,n){const r=n||"";try{HS(t,function(i,s){let o=i;vo(i)&&(o=df(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function MN(t,e){const n=new tu;if(U.Image){const r=new Image;r.onload=Zo(ta,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zo(ta,n,r,"TestLoadImage: error",!1,e),r.onabort=Zo(ta,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zo(ta,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ta(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ko(t){this.l=t.ac||null,this.j=t.jb||!1}qe(ko,mf);ko.prototype.g=function(){return new au(this.l,this.j)};ko.prototype.i=function(t){return function(){return t}}({});function au(t,e){Me.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_f,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qe(au,Me);var _f=0;L=au.prototype;L.open=function(t,e){if(this.readyState!=_f)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,no(this)};L.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||U).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=_f};L.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e0(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function e0(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}L.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?To(this):no(this),this.readyState==3&&e0(this)}};L.Va=function(t){this.g&&(this.response=this.responseText=t,To(this))};L.Ua=function(t){this.g&&(this.response=t,To(this))};L.ga=function(){this.g&&To(this)};function To(t){t.readyState=4,t.l=null,t.j=null,t.A=null,no(t)}L.setRequestHeader=function(t,e){this.v.append(t,e)};L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function no(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FN=U.JSON.parse;function Se(t){Me.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=t0,this.K=this.L=!1}qe(Se,Me);var t0="",BN=/^https?$/i,zN=["POST","PUT"];L=Se.prototype;L.Ka=function(t){this.L=t};L.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mh.g(),this.C=this.u?Bm(this.u):Bm(Mh),this.g.onreadystatechange=Ze(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Vm(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=yS(zN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{i0(this),0<this.B&&((this.K=UN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ze(this.qa,this)):this.A=pf(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Vm(this,s)}};function UN(t){return Ii&&iN()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}L.qa=function(){typeof rf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))};function Vm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,n0(t),lu(t)}function n0(t){t.D||(t.D=!0,Ve(t,"complete"),Ve(t,"error"))}L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ve(this,"complete"),Ve(this,"abort"),lu(this))};L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lu(this,!0)),Se.X.M.call(this)};L.Ha=function(){this.s||(this.F||this.v||this.l?r0(this):this.fb())};L.fb=function(){r0(this)};function r0(t){if(t.h&&typeof rf<"u"&&(!t.C[1]||vn(t)!=4||t.aa()!=2)){if(t.v&&vn(t)==4)pf(t.Ha,0,t);else if(Ve(t,"readystatechange"),vn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(qS)[1]||null;if(!i&&U.self&&U.self.location){var s=U.self.location.protocol;i=s.substr(0,s.length-1)}r=!BN.test(i?i.toLowerCase():"")}n=r}if(n)Ve(t,"complete"),Ve(t,"success");else{t.m=6;try{var o=2<vn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",n0(t)}}finally{lu(t)}}}}function lu(t,e){if(t.g){i0(t);const n=t.g,r=t.C[0]?ml:null;t.g=null,t.C=null,e||Ve(t,"ready");try{n.onreadystatechange=r}catch{}}}function i0(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}function vn(t){return t.g?t.g.readyState:0}L.aa=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}};L.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FN(e)}};function jm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case t0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}L.Ea=function(){return this.m};L.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function s0(t){let e="";return af(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function wf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=s0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):de(t,e,n))}function is(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function o0(t){this.Ca=0,this.i=[],this.j=new tu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=is("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=is("baseRetryDelayMs",5e3,t),this.bb=is("retryDelaySeedMs",1e4,t),this.$a=is("forwardChannelMaxRetries",2,t),this.ta=is("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new QS(t&&t.concurrentRequestLimit),this.Fa=new LN,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}L=o0.prototype;L.ma=8;L.G=1;function Cf(t){if(a0(t),t.G==3){var e=t.U++,n=In(t.F);de(n,"SID",t.I),de(n,"RID",e),de(n,"TYPE","terminate"),No(t,n),e=new Co(t,t.j,e,void 0),e.K=2,e.v=ou(In(n)),n=!1,U.navigator&&U.navigator.sendBeacon&&(n=U.navigator.sendBeacon(e.v.toString(),"")),!n&&U.Image&&(new Image().src=e.v,n=!0),n||(e.g=m0(e.l,null),e.g.da(e.v)),e.F=Date.now(),Eo(e)}f0(t)}function uu(t){t.g&&(kf(t),t.g.cancel(),t.g=null)}function a0(t){uu(t),t.u&&(U.clearTimeout(t.u),t.u=null),wl(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function cu(t){YS(t.h)||t.m||(t.m=!0,DS(t.Ja,t),t.C=0)}function VN(t,e){return XS(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=_o(Ze(t.Ja,t,e),d0(t,t.C)),t.C++,!0)}L.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Co(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=wS(s),CS(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=l0(this,i,e),n=In(this.F),de(n,"RID",t),de(n,"CVER",22),this.D&&de(n,"X-HTTP-Session-Id",this.D),No(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(s0(s)))+"&"+e:this.o&&wf(n,this.o,s)),vf(this.h,i),this.Ya&&de(n,"TYPE","init"),this.O?(de(n,"$req",e),de(n,"SID","null"),i.Z=!0,Bh(i,n,null)):Bh(i,n,e),this.G=2}}else this.G==3&&(t?Hm(this,t):this.i.length==0||YS(this.h)||Hm(this))};function Hm(t,e){var n;e?n=e.m:n=t.U++;const r=In(t.F);de(r,"SID",t.I),de(r,"RID",n),de(r,"AID",t.T),No(t,r),t.o&&t.s&&wf(r,t.o,t.s),n=new Co(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=l0(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),vf(t.h,n),Bh(n,r,e)}function No(t,e){t.ia&&af(t.ia,function(n,r){de(e,r,n)}),t.l&&HS({},function(n,r){de(e,r,n)})}function l0(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ze(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{RN(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function u0(t){t.g||t.u||(t.Z=1,DS(t.Ia,t),t.A=0)}function Ef(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=_o(Ze(t.Ia,t),d0(t,t.A)),t.A++,!0)}L.Ia=function(){if(this.u=null,c0(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=_o(Ze(this.eb,this),t)}};L.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,at(10),uu(this),c0(this))};function kf(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function c0(t){t.g=new Co(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=In(t.sa);de(e,"RID","rpc"),de(e,"SID",t.I),de(e,"CI",t.L?"0":"1"),de(e,"AID",t.T),de(e,"TYPE","xmlhttp"),No(t,e),t.o&&t.s&&wf(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ou(In(e)),n.s=null,n.P=!0,zS(n,t)}L.cb=function(){this.v!=null&&(this.v=null,uu(this),Ef(this),at(19))};function wl(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function h0(t,e){var n=null;if(t.g==e){wl(t),kf(t),t.g=null;var r=2}else if(Uh(t.h,e))n=e.D,JS(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=nu(),Ve(r,new RS(r,n)),cu(t)}else u0(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&VN(t,e)||r==2&&Ef(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:wr(t,5);break;case 4:wr(t,10);break;case 3:wr(t,6);break;default:wr(t,2)}}}function d0(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function wr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ze(t.kb,t);n||(n=new Tr("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Sl(n,"https"),ou(n)),MN(n.toString(),r)}else at(2);t.G=0,t.l&&t.l.va(e),f0(t),a0(t)}L.kb=function(t){t?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function f0(t){if(t.G=0,t.la=[],t.l){const e=ZS(t.h);(e.length!=0||t.i.length!=0)&&(Om(t.la,e),Om(t.la,t.i),t.h.i.length=0,sf(t.i),t.i.length=0),t.l.ua()}}function p0(t,e,n){var r=n instanceof Tr?In(n):new Tr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),_l(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Tr(null,void 0);r&&Sl(s,r),e&&(s.g=e),i&&_l(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&de(r,n,e),de(r,"VER",t.ma),No(t,r),r}function m0(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Se(new ko({jb:!0})):new Se(t.ra),e.Ka(t.H),e}function g0(){}L=g0.prototype;L.xa=function(){};L.wa=function(){};L.va=function(){};L.ua=function(){};L.Ra=function(){};function Cl(){if(Ii&&!(10<=Number(sN)))throw Error("Environmental error: no available transport.")}Cl.prototype.g=function(t,e){return new bt(t,e)};function bt(t,e){Me.call(this),this.g=new o0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!gl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Hi(this)}qe(bt,Me);bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;at(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=p0(t,null,t.V),cu(t)};bt.prototype.close=function(){Cf(this.g)};bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=df(t),t=n);e.i.push(new ON(e.ab++,t)),e.G==3&&cu(e)};bt.prototype.M=function(){this.g.l=null,delete this.j,Cf(this.g),delete this.g,bt.X.M.call(this)};function y0(t){gf.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qe(y0,gf);function v0(){yf.call(this),this.status=1}qe(v0,yf);function Hi(t){this.g=t}qe(Hi,g0);Hi.prototype.xa=function(){Ve(this.g,"a")};Hi.prototype.wa=function(t){Ve(this.g,new y0(t))};Hi.prototype.va=function(t){Ve(this.g,new v0)};Hi.prototype.ua=function(){Ve(this.g,"b")};Cl.prototype.createWebChannel=Cl.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;ru.NO_ERROR=0;ru.TIMEOUT=8;ru.HTTP_ERROR=6;MS.COMPLETE="complete";FS.EventType=wo;wo.OPEN="a";wo.CLOSE="b";wo.ERROR="c";wo.MESSAGE="d";Me.prototype.listen=Me.prototype.N;Se.prototype.listenOnce=Se.prototype.O;Se.prototype.getLastError=Se.prototype.Oa;Se.prototype.getLastErrorCode=Se.prototype.Ea;Se.prototype.getStatus=Se.prototype.aa;Se.prototype.getResponseJson=Se.prototype.Sa;Se.prototype.getResponseText=Se.prototype.fa;Se.prototype.send=Se.prototype.da;Se.prototype.setWithCredentials=Se.prototype.Ka;var jN=function(){return new Cl},HN=function(){return nu()},yc=ru,qN=MS,WN=Ur,qm={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KN=ko,na=FS,GN=Se;const Wm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new hS("@firebase/firestore");function Km(){return Or.logLevel}function R(t,...e){if(Or.logLevel<=J.DEBUG){const n=e.map(Tf);Or.debug(`Firestore (${qi}): ${t}`,...n)}}function Pn(t,...e){if(Or.logLevel<=J.ERROR){const n=e.map(Tf);Or.error(`Firestore (${qi}): ${t}`,...n)}}function El(t,...e){if(Or.logLevel<=J.WARN){const n=e.map(Tf);Or.warn(`Firestore (${qi}): ${t}`,...n)}}function Tf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${qi}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function ce(t,e){t||z()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class YN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XN{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _n,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _n)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string"),new S0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string"),new Qe(e)}}class JN{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZN{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new JN(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tI{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string"),this.T=n.token,new eI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function Pi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new De(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new De(0,0))}static max(){return new j(new De(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ro.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ro?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends ro{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ro{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return rI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(le.fromString(e))}static fromName(e){return new F(le.fromString(e).popFirst(5))}static empty(){return new F(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new le(e.slice()))}}function iI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new nr(i,F.empty(),e)}function sI(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(j.min(),F.empty(),-1)}static max(){return new nr(j.max(),F.empty(),-1)}}function oI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==aI)throw t;R("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Nf.ct=-1;function hu(t){return t==null}function kl(t){return t===0&&1/t==-1/0}function uI(t){return typeof t=="number"&&Number.isInteger(t)&&!kl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ze.EMPTY,this.right=s??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qm(this.data.getIterator())}getIteratorFrom(e){return new Qm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class Qm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new xe(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cI("Invalid base64 string: "+i):i}}(e);return new rt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const hI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(ce(!!t),typeof t=="string"){let e=0;const n=hI.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(t.seconds),nanos:Ee(t.nanos)}}function Ee(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E0(t){const e=t.mapValue.fields.__previous_value__;return C0(e)?E0(e):e}function io(t){const e=rr(t.mapValue.fields.__local_write_time__.timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class so{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new so("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C0(t)?4:fI(t)?9007199254740991:10:z()}function dn(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return io(t).isEqual(io(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=rr(r.timestampValue),o=rr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Di(r.bytesValue).isEqual(Di(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ee(r.geoPointValue.latitude)===Ee(i.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ee(r.integerValue)===Ee(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ee(r.doubleValue),o=Ee(i.doubleValue);return s===o?kl(s)===kl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Pi(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Gm(s)!==Gm(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!dn(s[a],o[a])))return!1;return!0}(t,e);default:return z()}}function oo(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function xi(t,e){if(t===e)return 0;const n=$r(t),r=$r(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ee(i.integerValue||i.doubleValue),a=Ee(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Ym(t.timestampValue,e.timestampValue);case 4:return Ym(io(t),io(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Di(i),a=Di(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Z(o[l],a[l]);if(u!==0)return u}return Z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(Ee(i.latitude),Ee(s.latitude));return o!==0?o:Z(Ee(i.longitude),Ee(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=xi(o[l],a[l]);if(u)return u}return Z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ia.mapValue&&s===ia.mapValue)return 0;if(i===ia.mapValue)return 1;if(s===ia.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Z(a[c],u[c]);if(h!==0)return h;const d=xi(o[a[c]],l[u[c]]);if(d!==0)return d}return Z(a.length,u.length)}(t.mapValue,e.mapValue);default:throw z()}}function Ym(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=rr(t),r=rr(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function bi(t){return Vh(t)}function Vh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=rr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Di(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,F.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Vh(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Vh(r.fields[a])}`;return s+"}"}(t.mapValue):z();var e,n}function Xm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jh(t){return!!t&&"integerValue"in t}function If(t){return!!t&&"arrayValue"in t}function Jm(t){return!!t&&"nullValue"in t}function Zm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oa(t){return!!t&&"mapValue"in t}function Ts(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ts(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ts(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ts(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ts(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Oa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nt(Ts(this.value))}}function k0(t){const e=[];return Vr(t.fields,(n,r)=>{const i=new Je([n]);if(Oa(r)){const s=k0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xe(e,0,j.min(),j.min(),j.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,j.min(),j.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,j.min(),j.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.position=e,this.inclusive=n}}function eg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=xi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n="asc"){this.field=e,this.dir=n}}function pI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{}class Te extends T0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gI(e,n,r):n==="array-contains"?new SI(e,r):n==="in"?new _I(e,r):n==="not-in"?new wI(e,r):n==="array-contains-any"?new CI(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yI(e,r):new vI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xi(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zt extends T0{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Zt(e,n)}matches(e){return N0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function N0(t){return t.op==="and"}function I0(t){return mI(t)&&N0(t)}function mI(t){for(const e of t.filters)if(e instanceof Zt)return!1;return!0}function Hh(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+bi(t.value);if(I0(t))return t.filters.map(e=>Hh(e)).join(",");{const e=t.filters.map(n=>Hh(n)).join(",");return`${t.op}(${e})`}}function P0(t,e){return t instanceof Te?function(n,r){return r instanceof Te&&n.op===r.op&&n.field.isEqual(r.field)&&dn(n.value,r.value)}(t,e):t instanceof Zt?function(n,r){return r instanceof Zt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&P0(s,r.filters[o]),!0):!1}(t,e):void z()}function D0(t){return t instanceof Te?function(e){return`${e.field.canonicalString()} ${e.op} ${bi(e.value)}`}(t):t instanceof Zt?function(e){return e.op.toString()+" {"+e.getFilters().map(D0).join(" ,")+"}"}(t):"Filter"}class gI extends Te{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends Te{constructor(e,n){super(e,"in",n),this.keys=x0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vI extends Te{constructor(e,n){super(e,"not-in",n),this.keys=x0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class SI extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return If(n)&&oo(n.arrayValue,this.value)}}class _I extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oo(this.value.arrayValue,n)}}class wI extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oo(this.value.arrayValue,n)}}class CI extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!If(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function ng(t,e=null,n=[],r=[],i=null,s=null,o=null){return new EI(t,e,n,r,i,s,o)}function Pf(t){const e=H(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),e.ft=n}return e.ft}function Df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tg(t.startAt,e.startAt)&&tg(t.endAt,e.endAt)}function qh(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function kI(t,e,n,r,i,s,o,a){return new Do(t,e,n,r,i,s,o,a)}function xf(t){return new Do(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function A0(t){return t.collectionGroup!==null}function vi(t){const e=H(t);if(e.dt===null){e.dt=[];const n=bf(e),r=b0(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ns(n)),e.dt.push(new Ns(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ns(Je.keyField(),s))}}}return e.dt}function Dn(t){const e=H(t);if(!e.wt)if(e.limitType==="F")e.wt=ng(e.path,e.collectionGroup,vi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of vi(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ns(s.field,o))}const r=e.endAt?new Tl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Tl(e.startAt.position,e.startAt.inclusive):null;e.wt=ng(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Wh(t,e){e.getFirstInequalityField(),bf(t);const n=t.filters.concat([e]);return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kh(t,e,n){return new Do(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function du(t,e){return Df(Dn(t),Dn(e))&&t.limitType===e.limitType}function O0(t){return`${Pf(Dn(t))}|lt:${t.limitType}`}function Gh(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>D0(r)).join(", ")}]`),hu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),`Target(${n})`}(Dn(t))}; limitType=${t.limitType})`}function fu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):F.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of vi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=eg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,vi(n),r)||n.endAt&&!function(i,s,o){const a=eg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,vi(n),r))}(t,e)}function TI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $0(t){return(e,n)=>{let r=!1;for(const i of vi(t)){const s=NI(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NI(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?xi(a,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return w0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new be(F.comparator);function xn(){return II}const L0=new be(F.comparator);function fs(...t){let e=L0;for(const n of t)e=e.insert(n.key,n);return e}function R0(t){let e=L0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return Is()}function M0(){return Is()}function Is(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const PI=new be(F.comparator),DI=new xe(F.comparator);function W(...t){let e=DI;for(const n of t)e=e.add(n);return e}const xI=new xe(Z);function F0(){return xI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kl(e)?"-0":e}}function z0(t){return{integerValue:""+t}}function bI(t,e){return uI(e)?z0(e):B0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this._=void 0}}function AI(t,e,n){return t instanceof Nl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ao?V0(t,e):t instanceof lo?j0(t,e):function(r,i){const s=U0(r,i),o=ig(s)+ig(r._t);return jh(s)&&jh(r._t)?z0(o):B0(r.serializer,o)}(t,e)}function OI(t,e,n){return t instanceof ao?V0(t,e):t instanceof lo?j0(t,e):n}function U0(t,e){return t instanceof Il?jh(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Nl extends pu{}class ao extends pu{constructor(e){super(),this.elements=e}}function V0(t,e){const n=H0(e);for(const r of t.elements)n.some(i=>dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class lo extends pu{constructor(e){super(),this.elements=e}}function j0(t,e){let n=H0(e);for(const r of t.elements)n=n.filter(i=>!dn(i,r));return{arrayValue:{values:n}}}class Il extends pu{constructor(e,n){super(),this.serializer=e,this._t=n}}function ig(t){return Ee(t.integerValue||t.doubleValue)}function H0(t){return If(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $I(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ao&&r instanceof ao||n instanceof lo&&r instanceof lo?Pi(n.elements,r.elements,dn):n instanceof Il&&r instanceof Il?dn(n._t,r._t):n instanceof Nl&&r instanceof Nl}(t.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $a(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mu{}function q0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new K0(t.key,wn.none()):new gu(t.key,t.data,wn.none());{const n=t.data,r=Nt.empty();let i=new xe(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new jr(t.key,r,new Qt(i.toArray()),wn.none())}}function RI(t,e,n){t instanceof gu?function(r,i,s){const o=r.value.clone(),a=og(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof jr?function(r,i,s){if(!$a(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=og(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(W0(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ps(t,e,n,r){return t instanceof gu?function(i,s,o,a){if(!$a(i.precondition,s))return o;const l=i.value.clone(),u=ag(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof jr?function(i,s,o,a){if(!$a(i.precondition,s))return o;const l=ag(i.fieldTransforms,a,s),u=s.data;return u.setAll(W0(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return $a(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function MI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=U0(r.transform,i||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,s))}return n||null}function sg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Pi(n,r,(i,s)=>$I(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends mu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jr extends mu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function og(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,OI(o,a,n[i]))}return r}function ag(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,AI(s,o,e))}return r}class K0 extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RI(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=q0(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),W())}isEqual(e){return this.batchId===e.batchId&&Pi(this.mutations,e.mutations,(n,r)=>sg(n,r))&&Pi(this.baseMutations,e.baseMutations,(n,r)=>sg(n,r))}}class Af{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=PI;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Af(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,G;function VI(t){switch(t){default:return z();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function G0(t){if(t===void 0)return Pn("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ce.OK:return k.OK;case Ce.CANCELLED:return k.CANCELLED;case Ce.UNKNOWN:return k.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return k.INTERNAL;case Ce.UNAVAILABLE:return k.UNAVAILABLE;case Ce.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ce.NOT_FOUND:return k.NOT_FOUND;case Ce.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ce.ABORTED:return k.ABORTED;case Ce.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ce.DATA_LOSS:return k.DATA_LOSS;default:return z()}}(G=Ce||(Ce={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sa}static getOrCreateInstance(){return sa===null&&(sa=new Of),sa}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sa=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yu(j.min(),i,F0(),xn(),W())}}class xo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xo(r,n,W(),W(),W())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Q0{constructor(e,n){this.targetId=e,this.Et=n}}class Y0{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lg{constructor(){this.At=0,this.Rt=cg(),this.vt=rt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=W(),n=W(),r=W();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new xo(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=cg()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class jI{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=xn(),this.qt=ug(),this.Ut=new xe(Z)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(qh(o))if(i===0){const a=new F(o.path);this.Qt(r,a,Xe.newNoDocument(a,j.min()))}else ce(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Of.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&qh(a.target)){const l=new F(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Xe.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=W();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new yu(e,n,this.Ut,this.Lt,r);return this.Lt=xn(),this.qt=ug(),this.Ut=new xe(Z),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new lg,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new xe(Z),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||R("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new lg),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function ug(){return new be(F.comparator)}function cg(){return new be(F.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WI=(()=>({and:"AND",or:"OR"}))();class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GI(t,e){return Pl(t,e.toTimestamp())}function hn(t){return ce(!!t),j.fromTimestamp(function(e){const n=rr(e);return new De(n.seconds,n.nanos)}(t))}function $f(t,e){return function(n){return new le(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function J0(t){const e=le.fromString(t);return ce(n1(e)),e}function Qh(t,e){return $f(t.databaseId,e.path)}function vc(t,e){const n=J0(e);if(n.get(1)!==t.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(Z0(n))}function Yh(t,e){return $f(t.databaseId,e)}function QI(t){const e=J0(t);return e.length===4?le.emptyPath():Z0(e)}function Xh(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z0(t){return ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hg(t,e,n){return{name:Qh(t,e),fields:n.value.mapValue.fields}}function YI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(ce(u===void 0||typeof u=="string"),rt.fromBase64String(u||"")):(ce(u===void 0||u instanceof Uint8Array),rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?k.UNKNOWN:G0(l.code);return new $(u,l.message||"")}(o);n=new Y0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vc(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):j.min(),a=new Nt({mapValue:{fields:r.document.fields}}),l=Xe.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new La(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vc(t,r.document),s=r.readTime?hn(r.readTime):j.min(),o=Xe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new La([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vc(t,r.document),s=r.removedTargetIds||[];n=new La([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new UI(i),o=r.targetId;n=new Q0(o,s)}}return n}function XI(t,e){let n;if(e instanceof gu)n={update:hg(t,e.key,e.value)};else if(e instanceof K0)n={delete:Qh(t,e.key)};else if(e instanceof jr)n={update:hg(t,e.key,e.data),updateMask:oP(e.fieldMask)};else{if(!(e instanceof FI))return z();n={verify:Qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Nl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ao)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Il)return{fieldPath:s.field.canonicalString(),increment:o._t};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:GI(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(t,e.precondition)),n}function JI(t,e){return t&&t.length>0?(ce(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?hn(r.updateTime):hn(i);return s.isEqual(j.min())&&(s=hn(i)),new LI(s,r.transformResults||[])}(n,e))):[]}function ZI(t,e){return{documents:[Yh(t,e.path)]}}function eP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Yh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return t1(Zt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Qr(c.field),direction:rP(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||hu(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function tP(t){let e=QI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=e1(c);return h instanceof Zt&&I0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Ns(Yr(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,hu(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new Tl(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new Tl(d,h)}(n.endAt)),kI(e,i,o,s,a,"F",l,u)}function nP(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function e1(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Yr(e.unaryFilter.field);return Te.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Yr(e.unaryFilter.field);return Te.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yr(e.unaryFilter.field);return Te.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yr(e.unaryFilter.field);return Te.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(e){return Te.create(Yr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Zt.create(e.compositeFilter.filters.map(n=>e1(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return z()}}(e.compositeFilter.op))}(t):z()}function rP(t){return HI[t]}function iP(t){return qI[t]}function sP(t){return WI[t]}function Qr(t){return{fieldPath:t.canonicalString()}}function Yr(t){return Je.fromServerFormat(t.fieldPath)}function t1(t){return t instanceof Te?function(e){if(e.op==="=="){if(Zm(e.value))return{unaryFilter:{field:Qr(e.field),op:"IS_NAN"}};if(Jm(e.value))return{unaryFilter:{field:Qr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Zm(e.value))return{unaryFilter:{field:Qr(e.field),op:"IS_NOT_NAN"}};if(Jm(e.value))return{unaryFilter:{field:Qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qr(e.field),op:iP(e.op),value:e.value}}}(t):t instanceof Zt?function(e){const n=e.getFilters().map(r=>t1(r));return n.length===1?n[0]:{compositeFilter:{op:sP(e.op),filters:n}}}(t):z()}function oP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s=j.min(),o=j.min(),a=rt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.se=e}}function lP(t){const e=tP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.He=new cP}addToCollectionParentIndex(e,n){return this.He.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(nr.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class cP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ai(0)}static bn(){return new Ai(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ps(r.mutation,i,Qt.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,W()).next(()=>r))}getLocalViewOfDocuments(e,n,r=W()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fs();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,W()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn();const o=Is(),a=Is();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof jr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ps(c.mutation,u,c.mutation.getFieldMask(),De.now())):o.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new dP(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Is();let i=new be((o,a)=>o-a),s=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Qt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||W()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=M0();c.forEach(d=>{if(!s.has(d)){const m=q0(n.get(d),r.get(d));m!==null&&h.set(d,m),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return F.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(Cr());let a=-1,l=s;return o.next(u=>I.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?I.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,W())).next(c=>({batchId:a,changes:R0(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=fs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=fs();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const l=function(u,c){return new Do(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Xe.newInvalidDocument(u)))});let o=fs();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ps(u.mutation,l,Qt.empty(),De.now()),fu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return I.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:hn(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:lP(r.bundledQuery),readTime:hn(r.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.overlays=new be(F.comparator),this.ts=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),s=n.length+1,o=new F(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new be((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Cr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Cr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return I.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zI(n,r));let s=this.ts.get(n);s===void 0&&(s=W(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this.es=new xe($e.ns),this.ss=new xe($e.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new $e(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new $e(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new F(new le([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new F(new le([])),r=new $e(n,e),i=new $e(n,e+1);let s=W();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $e(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $e{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return F.comparator(e.key,n.key)||Z(e.ds,n.ds)}static rs(e,n){return Z(e.ds,n.ds)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new xe($e.ns)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BI(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(Z);return n.forEach(i=>{const s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),I.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new $e(new F(s),0);let a=new xe(Z);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),I.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return I.forEach(n.mutations,i=>{const s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new $e(n,0),i=this._s.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.Ts=e,this.docs=new be(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xe.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,a=new F(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oI(sI(c),r)<=0||(i.has(c.key)||fu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Es(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vP(this)}getSize(e){return I.resolve(this.size)}}class vP extends hP{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.persistence=e,this.As=new Wi(n=>Pf(n),Df),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Lf,this.targetCount=0,this.bs=Ai.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),I.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Ai(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Sn(n),I.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Nf(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new SP(this),this.indexManager=new uP,this.remoteDocumentCache=function(r){return new yP(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new aP(n),this.xs=new pP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new gP(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){R("MemoryPersistence","Starting transaction:",e);const i=new wP(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return I.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class wP extends lI{constructor(e){super(),this.currentSequenceNumber=e}}class Rf{constructor(e){this.persistence=e,this.$s=new Lf,this.Ms=null}static Fs(e){return new Rf(e)}get Bs(){if(this.Ms)return this.Ms;throw z()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),I.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Bs,r=>{const i=F.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return I.or([()=>I.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=W(),i=W();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Mf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(rg(n))return I.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kh(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=W(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,Kh(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return rg(n)||i.isEqual(j.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(Km()<=J.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gh(n)),this.Fi(e,o,n,iI(i,-1)))})}$i(e,n){let r=new xe($0(e));return n.forEach((i,s)=>{fu(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Km()<=J.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Gh(n)),this.xi.getDocumentsMatchingQuery(e,n,nr.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new be(Z),this.qi=new Wi(s=>Pf(s),Df),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fP(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function kP(t,e,n,r){return new EP(t,e,n,r)}async function r1(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=W();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function TP(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=I.resolve();return h.forEach(m=>{d=d.next(()=>u.getEntry(a,m)).next(_=>{const y=l.docVersions.get(m);ce(y!==null),_.version.compareTo(y)<0&&(c.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=W();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function i1(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function NP(t,e){const n=H(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,h)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?m=m.withResumeToken(rt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(_,y,E){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,m,c)&&a.push(n.Ds.updateTargetData(s,m))});let l=xn(),u=W();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(IP(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(j.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(h=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function IP(t,e,n){let r=W(),i=W();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(j.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function PP(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DP(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Nr(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Jh(t,e,n){const r=H(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Po(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function dg(t,e,n){const r=H(t);let i=j.min(),s=W();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=H(a),h=c.qi.get(u);return h!==void 0?I.resolve(c.Li.get(h)):c.Ds.getTargetData(l,u)}(r,o,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:j.min(),n?s:W())).next(a=>(xP(r,TI(e),a),{documents:a,Wi:s})))}function xP(t,e,n){let r=t.Ui.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class fg{constructor(){this.activeTargetIds=F0()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bP{constructor(){this.Br=new fg,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new fg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=null;function Sc(){return oa===null?oa=268435456+Math.round(2147483648*Math.random()):oa++,"0x"+oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class LP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Sc(),a=this.ao(e,n);R("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(R("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw El("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=OP[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Sc();return new Promise((o,a)=>{const l=new GN;l.setWithCredentials(!0),l.listenOnce(qN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yc.NO_ERROR:const c=l.getResponseJson();R(Ge,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case yc.TIMEOUT:R(Ge,`RPC '${e}' ${s} timed out`),a(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const h=l.getStatus();if(R(Ge,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const _=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(E)>=0?E:k.UNKNOWN}(m.status);a(new $(_,m.message))}else a(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(k.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{R(Ge,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);R(Ge,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Sc(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jN(),a=HN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new KN({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");R(Ge,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let h=!1,d=!1;const m=new $P({Wr:y=>{d?R(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(R(Ge,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),R(Ge,`RPC '${e}' stream ${i} sending:`,y),c.send(y))},Hr:()=>c.close()}),_=(y,E,p)=>{y.listen(E,f=>{try{p(f)}catch(g){setTimeout(()=>{throw g},0)}})};return _(c,na.EventType.OPEN,()=>{d||R(Ge,`RPC '${e}' stream ${i} transport opened.`)}),_(c,na.EventType.CLOSE,()=>{d||(d=!0,R(Ge,`RPC '${e}' stream ${i} transport closed`),m.so())}),_(c,na.EventType.ERROR,y=>{d||(d=!0,El(Ge,`RPC '${e}' stream ${i} transport errored:`,y),m.so(new $(k.UNAVAILABLE,"The operation could not be completed")))}),_(c,na.EventType.MESSAGE,y=>{var E;if(!d){const p=y.data[0];ce(!!p);const f=p,g=f.error||((E=f[0])===null||E===void 0?void 0:E.error);if(g){R(Ge,`RPC '${e}' stream ${i} received error:`,g);const C=g.status;let N=function(A){const D=Ce[A];if(D!==void 0)return G0(D)}(C),P=g.message;N===void 0&&(N=k.INTERNAL,P="Unknown error status: "+C+" with message "+g.message),d=!0,m.so(new $(N,P)),c.close()}else R(Ge,`RPC '${e}' stream ${i} received:`,p),m.io(p)}}),_(a,WN.STAT_EVENT,y=>{y.stat===qm.PROXY?R(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===qm.NOPROXY&&R(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.no()},0),m}}function _c(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){return new KI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new s1(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RP extends o1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=YI(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?hn(s.readTime):j.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Xh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=qh(a)?{documents:ZI(i,a)}:{query:eP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=X0(i,s.resumeToken):s.snapshotVersion.compareTo(j.min())>0&&(o.readTime=Pl(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=nP(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Xh(this.serializer),n.removeTarget=e,this.Fo(n)}}class MP extends o1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=JI(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.Zo(r,n)}return ce(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Xh(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XI(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(k.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class BP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Pn(n),this.ru=!1):R("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Hr(this)&&(R("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=H(a);l.du.add(4),await bo(l),l.mu.set("Unknown"),l.du.delete(4),await Su(l)}(this))})}),this.mu=new BP(r,i)}}async function Su(t){if(Hr(t))for(const e of t.wu)await e(!0)}async function bo(t){for(const e of t.wu)await e(!1)}function a1(t,e){const n=H(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),zf(n)?Bf(n):Ki(n).No()&&Ff(n,e))}function l1(t,e){const n=H(t),r=Ki(n);n.fu.delete(e),r.No()&&u1(n,e),n.fu.size===0&&(r.No()?r.$o():Hr(n)&&n.mu.set("Unknown"))}function Ff(t,e){t.gu.Ot(e.targetId),Ki(t).jo(e)}function u1(t,e){t.gu.Ot(e),Ki(t).Wo(e)}function Bf(t){t.gu=new jI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Ki(t).start(),t.mu.ou()}function zf(t){return Hr(t)&&!Ki(t).xo()&&t.fu.size>0}function Hr(t){return H(t).du.size===0}function c1(t){t.gu=void 0}async function UP(t){t.fu.forEach((e,n)=>{Ff(t,e)})}async function VP(t,e){c1(t),zf(t)?(t.mu.au(e),Bf(t)):t.mu.set("Unknown")}async function jP(t,e,n){if(t.mu.set("Online"),e instanceof Y0&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dl(t,r)}else if(e instanceof La?t.gu.Kt(e):e instanceof Q0?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(j.min()))try{const r=await i1(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(rt.EMPTY_BYTE_STRING,l.snapshotVersion)),u1(i,a);const u=new Nr(l.target,a,1,l.sequenceNumber);Ff(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){R("RemoteStore","Failed to raise snapshot:",r),await Dl(t,r)}}async function Dl(t,e,n){if(!Po(e))throw e;t.du.add(1),await bo(t),t.mu.set("Offline"),n||(n=()=>i1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{R("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Su(t)})}function h1(t,e){return e().catch(n=>Dl(t,n,e))}async function _u(t){const e=H(t),n=ir(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;HP(e);)try{const i=await PP(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,qP(e,i)}catch(i){await Dl(e,i)}d1(e)&&f1(e)}function HP(t){return Hr(t)&&t.lu.length<10}function qP(t,e){t.lu.push(e);const n=ir(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function d1(t){return Hr(t)&&!ir(t).xo()&&t.lu.length>0}function f1(t){ir(t).start()}async function WP(t){ir(t).tu()}async function KP(t){const e=ir(t);for(const n of t.lu)e.Yo(n.mutations)}async function GP(t,e,n){const r=t.lu.shift(),i=Af.from(r,e,n);await h1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _u(t)}async function QP(t,e){e&&ir(t).Jo&&await async function(n,r){if(i=r.code,VI(i)&&i!==k.ABORTED){const s=n.lu.shift();ir(n).Oo(),await h1(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await _u(n)}var i}(t,e),d1(t)&&f1(t)}async function mg(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=Hr(n);n.du.add(3),await bo(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Su(n)}async function YP(t,e){const n=H(t);e?(n.du.delete(2),await Su(n)):e||(n.du.add(2),await bo(n),n.mu.set("Unknown"))}function Ki(t){return t.yu||(t.yu=function(e,n,r){const i=H(e);return i.nu(),new RP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:UP.bind(null,t),Zr:VP.bind(null,t),zo:jP.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),zf(t)?Bf(t):t.mu.set("Unknown")):(await t.yu.stop(),c1(t))})),t.yu}function ir(t){return t.pu||(t.pu=function(e,n,r){const i=H(e);return i.nu(),new MP(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:WP.bind(null,t),Zr:QP.bind(null,t),Xo:KP.bind(null,t),Zo:GP.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await _u(t)):(await t.pu.stop(),t.lu.length>0&&(R("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Uf(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),Po(t))return new $(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=fs(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new Si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Iu=new be(F.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):z():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oi{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Oi(e,n,Si.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Eu=void 0,this.listeners=[]}}class JP{constructor(){this.queries=new Wi(e=>O0(e),du),this.onlineState="Unknown",this.Au=new Set}}async function p1(t,e){const n=H(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new XP),i)try{s.Eu=await n.onListen(r)}catch(o){const a=Vf(o,`Initialization of query '${Gh(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&jf(n)}async function m1(t,e){const n=H(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ZP(t,e){const n=H(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&jf(n)}function eD(t,e,n){const r=H(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function jf(t){t.Au.forEach(e=>{e.next()})}class g1{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Oi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.key=e}}class v1{constructor(e){this.key=e}}class tD{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=W(),this.mutatedKeys=W(),this.Ku=$0(e),this.Gu=new Si(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new gg,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),m=fu(this.query,h)?h:null,_=!!d&&this.mutatedKeys.has(d.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;d&&m?d.data.isEqual(m.data)?_!==y&&(r.track({type:3,doc:m}),E=!0):this.Wu(d,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Ku(m,l)>0||u&&this.Ku(m,u)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),E=!0):d&&!m&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(h,d){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return m(h)-m(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Oi(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new gg,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=W(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new v1(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new y1(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=W();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Oi.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class nD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rD{constructor(e){this.key=e,this.ec=!1}}class iD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Wi(a=>O0(a),du),this.ic=new Map,this.rc=new Set,this.oc=new be(F.comparator),this.uc=new Map,this.cc=new Lf,this.ac={},this.hc=new Map,this.lc=Ai.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function sD(t,e){const n=mD(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await DP(n.localStore,Dn(e));n.isPrimaryClient&&a1(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await oD(n,e,r,a==="current",o.resumeToken)}return i}async function oD(t,e,n,r,i){t.dc=(h,d,m)=>async function(_,y,E,p){let f=y.view.zu(E);f.Mi&&(f=await dg(_.localStore,y.query,!1).then(({documents:N})=>y.view.zu(N,f)));const g=p&&p.targetChanges.get(y.targetId),C=y.view.applyChanges(f,_.isPrimaryClient,g);return vg(_,y.targetId,C.Yu),C.snapshot}(t,h,d,m);const s=await dg(t.localStore,e,!0),o=new tD(e,s.Wi),a=o.zu(s.documents),l=xo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);vg(t,n,u.Yu);const c=new nD(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function aD(t,e){const n=H(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!du(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),l1(n.remoteStore,r.targetId),Zh(n,r.targetId)}).catch(Io)):(Zh(n,r.targetId),await Jh(n.localStore,r.targetId,!0))}async function lD(t,e,n){const r=gD(t);try{const i=await function(s,o){const a=H(s),l=De.now(),u=o.reduce((d,m)=>d.add(m.key),W());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=xn(),_=W();return a.Ki.getEntries(d,u).next(y=>{m=y,m.forEach((E,p)=>{p.isValidDocument()||(_=_.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,m)).next(y=>{c=y;const E=[];for(const p of o){const f=MI(p,c.get(p.key).overlayedDocument);f!=null&&E.push(new jr(p.key,f,k0(f.value.mapValue),wn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,E,o)}).next(y=>{h=y;const E=y.applyToLocalDocumentSet(c,_);return a.documentOverlayCache.saveOverlays(d,y.batchId,E)})}).then(()=>({batchId:h.batchId,changes:R0(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new be(Z)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ao(r,i.changes),await _u(r.remoteStore)}catch(i){const s=Vf(i,"Failed to persist write");n.reject(s)}}async function S1(t,e){const n=H(t);try{const r=await NP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?ce(o.ec):i.removedDocuments.size>0&&(ce(o.ec),o.ec=!1))}),await Ao(n,r,e)}catch(r){await Io(r)}}function yg(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=H(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Ru(o)&&(l=!0)}),l&&jf(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uD(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new be(F.comparator);o=o.insert(s,Xe.newNoDocument(s,j.min()));const a=W().add(s),l=new yu(j.min(),new Map,new xe(Z),o,a);await S1(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Hf(r)}else await Jh(r.localStore,e,!1).then(()=>Zh(r,e,n)).catch(Io)}async function cD(t,e){const n=H(t),r=e.batch.batchId;try{const i=await TP(n.localStore,e);w1(n,r,null),_1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ao(n,i)}catch(i){await Io(i)}}async function hD(t,e,n){const r=H(t);try{const i=await function(s,o){const a=H(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(ce(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);w1(r,e,n),_1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ao(r,i)}catch(i){await Io(i)}}function _1(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function w1(t,e,n){const r=H(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Zh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||C1(t,r)})}function C1(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(l1(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Hf(t))}function vg(t,e,n){for(const r of n)r instanceof y1?(t.cc.addReference(r.key,e),dD(t,r)):r instanceof v1?(R("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||C1(t,r.key)):z()}function dD(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(R("SyncEngine","New document in limbo: "+n),t.rc.add(r),Hf(t))}function Hf(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new F(le.fromString(e)),r=t.lc.next();t.uc.set(r,new rD(n)),t.oc=t.oc.insert(n,r),a1(t.remoteStore,new Nr(Dn(xf(n.path)),r,2,Nf.ct))}}async function Ao(t,e,n){const r=H(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Mf.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=H(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>I.forEach(l,h=>I.forEach(h.Vi,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>I.forEach(h.Si,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Po(c))throw c;R("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.Li.get(h),m=d.snapshotVersion,_=d.withLastLimboFreeSnapshotVersion(m);u.Li=u.Li.insert(h,_)}}}(r.localStore,s))}async function fD(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=await r1(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new $(k.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ao(n,r.Qi)}}function pD(t,e){const n=H(t),r=n.uc.get(e);if(r&&r.ec)return W().add(r.key);{let i=W();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function mD(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=S1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uD.bind(null,e),e.nc.zo=ZP.bind(null,e.eventManager),e.nc.wc=eD.bind(null,e.eventManager),e}function gD(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,e),e}class Sg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kP(this.persistence,new CP,e.initialUser,this.serializer)}createPersistence(e){return new _P(Rf.Fs,this.serializer)}createSharedClientState(e){return new bP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fD.bind(null,this.syncEngine),await YP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new JP}createDatastore(e){const n=vu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new LP(i));var i;return function(s,o,a,l){return new FP(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>yg(this.syncEngine,a,0),o=pg.D()?new pg:new AP,new zP(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new iD(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=H(e);R("RemoteStore","RemoteStore shutting down."),n.du.add(5),await bo(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=_0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{R("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wc(t,e){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await r1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _g(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _D(t);R("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>mg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>mg(e.remoteStore,s)),t._onlineComponents=e}function SD(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _D(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{await wc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!SD(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await wc(t,new Sg)}}else R("FirestoreClient","Using default OfflineComponentProvider"),await wc(t,new Sg);return t._offlineComponents}async function k1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),await _g(t,t._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),await _g(t,new yD))),t._onlineComponents}function wD(t){return k1(t).then(e=>e.syncEngine)}async function T1(t){const e=await k1(t),n=e.eventManager;return n.onListen=sD.bind(null,e.syncEngine),n.onUnlisten=aD.bind(null,e.syncEngine),n}function CD(t,e,n={}){const r=new _n;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new E1({next:h=>{s.enqueueAndForget(()=>m1(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new $(k.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new $(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new g1(xf(o.path),u,{includeMetadataChanges:!0,xu:!0});return p1(i,c)}(await T1(t),t.asyncQueue,e,n,r)),r.promise}function ED(t,e,n={}){const r=new _n;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new E1({next:h=>{s.enqueueAndForget(()=>m1(i,c)),h.fromCache&&a.source==="server"?l.reject(new $(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new g1(o,u,{includeMetadataChanges:!0,xu:!0});return p1(i,c)}(await T1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e,n){if(!n)throw new $(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kD(t,e,n,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cg(t){if(!F.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(F.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wu(t);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QN;switch(n.type){case"firstParty":return new ZN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wg.get(e);n&&(R("ComponentProvider","Removing Datastore"),wg.delete(e),n.terminate())}(this),Promise.resolve()}}function TD(t,e,n,r={}){var i;const s=(t=Lr(t,Cu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&El("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Qe.MOCK_USER;else{o=bk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Qe(l)}t._authCredentials=new YN(new S0(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}}class Gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Jn extends Gi{constructor(e,n,r){super(e,n,xf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new F(e))}withConverter(e){return new Jn(this.firestore,e,this._path)}}function I1(t,e,...n){if(t=Nn(t),N1("collection","path",e),t instanceof Cu){const r=le.fromString(e,...n);return Eg(r),new Jn(t,null,r)}{if(!(t instanceof yt||t instanceof Jn))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return Eg(r),new Jn(t.firestore,null,r)}}function Ut(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=_0.A()),N1("doc","path",e),t instanceof Cu){const r=le.fromString(e,...n);return Cg(r),new yt(t,null,new F(r))}{if(!(t instanceof yt||t instanceof Jn))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return Cg(r),new yt(t.firestore,t instanceof Jn?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new s1(this,"async_queue_retry"),this.qc=()=>{const n=_c();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=_c();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=_c();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new _n;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Po(e))throw e;R("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Uf.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&z()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class Eu extends Cu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ND,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||P1(this),this._firestoreClient.terminate()}}function ID(t,e){const n=typeof t=="object"?t:LT(),r=typeof t=="string"?t:e||"(default)",i=bT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Pk("firestore");s&&TD(i,...s)}return i}function qf(t){return t._firestoreClient||P1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function P1(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new dI(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new vD(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(rt.fromBase64String(e))}catch(n){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $i(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=/^__.*__$/;class D1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class Gf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return xl(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(x1(this.Yc)&&PD.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class DD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vu(e)}ua(e,n,r,i=!1){return new Gf({Yc:e,methodName:n,oa:r,path:Je.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b1(t){const e=t._freezeSettings(),n=vu(t._databaseId);return new DD(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Tu extends Wf{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tu}}function xD(t,e,n,r){const i=t.ua(1,e,n);O1("Data must be an object, but it was:",i,r);const s=[],o=Nt.empty();Vr(r,(l,u)=>{const c=Qf(e,l,n);u=Nn(u);const h=i.na(c);if(u instanceof Tu)s.push(c);else{const d=Oo(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Qt(s);return new D1(o,a,i.fieldTransforms)}function bD(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Tg(e,r,n)],l=[i];if(s.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Tg(e,s[d])),l.push(s[d+1]);const u=[],c=Nt.empty();for(let d=a.length-1;d>=0;--d)if(!LD(u,a[d])){const m=a[d];let _=l[d];_=Nn(_);const y=o.na(m);if(_ instanceof Tu)u.push(m);else{const E=Oo(_,y);E!=null&&(u.push(m),c.set(m,E))}}const h=new Qt(u);return new D1(c,h,o.fieldTransforms)}function AD(t,e,n,r=!1){return Oo(n,t.ua(r?4:3,e))}function Oo(t,e){if(A1(t=Nn(t)))return O1("Unsupported field value:",e,t),OD(t,e);if(t instanceof Wf)return function(n,r){if(!x1(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Oo(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Nn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bI(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=De.fromDate(n);return{timestampValue:Pl(r.serializer,i)}}if(n instanceof De){const i=new De(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pl(r.serializer,i)}}if(n instanceof Kf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $i)return{bytesValue:X0(r.serializer,n._byteString)};if(n instanceof yt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$f(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${wu(n)}`)}(t,e)}function OD(t,e){const n={};return w0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(t,(r,i)=>{const s=Oo(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function A1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof Kf||t instanceof $i||t instanceof yt||t instanceof Wf)}function O1(t,e,n){if(!A1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=wu(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Tg(t,e,n){if((e=Nn(e))instanceof ku)return e._internalPath;if(typeof e=="string")return Qf(t,e);throw xl("Field path arguments must be of type string or ",t,!1,void 0,n)}const $D=new RegExp("[~\\*/\\[\\]]");function Qf(t,e,n){if(e.search($D)>=0)throw xl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw xl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(k.INVALID_ARGUMENT,a+t+l)}function LD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RD extends $1{data(){return super.data()}}function Yf(t,e){return typeof e=="string"?Qf(t,e):e instanceof ku?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xf{}class FD extends Xf{}function BD(t,e,...n){let r=[];e instanceof Xf&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Jf).length,o=i.filter(a=>a instanceof Nu).length;if(s>1||s>0&&o>0)throw new $(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nu extends FD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nu(e,n,r)}_apply(e){const n=this._parse(e);return L1(e._query,n),new Gi(e.firestore,e.converter,Wh(e._query,n))}_parse(e){const n=b1(e.firestore);return function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new $(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Ig(c,u);const d=[];for(const m of c)d.push(Ng(a,i,m));h={arrayValue:{values:d}}}else h=Ng(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Ig(c,u),h=AD(o,s,c,u==="in"||u==="not-in");return Te.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zD(t,e,n){const r=e,i=Yf("where",t);return Nu._create(i,r,n)}class Jf extends Xf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)L1(s,a),s=Wh(s,a)}(e._query,n),new Gi(e.firestore,e.converter,Wh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ng(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new $(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A0(e)&&n.indexOf("/")!==-1)throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(le.fromString(n));if(!F.isDocumentKey(r))throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xm(t,new F(r))}if(n instanceof yt)return Xm(t,n._key);throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wu(n)}.`)}function Ig(t,e){if(!Array.isArray(t)||t.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L1(t,e){if(e.isInequality()){const r=bf(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new $(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=b0(t);s!==null&&UD(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UD(t,e,n){if(!n.isEqual(e))throw new $(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class VD{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){const r={};return Vr(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Kf(Ee(e.latitude),Ee(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=E0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const n=rr(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);ce(n1(r));const i=new so(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R1 extends $1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ra extends R1{data(e={}){return super.data(e)}}class jD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ra(this._firestore,this._userDataWriter,r.key,r,new ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Ra(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ps(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Ra(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ps(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:HD(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){t=Lr(t,yt);const e=Lr(t.firestore,Eu);return CD(qf(e),t._key).then(n=>WD(e,t,n))}class M1 extends VD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function F1(t){t=Lr(t,Gi);const e=Lr(t.firestore,Eu),n=qf(e),r=new M1(e);return MD(t._query),ED(n,t._query).then(i=>new jD(e,r,t,i))}function cr(t,e,n,...r){t=Lr(t,yt);const i=Lr(t.firestore,Eu),s=b1(i);let o;return o=typeof(e=Nn(e))=="string"||e instanceof ku?bD(s,"updateDoc",t._key,e,n,r):xD(s,"updateDoc",t._key,e),qD(i,[o.toMutation(t._key,wn.exists(!0))])}function qD(t,e){return function(n,r){const i=new _n;return n.asyncQueue.enqueueAndForget(async()=>lD(await wD(n),r,i)),i.promise}(qf(t),e)}function WD(t,e,n){const r=n.docs.get(e._key),i=new M1(t);return new R1(t,i,e._key,r,new ps(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){qi=n})($T),pl(new Ys("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Eu(new XN(n.getProvider("auth-internal")),new tI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),yi(Wm,"3.10.0",t),yi(Wm,"3.10.0","esm2017")})();const KD={apiKey:"AIzaSyBqpg0AcXQ50NnHyuZU4659LkrtmwmCIO8",authDomain:"silly-socks-7a9e6.firebaseapp.com",projectId:"silly-socks-7a9e6",storageBucket:"silly-socks-7a9e6.appspot.com",messagingSenderId:"833185796892",appId:"1:833185796892:web:8ea370d85e087fc77d60d9"},GD=pS(KD),vt=ID(GD),B1=async()=>(await F1(I1(vt,"products"))).docs.map(n=>{const r=n.id,i=n.data();return{id:r,...i}}),Zf=async t=>{const e=Ut(vt,"products",t),n=await Iu(e);if(n.exists())return n.data()},z1=async t=>await(await Zf(t)).quantity,U1=async t=>{const n=await(await Zf(t)).quantity;if(n<=0)throw new Error("Not enough stock available");let r;try{r=n-1}catch{r=0}const i=Ut(vt,"products",t);await cr(i,{quantity:r})},V1=async t=>{const n=await(await Zf(t)).quantity;let r;try{r=n+1}catch{r=100}const i=Ut(vt,"products",t);await cr(i,{quantity:r})},QD="_HomePage_1pxy5_1",YD={HomePage:QD};function Pg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pg(Object(n),!0).forEach(function(r){ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e,n){return e&&Dg(t.prototype,e),n&&Dg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(){return(pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function St(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function ed(t){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function j1(t,e){return(j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n})(t,e)}function XD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function JD(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function je(t,e){if(t==null)return{};var n,r,i=JD(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZD(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(t)}function _t(t){var e=XD();return function(){var n,r=ed(t);if(e){var i=ed(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZD(this,n)}}function Cc(t){return ex(t)||tx(t)||nx(t)||rx()}function ex(t){if(Array.isArray(t))return td(t)}function tx(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nx(t,e){if(t){if(typeof t=="string")return td(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?td(t,e):void 0}}function td(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1(t,e){return e={exports:{}},t(e,e.exports),e.exports}function q1(){}function W1(){}function me(t){return t.map(function(e){return e===!1?null:e}).join(" ").replace(/\s+/g," ").trim()}function xg(t,e){return 100/t*e/e}function bg(t,e){return 100*t/e}function It(t){return"".concat(t,"%")}function Pu(t,e,n){if(t===e)return!0;var r=kt[rd(t)],i=kt[rd(e)];return!(!r||r!==i)&&r(t,e,n)}function Ag(t){return function(e,n,r){if(!r)return t(e,n,[]);for(var i,s=r.length;i=r[--s];)if(i[0]===e&&i[1]===n)return!0;return t(e,n,r)}}function ix(t,e,n){var r=t.length;if(r!==e.length)return!1;for(n.push([t,e]);r--;)if(!Pu(t[r],e[r],n))return!1;return!0}function sx(t,e,n){if(typeof t.equal=="function")return n.push([t,e]),t.equal(e,n);var r=Og(t),i=Og(e),s=r.length;if(s!==i.length)return!1;for(r.sort(),i.sort();s--;)if(r[s]!==i[s])return!1;for(n.push([t,e]),s=r.length;s--;){var o=r[s];if(!Pu(t[o],e[o],n))return!1}return!0}function Og(t){var e=[];for(var n in t)n!=="constructor"&&e.push(n);return e}function ox(t){return!!t&&typeof t=="object"}function ax(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||lx(t)}function lx(t){return t.$$typeof===Sx}function ux(t){return Array.isArray(t)?[]:{}}function bl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?uo(ux(t),t,e):t}function cx(t,e,n){return t.concat(e).map(function(r){return bl(r,n)})}function hx(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=bl(t[i],n)}),Object.keys(e).forEach(function(i){n.isMergeableObject(e[i])&&t[i]?r[i]=uo(t[i],e[i],n):r[i]=bl(e[i],n)}),r}function uo(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||cx,n.isMergeableObject=n.isMergeableObject||yx;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):hx(t,e,n):bl(e,n)}function en(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return{}},n=function(r){function i(o,a){var l;return it(this,i),l=s.call(this,o,a),l.state=e(ci({},a.state)),l.updateStateProps=l.updateStateProps.bind(Q(l)),l}St(i,r);var s=_t(i);return st(i,[{key:"componentDidMount",value:function(){this.context.subscribe(this.updateStateProps)}},{key:"shouldComponentUpdate",value:function(o,a){return!Rg(a,this.state)||!Rg(o,this.props)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.updateStateProps)}},{key:"updateStateProps",value:function(){this.setState(e(ci({},this.context.state)))}},{key:"render",value:function(){var o=this,a=Fa(this.state,this.props);return B.createElement(t,pe({ref:function(l){o.instance=l}},a,{carouselStore:{getStoreState:this.context.getStoreState,masterSpinnerError:this.context.masterSpinnerError,masterSpinnerSuccess:this.context.masterSpinnerSuccess,setStoreState:this.context.setStoreState,subscribeMasterSpinner:this.context.subscribeMasterSpinner,unsubscribeAllMasterSpinner:this.context.unsubscribeAllMasterSpinner,unsubscribeMasterSpinner:this.context.unsubscribeMasterSpinner}}),this.props.children)}}]),i}(B.Component);return ee(n,"contextType",ep),ee(n,"propTypes",{children:tt.children}),ee(n,"defaultProps",{children:null}),n}var dx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fx=dx;W1.resetWarningCache=q1;var px=function(){function t(r,i,s,o,a,l){if(l!==fx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:W1,resetWarningCache:q1};return n.PropTypes=n,n},v=H1(function(t){t.exports=px()}),Ec="loading",$g="success",Lg="error",tt={children:v.oneOfType([v.arrayOf(v.node),v.node]),direction:v.oneOf(["forward","backward"]),height:function(t,e){var n=t[e];return t.orientation!=="vertical"||n!==null&&typeof n=="number"?null:new Error("Missing required property '".concat(e,"' when orientation is vertical.  You must supply a number representing the height in pixels"))},orientation:v.oneOf(["horizontal","vertical"]),isBgImage:function(t,e){return t[e]===!0&&t.tag==="img"?new Error("HTML img elements should not have a backgroundImage.  Please use ".concat(e," for other block-level HTML tags, like div, a, section, etc...")):null}},Ma=function(t){var e=t.min,n=t.max,r=t.x;return Math.min(n,Math.max(e,r))},mx={buttonBack:"buttonBack___1mlaL"},gx=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],nd=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.handleOnClick=i.handleOnClick.bind(Q(i)),i}St(e,t);var n=_t(e);return st(e,[{key:"handleOnClick",value:function(r){var i=this.props,s=i.carouselStore,o=i.currentSlide,a=i.onClick,l=i.step,u=i.infinite,c=i.visibleSlides,h=i.totalSlides-c,d=Math.max(o-l,0);u&&(d=o===0?h:d),s.setStoreState({currentSlide:d,isPlaying:!1},a!==null&&a.call(this,r))}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.className),s=(r.currentSlide,r.disabled,r.onClick,r.step,r.totalSlides,r.visibleSlides,r.infinite),o=je(r,gx),a=me([mx.buttonBack,"carousel__back-button",i]),l=e.setDisabled(this.props.disabled,this.props.currentSlide,s);return B.createElement("button",pe({type:"button","aria-label":"previous",className:a,onClick:this.handleOnClick,disabled:l},o),this.props.children)}}],[{key:"setDisabled",value:function(r,i,s){return r!==null?r:i===0&&!s}}]),e}(B.Component);ee(nd,"propTypes",{carouselStore:v.object.isRequired,children:tt.children.isRequired,className:v.string,currentSlide:v.number.isRequired,disabled:v.bool,onClick:v.func,step:v.number.isRequired,totalSlides:v.number.isRequired,visibleSlides:v.number.isRequired,infinite:v.bool}),ee(nd,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1});var rd=H1(function(t,e){var n={}.toString,r=typeof window<"u"?window.Node:Function;t.exports=e=function(s){var o=typeof s;if(o!="object")return o;if(o=i[n.call(s)],o=="object")return s instanceof Map?"map":s instanceof Set?"set":"object";if(o)return o;if(s instanceof r)switch(s.nodeType){case 1:return"element";case 3:return"text-node";case 9:return"document";case 11:return"document-fragment";default:return"dom-node"}};var i=e.types={"[object Function]":"function","[object Date]":"date","[object RegExp]":"regexp","[object Arguments]":"arguments","[object Array]":"array","[object Set]":"set","[object String]":"string","[object Null]":"null","[object Undefined]":"undefined","[object Number]":"number","[object Boolean]":"boolean","[object Object]":"object","[object Map]":"map","[object Text]":"text-node","[object Uint8Array]":"bit-array","[object Uint16Array]":"bit-array","[object Uint32Array]":"bit-array","[object Uint8ClampedArray]":"bit-array","[object Error]":"error","[object FormData]":"form-data","[object File]":"file","[object Blob]":"blob"}});rd.types;var kt={};kt.number=function(t,e){return t!==t&&e!==e},kt.function=function(t,e,n){return t.toString()===e.toString()&&kt.object(t,e,n)&&Pu(t.prototype,e.prototype)},kt.date=function(t,e){return+t==+e},kt.regexp=function(t,e){return t.toString()===e.toString()},kt.element=function(t,e){return t.outerHTML===e.outerHTML},kt.textnode=function(t,e){return t.textContent===e.textContent},kt.arguments=kt["bit-array"]=kt.array=Ag(ix),kt.object=Ag(sx);var Rg=Pu,yx=function(t){return ox(t)&&!ax(t)},vx=typeof Symbol=="function"&&Symbol.for,Sx=vx?Symbol.for("react.element"):60103;uo.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return uo(n,r,e)},{})};var Fa=uo,ep=B.createContext(),Mg=function t(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(n){!e.hasOwnProperty(n)||e[n]===null||typeof e[n]!="object"&&typeof e[n]!="function"||Object.isFrozen(e[n])||t(e[n])}),e},_x={masterSpinnerFinished:!1},wx=function(){function t(e){it(this,t),this.state=Mg(Fa(_x,e)),this.subscriptions=[],this.masterSpinnerSubscriptions={},this.setStoreState=this.setStoreState.bind(this),this.getStoreState=this.getStoreState.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.updateSubscribers=this.updateSubscribers.bind(this),this.subscribeMasterSpinner=this.subscribeMasterSpinner.bind(this),this.unsubscribeMasterSpinner=this.unsubscribeMasterSpinner.bind(this),this.unsubscribeAllMasterSpinner=this.unsubscribeAllMasterSpinner.bind(this),this.masterSpinnerSuccess=this.masterSpinnerSuccess.bind(this),this.masterSpinnerError=this.masterSpinnerError.bind(this)}return st(t,[{key:"setStoreState",value:function(e,n){this.state=Mg(Fa(this.state,e)),this.updateSubscribers(n)}},{key:"getStoreState",value:function(){return Fa({},this.state)}},{key:"subscribe",value:function(e){this.subscriptions.push(e)}},{key:"unsubscribe",value:function(e){var n=this.subscriptions.indexOf(e);n!==-1&&this.subscriptions.splice(n,1)}},{key:"updateSubscribers",value:function(e){this.subscriptions.forEach(function(n){return n()}),typeof e=="function"&&e(this.getStoreState())}},{key:"subscribeMasterSpinner",value:function(e){Object.keys(this.masterSpinnerSubscriptions).indexOf(e)===-1&&(this.masterSpinnerSubscriptions[e]={success:!1,error:!1,complete:!1})}},{key:"unsubscribeMasterSpinner",value:function(e){return Object.keys(this.masterSpinnerSubscriptions).indexOf(e)!==-1&&(this.setMasterSpinnerFinished(),delete this.masterSpinnerSubscriptions[e])}},{key:"unsubscribeAllMasterSpinner",value:function(){this.masterSpinnerSubscriptions={},this.setMasterSpinnerFinished()}},{key:"masterSpinnerSuccess",value:function(e){this.masterSpinnerSubscriptions[e].success=!0,this.masterSpinnerSubscriptions[e].complete=!0,this.setMasterSpinnerFinished()}},{key:"masterSpinnerError",value:function(e){this.masterSpinnerSubscriptions[e].error=!0,this.masterSpinnerSubscriptions[e].complete=!0,this.setMasterSpinnerFinished()}},{key:"setMasterSpinnerFinished",value:function(){this.setStoreState({masterSpinnerFinished:this.isMasterSpinnerFinished()})}},{key:"isMasterSpinnerFinished",value:function(){var e=this;return Object.keys(this.masterSpinnerSubscriptions).filter(function(n){return e.masterSpinnerSubscriptions[n].complete!==!0}).length===0}}]),t}(),Cx=["children","className","currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","naturalSlideHeight","naturalSlideWidth","orientation","playDirection","step","dragStep","tag","totalSlides","touchEnabled","dragEnabled","visibleSlides","infinite","isIntrinsicHeight"],aa,tp=(aa=function(t){function e(r){var i;if(it(this,e),i=n.call(this,r),r.isIntrinsicHeight&&r.orientation!=="horizontal")throw Error('isIntrinsicHeight can only be used in "horizontal" orientation. See Readme for more information.');var s={currentSlide:r.currentSlide,disableAnimation:r.disableAnimation,disableKeyboard:r.disableKeyboard,hasMasterSpinner:r.hasMasterSpinner,imageErrorCount:0,imageSuccessCount:0,interval:r.interval,isPageScrollLocked:r.isPageScrollLocked,isPlaying:r.isPlaying,lockOnWindowScroll:r.lockOnWindowScroll,masterSpinnerThreshold:0,naturalSlideHeight:r.naturalSlideHeight,naturalSlideWidth:r.naturalSlideWidth,orientation:r.orientation,playDirection:r.playDirection,privateUnDisableAnimation:!1,slideSize:xg(r.totalSlides,r.visibleSlides),slideTraySize:bg(r.totalSlides,r.visibleSlides),step:r.step,dragStep:r.dragStep,totalSlides:r.totalSlides,touchEnabled:r.touchEnabled,dragEnabled:r.dragEnabled,visibleSlides:r.visibleSlides,infinite:r.infinite,isIntrinsicHeight:r.isIntrinsicHeight};return i.carouselStore=new wx(s),i}St(e,t);var n=_t(e);return st(e,[{key:"componentDidUpdate",value:function(r){var i=this,s={};["currentSlide","disableAnimation","disableKeyboard","hasMasterSpinner","interval","isPlaying","naturalSlideHeight","naturalSlideWidth","lockOnWindowScroll","orientation","playDirection","step","dragStep","totalSlides","touchEnabled","dragEnabled","visibleSlides"].forEach(function(o){r[o]!==i.props[o]&&(s[o]=i.props[o])}),this.props.currentSlide!==r.currentSlide&&!this.props.disableAnimation&&(s.disableAnimation=!0,s.privateUnDisableAnimation=!0),this.props.totalSlides===r.totalSlides&&this.props.visibleSlides===r.visibleSlides||(s.slideSize=xg(this.props.totalSlides,this.props.visibleSlides),s.slideTraySize=bg(this.props.totalSlides,this.props.visibleSlides)),this.carouselStore.state.currentSlide>=this.props.totalSlides&&(s.currentSlide=Math.max(this.props.totalSlides-1,0)),Object.keys(s).length>0&&this.carouselStore.setStoreState(s)}},{key:"componentWillUnmount",value:function(){this.carouselStore.unsubscribeAllMasterSpinner()}},{key:"getStore",value:function(){return this.carouselStore}},{key:"render",value:function(){var r=this.props,i=(r.children,r.className,r.currentSlide,r.disableAnimation,r.disableKeyboard,r.hasMasterSpinner,r.interval,r.isPageScrollLocked,r.isPlaying,r.lockOnWindowScroll,r.naturalSlideHeight,r.naturalSlideWidth,r.orientation,r.playDirection,r.step,r.dragStep,r.tag),s=(r.totalSlides,r.touchEnabled,r.dragEnabled,r.visibleSlides,r.infinite,r.isIntrinsicHeight,je(r,Cx)),o=me(["carousel",this.props.className]);return B.createElement(i,pe({className:o},s),B.createElement(ep.Provider,{value:this.carouselStore},this.props.children))}}]),e}(B.Component),ee(aa,"propTypes",{children:tt.children.isRequired,className:v.string,currentSlide:v.number,disableAnimation:v.bool,disableKeyboard:v.bool,hasMasterSpinner:v.bool,interval:v.number,isPageScrollLocked:v.bool,isPlaying:v.bool,lockOnWindowScroll:v.bool,naturalSlideHeight:v.number.isRequired,naturalSlideWidth:v.number.isRequired,orientation:tt.orientation,playDirection:tt.direction,step:v.number,dragStep:v.number,tag:v.string,totalSlides:v.number.isRequired,touchEnabled:v.bool,dragEnabled:v.bool,visibleSlides:v.number,infinite:v.bool,isIntrinsicHeight:v.bool}),ee(aa,"defaultProps",{className:null,currentSlide:0,disableAnimation:!1,disableKeyboard:!1,hasMasterSpinner:!1,interval:5e3,isPageScrollLocked:!1,isPlaying:!1,lockOnWindowScroll:!1,orientation:"horizontal",playDirection:"forward",step:1,dragStep:1,tag:"div",touchEnabled:!0,dragEnabled:!0,visibleSlides:1,infinite:!1,isIntrinsicHeight:!1}),aa);ep.Consumer;var np=en(nd,function(t){return{currentSlide:t.currentSlide,step:t.step,totalSlides:t.totalSlides,visibleSlides:t.visibleSlides,infinite:t.infinite}}),Ex={buttonFirst:"buttonFirst___2rhFr"},kx=["carouselStore","className","currentSlide","disabled","onClick","totalSlides"],la,Tx=(la=function(t){function e(){var r;return it(this,e),r=n.call(this),r.handleOnClick=r.handleOnClick.bind(Q(r)),r}St(e,t);var n=_t(e);return st(e,[{key:"handleOnClick",value:function(r){var i=this.props,s=i.carouselStore,o=i.onClick;s.setStoreState({currentSlide:0,isPlaying:!1},o!==null&&o.call(this,r))}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.className),s=r.currentSlide,o=r.disabled,a=(r.onClick,r.totalSlides,je(r,kx)),l=me([Ex.buttonFirst,"carousel__first-button",i]),u=o!==null?o:s===0;return B.createElement("button",pe({type:"button","aria-label":"first",className:l,onClick:this.handleOnClick,disabled:u},a),this.props.children)}}]),e}(B.Component),ee(la,"propTypes",{carouselStore:v.object.isRequired,children:tt.children.isRequired,className:v.string,currentSlide:v.number.isRequired,disabled:v.bool,onClick:v.func,totalSlides:v.number.isRequired}),ee(la,"defaultProps",{className:null,disabled:null,onClick:null}),la);en(Tx,function(t){return{currentSlide:t.currentSlide,totalSlides:t.totalSlides}});var Nx={buttonNext:"buttonNext___2mOCa"},Ix=["carouselStore","className","currentSlide","disabled","onClick","step","totalSlides","visibleSlides","infinite"],ua,Px=(ua=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.handleOnClick=i.handleOnClick.bind(Q(i)),i}St(e,t);var n=_t(e);return st(e,[{key:"handleOnClick",value:function(r){var i=this.props,s=i.currentSlide,o=i.onClick,a=i.step,l=i.carouselStore,u=i.infinite,c=i.totalSlides-i.visibleSlides,h=a+s,d=Math.min(h,c);u&&(d=c===s?0:d),l.setStoreState({currentSlide:d,isPlaying:!1},o!==null&&o.call(this,r))}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.className),s=r.currentSlide,o=r.disabled,a=(r.onClick,r.step,r.totalSlides),l=r.visibleSlides,u=r.infinite,c=je(r,Ix),h=me([Nx.buttonNext,"carousel__next-button",i]),d=e.setDisabled(o,s,l,a,u);return B.createElement("button",pe({type:"button","aria-label":"next",className:h,onClick:this.handleOnClick,disabled:d},c),this.props.children)}}],[{key:"setDisabled",value:function(r,i,s,o,a){return r!==null?r:i>=o-s&&!a}}]),e}(B.PureComponent),ee(ua,"propTypes",{carouselStore:v.object.isRequired,children:tt.children.isRequired,className:v.string,currentSlide:v.number.isRequired,disabled:v.bool,onClick:v.func,step:v.number.isRequired,totalSlides:v.number.isRequired,visibleSlides:v.number.isRequired,infinite:v.bool}),ee(ua,"defaultProps",{className:null,disabled:null,onClick:null,infinite:!1}),ua),rp=en(Px,function(t){return{currentSlide:t.currentSlide,step:t.step,totalSlides:t.totalSlides,visibleSlides:t.visibleSlides,infinite:t.infinite}}),Dx={buttonLast:"buttonLast___2yuh0"},xx=["carouselStore","className","currentSlide","disabled","onClick","totalSlides","visibleSlides"],ca,bx=(ca=function(t){function e(){var r;return it(this,e),r=n.call(this),r.handleOnClick=r.handleOnClick.bind(Q(r)),r}St(e,t);var n=_t(e);return st(e,[{key:"handleOnClick",value:function(r){var i=this.props,s=i.carouselStore,o=i.onClick,a=i.totalSlides,l=i.visibleSlides;s.setStoreState({currentSlide:a-l,isPlaying:!1},o!==null&&o.call(this,r))}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.className),s=r.currentSlide,o=r.disabled,a=(r.onClick,r.totalSlides),l=r.visibleSlides,u=je(r,xx),c=me([Dx.buttonLast,"carousel__last-button",i]),h=o!==null?o:s>=a-l;return B.createElement("button",pe({type:"button","aria-label":"last",className:c,onClick:this.handleOnClick,disabled:h},u),this.props.children)}}]),e}(B.Component),ee(ca,"propTypes",{carouselStore:v.object.isRequired,children:tt.children.isRequired,className:v.string,currentSlide:v.number.isRequired,disabled:v.bool,onClick:v.func,totalSlides:v.number.isRequired,visibleSlides:v.number.isRequired}),ee(ca,"defaultProps",{className:null,disabled:null,onClick:null}),ca);en(bx,function(t){return{currentSlide:t.currentSlide,totalSlides:t.totalSlides,visibleSlides:t.visibleSlides}});var Ax={buttonNext:"buttonNext___3Lm3s"},Ox=["carouselStore","children","childrenPaused","childrenPlaying","className","isPlaying","onClick"],ha,$x=(ha=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.handleOnClick=i.handleOnClick.bind(Q(i)),i}St(e,t);var n=_t(e);return st(e,[{key:"handleOnClick",value:function(r){var i=this.props.onClick;this.props.carouselStore.setStoreState({isPlaying:!this.props.isPlaying},i!==null&&i.call(this,r))}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.children,r.childrenPaused),s=r.childrenPlaying,o=r.className,a=r.isPlaying,l=(r.onClick,je(r,Ox)),u=me([Ax.buttonNext,"carousel__play-button",o]);return B.createElement("button",pe({type:"button","aria-label":"play",className:u,onClick:this.handleOnClick},l),a&&s,!a&&i,this.props.children)}}]),e}(B.PureComponent),ee(ha,"propTypes",{carouselStore:v.object.isRequired,children:v.node,childrenPaused:v.node,childrenPlaying:v.node,className:v.string,isPlaying:v.bool.isRequired,onClick:v.func}),ee(ha,"defaultProps",{children:null,childrenPaused:null,childrenPlaying:null,className:null,onClick:null}),ha);en($x,function(t){return{isPlaying:t.isPlaying}});var Fg={dot:"dot___3c3SI"},Lx=["carouselStore","children","className","currentSlide","disabled","onClick","selected","slide","totalSlides","visibleSlides"],da,Rx=(da=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.handleOnClick=i.handleOnClick.bind(Q(i)),i}St(e,t);var n=_t(e);return st(e,[{key:"handleOnClick",value:function(r){var i=this.props,s=i.carouselStore,o=i.onClick,a=i.slide,l=i.totalSlides,u=i.visibleSlides,c=a>=l-u?l-u:a;s.setStoreState({currentSlide:c,isPlaying:!1},o!==null&&o.call(this,r))}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.children,r.className),s=r.currentSlide,o=r.disabled,a=(r.onClick,r.selected),l=r.slide,u=(r.totalSlides,r.visibleSlides),c=je(r,Lx),h=l>=s&&l<s+u,d=typeof a=="boolean"?a:h,m=h===!0,_=typeof o=="boolean"?o:m,y=me([Fg.dot,d&&Fg.dotSelected,"carousel__dot","carousel__dot--".concat(l),d&&"carousel__dot--selected",i]);return B.createElement("button",pe({"aria-label":"slide dot",type:"button",onClick:this.handleOnClick,className:y,disabled:_},c),this.props.children)}}]),e}(B.Component),ee(da,"propTypes",{carouselStore:v.object.isRequired,children:tt.children,className:v.string,currentSlide:v.number.isRequired,disabled:v.bool,onClick:v.func,selected:v.bool,slide:v.number.isRequired,totalSlides:v.number.isRequired,visibleSlides:v.number.isRequired}),ee(da,"defaultProps",{children:null,className:null,disabled:null,onClick:null,selected:null}),da),Mx=en(Rx,function(t){return{currentSlide:t.currentSlide,totalSlides:t.totalSlides,visibleSlides:t.visibleSlides}}),Fx={},Bx=["renderDots"],zx=["carouselStore","children","className","currentSlide","dotNumbers","totalSlides","visibleSlides","disableActiveDots","showAsSelectedForCurrentSlideOnly","renderDots"],fa,Ux=(fa=function(t){function e(){return it(this,e),n.apply(this,arguments)}St(e,t);var n=_t(e);return st(e,[{key:"renderDots",value:function(){var r=this.props,i=r.currentSlide,s=r.totalSlides,o=r.visibleSlides,a=r.disableActiveDots,l=r.showAsSelectedForCurrentSlideOnly,u=r.renderDots;if(u){var c=this.props;return c.renderDots,u(je(c,Bx))}for(var h=[],d=0;d<s;d+=1){var m=d>=i&&d<i+o,_=d===i,y=l?_:m,E=d>=s-o?s-o:d;h.push(B.createElement(Mx,{key:d,slide:E,selected:y,disabled:!!a&&y},B.createElement("span",{className:me["carousel__dot-group-dot"]},this.props.dotNumbers&&d+1)))}return h}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.children),s=r.className,o=(r.currentSlide,r.dotNumbers,r.totalSlides,r.visibleSlides,r.disableActiveDots,r.showAsSelectedForCurrentSlideOnly,r.renderDots,je(r,zx)),a=me([Fx.DotGroup,"carousel__dot-group",s]);return B.createElement("div",pe({className:a},o),this.renderDots(),i)}}]),e}(B.Component),ee(fa,"propTypes",{children:tt.children,className:v.string,currentSlide:v.number.isRequired,carouselStore:v.object.isRequired,totalSlides:v.number.isRequired,visibleSlides:v.number.isRequired,dotNumbers:v.bool,disableActiveDots:v.bool,showAsSelectedForCurrentSlideOnly:v.bool,renderDots:v.func}),ee(fa,"defaultProps",{children:null,className:null,dotNumbers:!1,disableActiveDots:!0,showAsSelectedForCurrentSlideOnly:!1,renderDots:null}),fa);en(Ux,function(t){return{currentSlide:t.currentSlide,totalSlides:t.totalSlides,visibleSlides:t.visibleSlides}});var ss={image:"image___xtQGH"},Vx=["src","alt"],jx=["carouselStore","children","className","hasMasterSpinner","isBgImage","onError","onLoad","renderError","renderLoading","style","tag"],id=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.state={imageStatus:Ec},i.handleImageLoad=i.handleImageLoad.bind(Q(i)),i.handleImageError=i.handleImageError.bind(Q(i)),i.image=null,i}St(e,t);var n=_t(e);return st(e,[{key:"componentDidMount",value:function(){e.subscribeMasterSpinner(this.props),this.initImage()}},{key:"componentDidUpdate",value:function(r){r.src!==this.props.src&&(e.unsubscribeMasterSpinner(r),e.subscribeMasterSpinner(this.props),this.initImage())}},{key:"componentWillUnmount",value:function(){e.unsubscribeMasterSpinner(this.props),this.image.removeEventListener("load",this.handleImageLoad),this.image.removeEventListener("error",this.handleImageError),this.image=null}},{key:"initImage",value:function(){if(this.setState({imageStatus:Ec}),this.image=document.createElement("img"),this.image.addEventListener("load",this.handleImageLoad,!1),this.image.addEventListener("error",this.handleImageError,!1),this.image.src=this.props.src,this.image.readyState||this.image.complete){var r=this.image.src;this.image.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.image.src=r}}},{key:"handleImageLoad",value:function(r){this.setState({imageStatus:$g}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerSuccess(this.props.src),this.props.onLoad&&this.props.onLoad(r)}},{key:"handleImageError",value:function(r){this.setState({imageStatus:Lg}),this.props.hasMasterSpinner&&this.props.carouselStore.masterSpinnerError(this.props.src),this.props.onError&&this.props.onError(r)}},{key:"tempTag",value:function(){return this.props.tag==="img"?"div":this.props.tag}},{key:"customRender",value:function(r){return typeof this.props[r]=="function"?this.props[r]():this.props.children}},{key:"renderLoading",value:function(r){var i=this.tempTag(),s=me([ss.image,ss.imageLoading,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--loading",this.props.className]);return B.createElement(i,pe({className:s},r),this.customRender("renderLoading"))}},{key:"renderError",value:function(r){var i=this.tempTag(),s=me([ss.image,ss.imageError,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--error",this.props.className]);return B.createElement(i,pe({className:s},r),this.customRender("renderError"))}},{key:"renderSuccess",value:function(r){var i=this.props,s=i.style,o=i.tag,a=me([ss.image,"carousel__image",this.props.isBgImage&&"carousel__image--with-background","carousel__image--success",this.props.className]),l=pe({},s),u=r;if(o!=="img"){var c=r.src;r.alt,u=je(r,Vx),l=pe({},s,{backgroundImage:'url("'.concat(c,'")'),backgroundSize:"cover"})}return B.createElement(o,pe({className:a,style:l},u),this.props.children)}},{key:"render",value:function(){var r=this.props,i=(r.carouselStore,r.children,r.className,r.hasMasterSpinner,r.isBgImage,r.onError,r.onLoad,r.renderError,r.renderLoading,r.style,r.tag,je(r,jx));switch(this.state.imageStatus){case Ec:return this.renderLoading(i);case $g:return this.renderSuccess(i);case Lg:return this.renderError(i);default:throw new Error("unknown value for this.state.imageStatus")}}}],[{key:"subscribeMasterSpinner",value:function(r){r.hasMasterSpinner&&r.carouselStore.subscribeMasterSpinner(r.src)}},{key:"unsubscribeMasterSpinner",value:function(r){r.hasMasterSpinner&&r.carouselStore.unsubscribeMasterSpinner(r.src)}}]),e}(B.Component);ee(id,"propTypes",{alt:v.string,carouselStore:v.object.isRequired,children:tt.children,className:v.string,hasMasterSpinner:v.bool.isRequired,isBgImage:tt.isBgImage,onError:v.func,onLoad:v.func,renderError:v.func,renderLoading:v.func,src:v.string.isRequired,style:v.object,tag:v.string}),ee(id,"defaultProps",{alt:"",children:null,className:null,isBgImage:!1,onError:null,onLoad:null,renderError:null,renderLoading:null,style:null,tag:"img"});var Bg=en(id,function(t){return{hasMasterSpinner:t.hasMasterSpinner,orientation:t.orientation}}),Hx={spinner:"spinner___27VUp",spin:"spin___S3UuE"},qx=["className"],pa,K1=(pa=function(t){function e(){return it(this,e),n.apply(this,arguments)}St(e,t);var n=_t(e);return st(e,[{key:"render",value:function(){var r=this.props,i=r.className,s=je(r,qx),o=me([Hx.spinner,"carousel__spinner",i]);return B.createElement("div",pe({className:o},s))}}]),e}(B.PureComponent),ee(pa,"propTypes",{className:v.string}),ee(pa,"defaultProps",{className:null}),pa),Kr={container:"container___2O72F",overlay:"overlay___IV4qY",hover:"hover___MYy31",zoom:"zoom___3kqYk",loading:"loading___1pvNI",imageLoadingSpinnerContainer:"imageLoadingSpinnerContainer___3UIPD"},Wx=["alt","bgImageProps","bgImageTag","carouselStore","className","imageClassName","overlayClassName","isPinchZoomEnabled","spinner","src","srcZoomed","tag"],ma,Kx=2,Gx=3,Qx=(ma=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.state={isImageLoading:!0,isHovering:!1,isZooming:!1,x:null,y:null,scale:1},i.tpCache={},i.handleImageComplete=i.handleImageComplete.bind(Q(i)),i.handleOnMouseMove=i.handleOnMouseMove.bind(Q(i)),i.handleOnMouseOut=i.handleOnMouseOut.bind(Q(i)),i.handleOnMouseOver=i.handleOnMouseOver.bind(Q(i)),i.handleOnTouchEnd=i.handleOnTouchEnd.bind(Q(i)),i.handleOnTouchMove=i.handleOnTouchMove.bind(Q(i)),i.handleOnTouchStart=i.handleOnTouchStart.bind(Q(i)),i}St(e,t);var n=_t(e);return st(e,[{key:"componentDidUpdate",value:function(r,i){i.isZooming===!1&&this.state.isZooming===!0&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),i.isZooming===!0&&this.state.isZooming===!1&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1})}},{key:"handleImageComplete",value:function(){this.setState({isImageLoading:!1})}},{key:"handleOnMouseOver",value:function(){this.state.isZooming||this.setState({isHovering:!0,scale:Kx})}},{key:"handleOnMouseOut",value:function(){this.state.isZooming||this.setState({isHovering:!1,scale:1})}},{key:"handleOnMouseMove",value:function(r){if(!this.state.isZooming){var i=It(r.nativeEvent.offsetX/r.target.offsetWidth*100),s=It(r.nativeEvent.offsetY/r.target.offsetHeight*100);this.setState({x:i,y:s})}}},{key:"handleOnTouchStart",value:function(r){var i=this;this.props.isPinchZoomEnabled&&(Cc(r.targetTouches).forEach(function(s){i.tpCache[s.identifier]={clientX:s.clientX,clientY:s.clientY}}),this.setState(function(s){return{isZooming:s.isZooming||Object.keys(i.tpCache).length>1}}))}},{key:"handleOnTouchMove",value:function(r){var i=this;if(this.state.isZooming){r.persist();var s=Cc(r.targetTouches).filter(function(E){return i.tpCache[E.identifier]}).slice(0,2);if(s.length===2){r.stopPropagation();var o=r.target.getBoundingClientRect(),a=s[0].identifier,l=s[1].identifier,u={x1:this.tpCache[a].clientX,y1:this.tpCache[a].clientY,x2:this.tpCache[l].clientX,y2:this.tpCache[l].clientY};u.distance=e.distanceBetweenTwoTouches(ci({},u));var c=e.midpointBetweenTwoTouches(ci({},u));u.cx=c.x,u.cy=c.y;var h={x1:s[0].clientX,y1:s[0].clientY,x2:s[1].clientX,y2:s[1].clientY};h.distance=e.distanceBetweenTwoTouches(ci({},h));var d=e.midpointBetweenTwoTouches(ci({},h));h.cx=d.x,h.cy=d.y;var m=It(Ma({min:0,max:100,x:(h.cx-o.left)/o.width*100})),_=It(Ma({min:0,max:100,x:(h.cy-o.top)/o.height*100})),y=function(E){return Ma({min:1,max:Gx,x:E.scale+(h.distance-u.distance)/100})};this.setState(function(E){return{isZooming:y(E)!==1,scale:y(E),x:m,y:_}})}}}},{key:"handleOnTouchEnd",value:function(r){var i=this;this.props.isPinchZoomEnabled&&(Cc(r.changedTouches).forEach(function(s){delete i.tpCache[s.identifier]}),Object.keys(this.tpCache).length===0&&this.setState({isZooming:!1}))}},{key:"renderLoading",value:function(){if(this.state.isImageLoading){var r=this.props.spinner;return B.createElement("div",{className:me([Kr.imageLoadingSpinnerContainer,"carousel__image-loading-spinner-container"])},r&&r(),!r&&B.createElement(K1,null))}return null}},{key:"render",value:function(){var r=this.props,i=r.alt,s=r.bgImageProps,o=r.bgImageTag,a=(r.carouselStore,r.className),l=r.imageClassName,u=r.overlayClassName,c=(r.isPinchZoomEnabled,r.spinner,r.src),h=r.srcZoomed,d=r.tag,m=je(r,Wx),_=me([Kr.container,a]),y=me([Kr.image,"carousel__zoom-image",l]),E=me([Kr.overlay,"carousel__zoom-image-overlay",this.state.isHovering&&Kr.hover,this.state.isZooming&&Kr.zoom,this.state.isHovering&&"carousel__zoom-image-overlay--hovering",this.state.isZooming&&"carousel__zoom-image-overlay--zooming",u]),p={};return(this.state.isHovering||this.state.isZooming)&&(p.transformOrigin="".concat(this.state.x," ").concat(this.state.y),p.transform="scale(".concat(this.state.scale,")")),B.createElement(d,pe({className:_},m),B.createElement(Bg,pe({alt:i,className:y,tag:o,src:c,onLoad:this.handleImageComplete,onError:this.handleImageComplete},s)),B.createElement(Bg,{className:E,tag:"div",src:h||c,style:p,isBgImage:!0,onFocus:this.handleOnMouseOver,onMouseOver:this.handleOnMouseOver,onBlur:this.handleOnMouseOut,onMouseOut:this.handleOnMouseOut,onMouseMove:this.handleOnMouseMove,onTouchStart:this.handleOnTouchStart,onTouchEnd:this.handleOnTouchEnd,onTouchMove:this.handleOnTouchMove}),this.renderLoading())}}],[{key:"midpointBetweenTwoTouches",value:function(r){var i=r.x1,s=r.y1;return{x:(i+r.x2)/2,y:(s+r.y2)/2}}},{key:"distanceBetweenTwoTouches",value:function(r){var i=r.x1,s=r.y1,o=r.x2,a=r.y2;return Math.sqrt(Math.pow(o-i,2)+Math.pow(a-s,2))}}]),e}(B.Component),ee(ma,"propTypes",{alt:v.string,bgImageProps:v.object,bgImageTag:v.string,carouselStore:v.object.isRequired,className:v.string,imageClassName:v.string,overlayClassName:v.string,spinner:v.func,src:v.string.isRequired,srcZoomed:v.string,tag:v.string,isPinchZoomEnabled:v.bool}),ee(ma,"defaultProps",{alt:void 0,bgImageProps:{},bgImageTag:"div",className:null,imageClassName:null,overlayClassName:null,isPinchZoomEnabled:!0,spinner:null,srcZoomed:null,tag:"div"}),ma);en(Qx,function(){return{}});var ga={slide:"slide___3-Nqo",slideHorizontal:"slideHorizontal___1NzNV",slideInner:"slideInner___2mfX9",focusRing:"focusRing___1airF"},Yx=["ariaLabel","carouselStore","children","className","classNameHidden","classNameVisible","currentSlide","index","innerClassName","innerTag","naturalSlideHeight","naturalSlideWidth","onBlur","onFocus","orientation","slideSize","style","tabIndex","tag","totalSlides","visibleSlides","isIntrinsicHeight"],ya,Xx=(ya=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.handleOnFocus=i.handleOnFocus.bind(Q(i)),i.handleOnBlur=i.handleOnBlur.bind(Q(i)),i.state={focused:!1},i}St(e,t);var n=_t(e);return st(e,[{key:"isVisible",value:function(){var r=this.props,i=r.currentSlide,s=r.index,o=r.visibleSlides;return s>=i&&s<i+o}},{key:"handleOnFocus",value:function(r){var i=this,s=this.props.onFocus;this.setState({focused:!0},function(){s!==null&&s.call(i,r)})}},{key:"handleOnBlur",value:function(r){var i=this,s=this.props.onBlur;this.setState({focused:!1},function(){s!==null&&s.call(i,r)})}},{key:"renderFocusRing",value:function(){return this.state.focused?B.createElement("div",{className:[ga.focusRing,"carousel__slide-focus-ring"].join(" ")}):null}},{key:"render",value:function(){var r=this,i=this.props,s=i.ariaLabel,o=(i.carouselStore,i.children,i.className),a=i.classNameHidden,l=i.classNameVisible,u=(i.currentSlide,i.index,i.innerClassName),c=i.innerTag,h=i.naturalSlideHeight,d=i.naturalSlideWidth,m=(i.onBlur,i.onFocus,i.orientation),_=i.slideSize,y=i.style,E=i.tabIndex,p=i.tag,f=i.totalSlides,g=(i.visibleSlides,i.isIntrinsicHeight),C=je(i,Yx),N={};m==="horizontal"?(N.width=It(_),N.paddingBottom=It(100*h/(d*f))):(N.width=It(100),N.paddingBottom=It(100*h/d));var P={};g&&(m==="horizontal"?N.height="unset":N.width="unset",N.paddingBottom="unset",P.position="unset");var A=pe({},N,y),D=this.isVisible(),re=me([ga.slide,m==="horizontal"&&ga.slideHorizontal,"carousel__slide",this.state.focused&&"carousel__slide--focused",D&&l,D&&"carousel__slide--visible",!D&&a,!D&&"carousel__slide--hidden",o]),V=me([ga.slideInner,"carousel__inner-slide",u]),ie=this.isVisible()?0:-1,$t=typeof E=="number"?E:ie;return B.createElement(p,pe({ref:function(wt){r.tagRef=wt},tabIndex:$t,"aria-selected":this.isVisible(),"aria-label":s,role:"option",onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,className:re,style:A},C),B.createElement(c,{ref:function(wt){r.innerTagRef=wt},className:V,style:P},this.props.children,this.renderFocusRing()))}}]),e}(B.PureComponent),ee(ya,"propTypes",{ariaLabel:v.string,carouselStore:v.object,children:tt.children,className:v.string,classNameHidden:v.string,classNameVisible:v.string,currentSlide:v.number.isRequired,index:v.number.isRequired,innerClassName:v.string,innerTag:v.string,naturalSlideHeight:v.number.isRequired,naturalSlideWidth:v.number.isRequired,onBlur:v.func,onFocus:v.func,orientation:tt.orientation.isRequired,slideSize:v.number.isRequired,style:v.object,tabIndex:v.number,tag:v.string,totalSlides:v.number.isRequired,visibleSlides:v.number.isRequired,isIntrinsicHeight:v.bool}),ee(ya,"defaultProps",{ariaLabel:"slide",carouselStore:null,children:null,className:null,classNameHidden:null,classNameVisible:null,innerClassName:null,innerTag:"div",onBlur:null,onFocus:null,style:{},tabIndex:null,tag:"div",isIntrinsicHeight:!1}),ya),Ds=en(Xx,function(t){return{currentSlide:t.currentSlide,naturalSlideHeight:t.naturalSlideHeight,naturalSlideWidth:t.naturalSlideWidth,orientation:t.orientation,slideSize:t.slideSize,totalSlides:t.totalSlides,visibleSlides:t.visibleSlides,isIntrinsicHeight:t.isIntrinsicHeight}}),Jx=function(){function t(){it(this,t)}return st(t,[{key:"parents",value:function(e,n){return e.parentNode===null?n:this.parents(e.parentNode,n.concat([e]))}},{key:"scrollParent",value:function(e){for(var n=this.parents(e.parentNode,[]),r=0;r<n.length;r+=1)if(t.scroll(n[r]))return n[r];return document.scrollingElement||document.documentElement}},{key:"getScrollParent",value:function(e){return t.isNodeValid(e)?this.scrollParent(e):null}}],[{key:"style",value:function(e,n){return getComputedStyle(e,null).getPropertyValue(n)}},{key:"overflow",value:function(e){return t.style(e,"overflow")+t.style(e,"overflow-y")+t.style(e,"overflow-x")}},{key:"scroll",value:function(e){return/(auto|scroll)/.test(t.overflow(e))}},{key:"isNodeValid",value:function(e){return e instanceof HTMLElement||e instanceof SVGElement}}]),t}(),rn={horizontalSlider:"horizontalSlider___281Ls",horizontalSliderTray:"horizontalSliderTray___1L-0W",verticalSlider:"verticalSlider___34ZFD",verticalSliderTray:"verticalSliderTray___267D8",verticalTray:"verticalTray___12Key",verticalSlideTrayWrap:"verticalSlideTrayWrap___2nO7o",sliderTray:"sliderTray___-vHFQ",sliderAnimation:"sliderAnimation___300FY",masterSpinnerContainer:"masterSpinnerContainer___1Z6hB"},Zx=["ariaLabel","carouselStore","children","className","classNameAnimation","classNameTray","classNameTrayWrap","currentSlide","disableAnimation","disableKeyboard","dragEnabled","hasMasterSpinner","interval","isPageScrollLocked","isPlaying","lockOnWindowScroll","masterSpinnerFinished","moveThreshold","naturalSlideHeight","naturalSlideWidth","onMasterSpinner","orientation","playDirection","privateUnDisableAnimation","slideSize","slideTraySize","spinner","style","tabIndex","totalSlides","touchEnabled","trayProps","trayTag","visibleSlides","isIntrinsicHeight"],eb=["dragStep","step","infinite","preventVerticalScrollOnTouch","preventingVerticalScroll","horizontalPixelThreshold","verticalPixelThreshold"],tb=["className","onClickCapture","onMouseDown","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","ref","style"],va,nb=(va=function(t){function e(r){var i;return it(this,e),i=n.call(this,r),i.getSliderRef=i.getSliderRef.bind(Q(i)),i.handleDocumentScroll=i.handleDocumentScroll.bind(Q(i)),i.handleOnClickCapture=i.handleOnClickCapture.bind(Q(i)),i.handleOnKeyDown=i.handleOnKeyDown.bind(Q(i)),i.handleOnMouseDown=i.handleOnMouseDown.bind(Q(i)),i.handleOnMouseMove=i.handleOnMouseMove.bind(Q(i)),i.handleOnMouseUp=i.handleOnMouseUp.bind(Q(i)),i.handleOnTouchCancel=i.handleOnTouchCancel.bind(Q(i)),i.handleOnTouchEnd=i.handleOnTouchEnd.bind(Q(i)),i.handleOnTouchMove=i.handleOnTouchMove.bind(Q(i)),i.handleOnTouchStart=i.handleOnTouchStart.bind(Q(i)),i.playBackward=i.playBackward.bind(Q(i)),i.playForward=i.playForward.bind(Q(i)),i.callCallback=i.callCallback.bind(Q(i)),i.blockWindowScroll=i.blockWindowScroll.bind(Q(i)),i.state={cancelNextClick:!1,deltaX:0,deltaY:0,isBeingMouseDragged:!1,isBeingTouchDragged:!1,preventingVerticalScroll:!1,startX:0,startY:0},i.interval=null,i.isDocumentScrolling=null,i.moveTimer=null,i.originalOverflow=null,i.scrollParent=null,i.scrollStopTimer=null,i}St(e,t);var n=_t(e);return st(e,[{key:"componentDidMount",value:function(){this.props.lockOnWindowScroll&&window.addEventListener("scroll",this.handleDocumentScroll,!1),(this.props.touchEnabled||this.props.preventVerticalScrollOnTouch)&&window.addEventListener("touchmove",this.blockWindowScroll,!1),document.documentElement.addEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.addEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.addEventListener("mouseup",this.handleOnMouseUp,!1),this.props.isPlaying&&this.play()}},{key:"componentDidUpdate",value:function(r){!r.isPlaying&&this.props.isPlaying&&this.play(),r.isPlaying&&!this.props.isPlaying&&this.stop(),!r.isPageScrollLocked&&this.props.isPageScrollLocked&&this.lockScroll(),r.isPageScrollLocked&&!this.props.isPageScrollLocked&&this.unlockScroll(),r.privateUnDisableAnimation===!1&&this.props.privateUnDisableAnimation===!0&&this.props.carouselStore.setStoreState({privateUnDisableAnimation:!1,disableAnimation:!1})}},{key:"componentWillUnmount",value:function(){document.documentElement.removeEventListener("mouseleave",this.handleOnMouseUp,!1),document.documentElement.removeEventListener("mousemove",this.handleOnMouseMove,!1),document.documentElement.removeEventListener("mouseup",this.handleOnMouseUp,!1),window.removeEventListener("scroll",this.handleDocumentScroll,!1),window.removeEventListener("touchmove",this.blockWindowScroll,!1),this.stop(),window.cancelAnimationFrame.call(window,this.moveTimer),window.clearTimeout(this.scrollStopTimer),this.isDocumentScrolling=null,this.moveTimer=null,this.scrollStopTimer=null}},{key:"getSliderRef",value:function(r){this.sliderTrayElement=r}},{key:"fakeOnDragStart",value:function(r){var i=r.screenX,s=r.screenY,o=r.touchDrag,a=o!==void 0&&o,l=r.mouseDrag,u=l!==void 0&&l;this.props.carouselStore.setStoreState({isPlaying:!1}),window.cancelAnimationFrame.call(window,this.moveTimer),this.props.orientation==="vertical"&&this.props.carouselStore.setStoreState({isPageScrollLocked:!0}),this.setState({isBeingTouchDragged:a,isBeingMouseDragged:u,startX:i,startY:s})}},{key:"fakeOnDragMove",value:function(r,i){var s=this;this.moveTimer=window.requestAnimationFrame.call(window,function(){s.setState(function(o){return{deltaX:r-o.startX,deltaY:i-o.startY,preventingVerticalScroll:Math.abs(i-o.startY)<=s.props.verticalPixelThreshold&&Math.abs(r-o.startX)>=s.props.horizontalPixelThreshold}})})}},{key:"fakeOnDragEnd",value:function(){window.cancelAnimationFrame.call(window,this.moveTimer),this.computeCurrentSlide(),this.props.orientation==="vertical"&&this.props.carouselStore.setStoreState({isPageScrollLocked:!1}),this.setState({deltaX:0,deltaY:0,isBeingTouchDragged:!1,isBeingMouseDragged:!1}),this.isDocumentScrolling=!this.props.lockOnWindowScroll&&null}},{key:"callCallback",value:function(r,i){var s=this.props.trayProps;s&&typeof s[r]=="function"&&(i.persist(),s[r](i))}},{key:"handleOnMouseDown",value:function(r){if(!this.props.dragEnabled)return void this.callCallback("onMouseDown",r);r.preventDefault(),this.fakeOnDragStart({screenX:r.screenX,screenY:r.screenY,mouseDrag:!0}),this.callCallback("onMouseDown",r)}},{key:"handleOnMouseMove",value:function(r){this.state.isBeingMouseDragged&&(this.setState({cancelNextClick:!0}),r.preventDefault(),this.fakeOnDragMove(r.screenX,r.screenY))}},{key:"handleOnMouseUp",value:function(r){this.state.isBeingMouseDragged&&(r.preventDefault(),this.fakeOnDragEnd())}},{key:"handleOnClickCapture",value:function(r){if(!this.state.cancelNextClick)return void this.callCallback("onClickCapture",r);r.preventDefault(),this.setState({cancelNextClick:!1}),this.callCallback("onClickCapture",r)}},{key:"handleOnTouchStart",value:function(r){if(!this.props.touchEnabled)return void this.callCallback("onTouchStart",r);this.props.orientation==="vertical"&&r.preventDefault();var i=r.targetTouches[0];this.fakeOnDragStart({screenX:i.screenX,screenY:i.screenY,touchDrag:!0}),this.callCallback("onTouchStart",r)}},{key:"handleDocumentScroll",value:function(){var r=this;this.props.touchEnabled&&(this.isDocumentScrolling=!0,window.clearTimeout(this.scrollStopTimer),this.scrollStopTimer=window.setTimeout(function(){r.isDocumentScrolling=!1},66))}},{key:"handleOnTouchMove",value:function(r){if(!this.props.touchEnabled||this.props.lockOnWindowScroll&&this.isDocumentScrolling)return void this.callCallback("onTouchMove",r);window.cancelAnimationFrame.call(window,this.moveTimer);var i=r.targetTouches[0];i&&(this.fakeOnDragMove(i.screenX,i.screenY),this.callCallback("onTouchMove",r))}},{key:"forward",value:function(){var r=this.props,i=r.currentSlide,s=r.step,o=r.totalSlides,a=r.visibleSlides;return Math.min(i+s,o-a)}},{key:"backward",value:function(){var r=this.props,i=r.currentSlide,s=r.step;return Math.max(i-s,0)}},{key:"handleOnKeyDown",value:function(r){var i=r.keyCode,s=this.props,o=s.carouselStore,a=s.currentSlide,l=s.disableKeyboard,u=s.totalSlides,c=s.visibleSlides,h={};l===!0||u<=c||(i===37&&(r.preventDefault(),this.focus(),h.currentSlide=Math.max(0,a-1),h.isPlaying=!1),i===39&&(r.preventDefault(),this.focus(),h.currentSlide=Math.min(u-c,a+1),h.isPlaying=!1),o.setStoreState(h))}},{key:"playForward",value:function(){var r=this.props,i=r.carouselStore,s=r.currentSlide;i.setStoreState({currentSlide:this.forward()===s?0:this.forward()})}},{key:"playBackward",value:function(){var r=this.props,i=r.carouselStore,s=r.currentSlide,o=r.totalSlides,a=r.visibleSlides;i.setStoreState({currentSlide:this.backward()===s?o-a:this.backward()})}},{key:"play",value:function(){var r=this.props.playDirection;this.interval=setInterval(r==="forward"?this.playForward:this.playBackward,this.props.interval)}},{key:"stop",value:function(){window.clearInterval(this.interval),this.interval=null}},{key:"lockScroll",value:function(){var r=new Jx;this.scrollParent=r.getScrollParent(this.sliderTrayElement),this.scrollParent&&(this.originalOverflow=this.originalOverflow||this.scrollParent.style.overflow,this.scrollParent.style.overflow="hidden")}},{key:"unlockScroll",value:function(){this.scrollParent&&(this.scrollParent.style.overflow=this.originalOverflow,this.originalOverflow=null,this.scrollParent=null)}},{key:"blockWindowScroll",value:function(r){this.state.preventingVerticalScroll&&(r.preventDefault(),r.stopImmediatePropagation())}},{key:"computeCurrentSlide",value:function(){var r=e.slideSizeInPx(this.props.orientation,this.sliderTrayElement.clientWidth,this.sliderTrayElement.clientHeight,this.props.totalSlides),i=e.slidesMoved(this.props.moveThreshold,this.props.orientation,this.state.deltaX,this.state.deltaY,r,this.props.dragStep),s=this.props.totalSlides-Math.min(this.props.totalSlides,this.props.visibleSlides),o=Ma({min:0,max:s,x:this.props.currentSlide+i});this.props.infinite&&(this.props.currentSlide>=s&&i>0&&(o=0),this.props.currentSlide===0&&i<0&&(o=s)),this.props.carouselStore.setStoreState({currentSlide:o})}},{key:"focus",value:function(){this.sliderElement.focus()}},{key:"handleOnTouchEnd",value:function(r){this.endTouchMove(),this.callCallback("onTouchEnd",r)}},{key:"handleOnTouchCancel",value:function(r){this.endTouchMove(),this.callCallback("onTouchCancel",r)}},{key:"endTouchMove",value:function(){this.props.touchEnabled&&this.fakeOnDragEnd()}},{key:"renderMasterSpinner",value:function(){var r=this.props,i=r.hasMasterSpinner,s=r.masterSpinnerFinished,o=r.spinner;return i&&!s?(typeof this.props.onMasterSpinner=="function"&&this.props.onMasterSpinner(),B.createElement("div",{className:me([rn.masterSpinnerContainer,"carousel__master-spinner-container"])},o&&o(),!o&&B.createElement(K1,null))):null}},{key:"render",value:function(){var r=this,i=this.props,s=i.ariaLabel,o=(i.carouselStore,i.children),a=i.className,l=i.classNameAnimation,u=i.classNameTray,c=i.classNameTrayWrap,h=i.currentSlide,d=i.disableAnimation,m=(i.disableKeyboard,i.dragEnabled,i.hasMasterSpinner,i.interval,i.isPageScrollLocked,i.isPlaying,i.lockOnWindowScroll,i.masterSpinnerFinished,i.moveThreshold,i.naturalSlideHeight),_=i.naturalSlideWidth,y=(i.onMasterSpinner,i.orientation),E=(i.playDirection,i.privateUnDisableAnimation,i.slideSize),p=i.slideTraySize,f=(i.spinner,i.style),g=i.tabIndex,C=(i.totalSlides,i.touchEnabled,i.trayProps),N=i.trayTag,P=i.visibleSlides,A=i.isIntrinsicHeight,D=je(i,Zx),re=pe({},f),V={};y==="vertical"&&(V.height=0,V.paddingBottom=It(100*m*P/_),V.width=It(100));var ie={},$t=It(E*h*-1);(this.state.isBeingTouchDragged||this.state.isBeingMouseDragged||d)&&(ie.transition="none"),A&&(ie.display="flex",ie.alignItems="stretch"),y==="vertical"?(ie.transform="translateY(".concat($t,") translateY(").concat(this.state.deltaY,"px)"),ie.width=It(100),ie.flexDirection="column"):(ie.width=It(p),ie.transform="translateX(".concat($t,") translateX(").concat(this.state.deltaX,"px)"),ie.flexDirection="row");var wt=me([y==="vertical"?rn.verticalSlider:rn.horizontalSlider,"carousel__slider",y==="vertical"?"carousel__slider--vertical":"carousel__slider--horizontal",a]),qr=me([rn.sliderTrayWrap,"carousel__slider-tray-wrapper",y==="vertical"?rn.verticalSlideTrayWrap:rn.horizontalTrayWrap,y==="vertical"?"carousel__slider-tray-wrap--vertical":"carousel__slider-tray-wrap--horizontal",c]),Qi=me([rn.sliderTray,l||rn.sliderAnimation,"carousel__slider-tray",y==="vertical"?rn.verticalTray:rn.horizontalTray,y==="vertical"?"carousel__slider-tray--vertical":"carousel__slider-tray--horizontal",u]),ne=g!==null?g:0,ht=(D.dragStep,D.step,D.infinite,D.preventVerticalScrollOnTouch,D.preventingVerticalScroll,D.horizontalPixelThreshold,D.verticalPixelThreshold,je(D,eb)),x=(C.className,C.onClickCapture,C.onMouseDown,C.onTouchCancel,C.onTouchEnd,C.onTouchMove,C.onTouchStart,C.ref,C.style,je(C,tb));return B.createElement("div",pe({ref:function(M){r.sliderElement=M},className:wt,"aria-live":"polite","aria-label":s,style:re,tabIndex:ne,onKeyDown:this.handleOnKeyDown,role:"listbox"},ht),B.createElement("div",{className:qr,style:V},B.createElement(N,pe({ref:this.getSliderRef,className:Qi,style:ie,onTouchStart:this.handleOnTouchStart,onTouchMove:this.handleOnTouchMove,onTouchEnd:this.handleOnTouchEnd,onTouchCancel:this.handleOnTouchCancel,onMouseDown:this.handleOnMouseDown,onClickCapture:this.handleOnClickCapture},x),o),this.renderMasterSpinner()))}}],[{key:"slideSizeInPx",value:function(r,i,s,o){return(r==="horizontal"?i:s)/o}},{key:"slidesMoved",value:function(r,i,s,o,a,l){var u=i==="horizontal"?s:o,c=Math.abs(Math.round(u/a)),h=Math.abs(u)>=a*r?l:0,d=Math.max(h,c);if(u<0)return d;var m=-d;return m===0?0:m}}]),e}(B.Component),ee(va,"propTypes",{ariaLabel:v.string,carouselStore:v.object.isRequired,children:v.node.isRequired,className:v.string,classNameAnimation:v.string,classNameTray:v.string,classNameTrayWrap:v.string,currentSlide:v.number.isRequired,disableAnimation:v.bool,disableKeyboard:v.bool,dragEnabled:v.bool.isRequired,dragStep:v.number,hasMasterSpinner:v.bool.isRequired,infinite:v.bool,interval:v.number.isRequired,isPageScrollLocked:v.bool.isRequired,isPlaying:v.bool.isRequired,lockOnWindowScroll:v.bool.isRequired,preventVerticalScrollOnTouch:v.bool,horizontalPixelThreshold:v.number,verticalPixelThreshold:v.number,masterSpinnerFinished:v.bool.isRequired,moveThreshold:v.number,naturalSlideHeight:v.number.isRequired,naturalSlideWidth:v.number.isRequired,onMasterSpinner:v.func,orientation:tt.orientation.isRequired,playDirection:tt.direction.isRequired,privateUnDisableAnimation:v.bool,slideSize:v.number.isRequired,slideTraySize:v.number.isRequired,spinner:v.func,step:v.number.isRequired,style:v.object,tabIndex:v.number,totalSlides:v.number.isRequired,touchEnabled:v.bool.isRequired,trayProps:v.shape({className:v.string,onClickCapture:v.func,onMouseDown:v.func,onTouchCancel:v.func,onTouchEnd:v.func,onTouchMove:v.func,onTouchStart:v.func,ref:v.shape({}),style:v.string}),trayTag:v.string,visibleSlides:v.number,isIntrinsicHeight:v.bool}),ee(va,"defaultProps",{ariaLabel:"slider",className:null,classNameAnimation:null,classNameTray:null,classNameTrayWrap:null,disableAnimation:!1,disableKeyboard:!1,dragStep:1,infinite:!1,preventVerticalScrollOnTouch:!0,horizontalPixelThreshold:15,verticalPixelThreshold:10,moveThreshold:.1,onMasterSpinner:null,privateUnDisableAnimation:!1,spinner:null,style:{},tabIndex:null,trayProps:{},trayTag:"div",visibleSlides:1,isIntrinsicHeight:!1}),va),ip=en(nb,function(t){return{currentSlide:t.currentSlide,disableAnimation:t.disableAnimation,privateUnDisableAnimation:t.privateUnDisableAnimation,disableKeyboard:t.disableKeyboard,dragEnabled:t.dragEnabled,hasMasterSpinner:t.hasMasterSpinner,infinite:t.infinite,interval:t.interval,isPageScrollLocked:t.isPageScrollLocked,isPlaying:t.isPlaying,lockOnWindowScroll:t.lockOnWindowScroll,preventingVerticalScroll:t.preventingVerticalScroll,masterSpinnerFinished:t.masterSpinnerFinished,naturalSlideHeight:t.naturalSlideHeight,naturalSlideWidth:t.naturalSlideWidth,orientation:t.orientation,playDirection:t.playDirection,slideSize:t.slideSize,slideTraySize:t.slideTraySize,step:t.step,dragStep:t.dragStep,totalSlides:t.totalSlides,touchEnabled:t.touchEnabled,visibleSlides:t.visibleSlides,isIntrinsicHeight:t.isIntrinsicHeight}});const rb="_Carousel_pd96k_2",ib="_Carousel_Slide_pd96k_6",sb="_Carousel_ImgHolder_pd96k_9",ob="_Carousel_Img_pd96k_9",ab="_Carousel_BackBtn_pd96k_18",lb="_Carousel_NextBtn_pd96k_35",Ct={Carousel:rb,Carousel_Slide:ib,Carousel_ImgHolder:sb,Carousel_Img:ob,Carousel_BackBtn:ab,Carousel_NextBtn:lb},ub=()=>b(tp,{naturalSlideWidth:145,naturalSlideHeight:60,totalSlides:3,className:Ct.Carousel,isPlaying:!0,children:[b(ip,{className:Ct.Carousel_Slider,children:[S(Ds,{index:0,className:Ct.Carousel_Slide,children:S("div",{className:Ct.Carousel_ImgHolder,children:S("img",{className:Ct.Carousel_Img,src:"./src/assets/HomeCarousel/christmas.png",alt:"christmas 50% sale"})})}),S(Ds,{index:1,className:Ct.Carousel_Slide,children:S("div",{className:Ct.Carousel_ImgHolder,children:S("img",{className:Ct.Carousel_Img,src:"./src/assets/HomeCarousel/superheroes.png",alt:"superhero collection"})})}),S(Ds,{index:2,className:Ct.Carousel_Slide,children:S("div",{className:Ct.Carousel_ImgHolder,children:S("img",{className:Ct.Carousel_Img,src:"./src/assets/HomeCarousel/3Danimals.png",alt:"new 3D animal collection"})})})]}),S(np,{className:Ct.Carousel_BackBtn,children:""}),S(rp,{className:Ct.Carousel_NextBtn,children:""})]}),cb="_PrimaryFeaturedCategory_arbg9_2",hb="_PrimaryFeaturedCategory_Secondary_arbg9_10",db="_Heading_arbg9_14",fb="_Heading_Secondary_arbg9_21",pb="_Carousel_arbg9_25",mb="_Carousel_Slide_arbg9_29",gb="_Carousel_CardHolder_arbg9_34",yb="_Carousel_ProductCard_arbg9_38",vb="_Carousel_Buttons_arbg9_43",Sb="_Carousel_Buttons_Back_arbg9_58",_b="_Carousel_Buttons_Next_arbg9_62",wb="_Carousel_Buttons_Secondary_arbg9_66",Ht={PrimaryFeaturedCategory:cb,PrimaryFeaturedCategory_Secondary:hb,Heading:db,Heading_Secondary:fb,Carousel:pb,Carousel_Slide:mb,Carousel_CardHolder:gb,Carousel_ProductCard:yb,Carousel_Buttons:vb,Carousel_Buttons_Back:Sb,Carousel_Buttons_Next:_b,Carousel_Buttons_Secondary:wb},G1=async t=>{let e=[];const n=BD(I1(vt,"products"),zD("categories","array-contains",t));return(await F1(n)).forEach(i=>{const s=i.data(),o={id:i.id,...s};e.push(o)}),e},Zn=t=>t.toFixed(2),Du=t=>t.charAt(0).toUpperCase()+t.slice(1,t.length),Cb="_ProductCard_xt2hv_2",Eb="_ProductImgHolder_xt2hv_14",kb="_ProductImgHolder_Img_xt2hv_17",Tb="_Favourited_Container_xt2hv_25",Nb="_Favourited_Star_Checked_xt2hv_35",Ib="_Favourited_Star_Unchecked_xt2hv_46",Pb="_ProductName_xt2hv_58",Db="_ProductPrice_xt2hv_67",xb="_NavLink_xt2hv_74",bb="_BuyNow_xt2hv_84",sn={ProductCard:Cb,ProductImgHolder:Eb,ProductImgHolder_Img:kb,Favourited_Container:Tb,Favourited_Star_Checked:Nb,Favourited_Star_Unchecked:Ib,ProductName:Pb,ProductPrice:Db,NavLink:xb,BuyNow:bb},tn=w.createContext(),Ab=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState([]),[s,o]=w.useState([]),a={user:e,setUser:n,favourites:r,setFavourites:i,inCart:s,setInCart:o};return S(tn.Provider,{value:a,children:t})},Ob=async t=>{const e=Ut(vt,"users",t),n=await Iu(e);if(n.exists()){const r=t,i=n.data();return{id:r,...i}}},xu=async t=>{const e=Ut(vt,"users",t.id),n=await Iu(e);if(n.exists())return n.data().favourites},fn=async t=>{const e=Ut(vt,"users",t.id),n=await Iu(e);if(n.exists())return n.data().inCart},$b=async(t,e)=>{await Q1(t,e)?Rb(t,e):Lb(t,e)},Q1=async(t,e)=>(await xu(t)).some(i=>i.id===e.id),Lb=async(t,e)=>{const n=await xu(t);n.push(e);const r=Ut(vt,"users",t.id);await cr(r,{favourites:n})},Rb=async(t,e)=>{const r=(await xu(t)).filter(s=>s.id!==e.id),i=Ut(vt,"users",t.id);await cr(i,{favourites:r})},sp=({product:t})=>{const{id:e,name:n,images:r,price:i}=t,{user:s}=w.useContext(tn),o=Zn(i),[a,l]=w.useState(!1),u=a?sn.Favourited_Star_Checked:sn.Favourited_Star_Unchecked,c=()=>{$b(s,t),l(!a)};return w.useEffect(()=>{(async()=>{const d=await Q1(s,t);l(d)})()},[]),w.useEffect(()=>{},[a]),S(Nc,{children:b("div",{className:sn.ProductCard,children:[r&&b("div",{className:sn.ProductImgHolder,children:[S("img",{className:sn.ProductImgHolder_Img,src:r[0]}),S("div",{className:sn.Favourited_Container,children:S("p",{className:u,onClick:c,children:""})})]}),S("h4",{className:sn.ProductName,children:n}),b("p",{className:sn.ProductPrice,children:["$",o]}),S(Oe,{to:`/${e}`,className:sn.NavLink,children:S("button",{className:sn.BuyNow,children:"Buy Now"})})]})})},Mb=({categoryName:t})=>{const[e,n]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await G1(t);n(i)})()},[t]),b("div",{className:Ht.PrimaryFeaturedCategory,children:[b("h1",{className:Ht.Heading,children:[Du(t),"-Themed Socks"]}),b(tp,{naturalSlideWidth:10,naturalSlideHeight:20,totalSlides:e.length+5,visibleSlides:5.4,className:Ht.Carousel,children:[S(ip,{className:Ht.Carousel_Slider,children:e&&e.map((r,i)=>S(Ds,{index:i,className:Ht.Carousel_Slide,children:S("div",{className:Ht.Carousel_CardHolder,children:S(sp,{product:r,className:Ht.Carousel_ProductCard})})},r.id))}),S(np,{className:Ht.Carousel_Buttons+" "+Ht.Carousel_Buttons_Back,children:""}),S(rp,{className:Ht.Carousel_Buttons+" "+Ht.Carousel_Buttons_Next,children:""})]})]})},Fb="_PrimaryFeaturedCategory_1trua_2",Bb="_Heading_1trua_11",zb="_Carousel_1trua_19",Ub="_Carousel_Slide_1trua_23",Vb="_Carousel_CardHolder_1trua_28",jb="_Carousel_ProductCard_1trua_32",Hb="_Carousel_Buttons_1trua_37",qb="_Carousel_Buttons_Back_1trua_52",Wb="_Carousel_Buttons_Next_1trua_56",Kb="_Carousel_Buttons_Secondary_1trua_60",qt={PrimaryFeaturedCategory:Fb,Heading:Bb,Carousel:zb,Carousel_Slide:Ub,Carousel_CardHolder:Vb,Carousel_ProductCard:jb,Carousel_Buttons:Hb,Carousel_Buttons_Back:qb,Carousel_Buttons_Next:Wb,Carousel_Buttons_Secondary:Kb},Gb=({categoryName:t})=>{const[e,n]=w.useState([]);return w.useEffect(()=>{(async()=>{const i=await G1(t);n(i)})()},[t]),b("div",{className:qt.PrimaryFeaturedCategory,children:[b("h1",{className:qt.Heading,children:[Du(t),"-Themed Socks"]}),b(tp,{naturalSlideWidth:10,naturalSlideHeight:20,totalSlides:e.length+5,visibleSlides:5.4,className:qt.Carousel,children:[S(ip,{className:qt.Carousel_Slider,children:e&&e.map((r,i)=>S(Ds,{index:i,className:qt.Carousel_Slide,children:S("div",{className:qt.Carousel_CardHolder,children:S(sp,{product:r,className:qt.Carousel_ProductCard})})},r.id))}),S(np,{className:qt.Carousel_Buttons+" "+qt.Carousel_Buttons_Back,children:""}),S(rp,{className:qt.Carousel_Buttons+" "+qt.Carousel_Buttons_Next,children:""})]})]})},Y1=(t,e,n)=>{const r=t.find(i=>i.id===e.id&&i.size===n);return console.log("already in cart?",r),r?(r.quantity+=1,t):[{id:e.id,name:e.name,images:e.images,price:e.price,onSale:e.onSale,size:n,quantity:1},...t]},X1=(t,e,n)=>{const r=t.find(s=>s.id===e.id&&s.size===n);return r.quantity>1?(r.quantity-=1,t):t.filter(o=>!(o.id===e.id&&o.size===n))},J1=async(t,e,n)=>(await fn(t)).some(s=>s.id===e.id&&s.size===n),Z1=async(t,e,n)=>{const r=await fn(t),{id:i,name:s,images:o,price:a,onSale:l}=e,u={id:i,name:s,images:o,price:a,onSale:l,size:n,quantity:1};r.push(u),U1(e.id);const c=Ut(vt,"users",t.id);await cr(c,{inCart:r})},e_=async(t,e,n)=>{const i=(await fn(t)).filter(o=>!(o.id===e.id&&o.size===n)),s=Ut(vt,"users",t.id);await cr(s,{inCart:i}),V1(e.id)},t_=async(t,e,n)=>{const r=await fn(t),i=r.findIndex(a=>a.id===e.id&&a.size===n),s=r.slice(i);s[0].quantity+=1;const o=Ut(vt,"users",t.id);await cr(o,{inCart:r}),U1(e.id)},n_=async(t,e,n)=>{const r=await fn(t),i=r.findIndex(a=>a.id===e.id&&a.size===n),s=r.slice(i);s[0].quantity-=1;const o=Ut(vt,"users",t.id);await cr(o,{inCart:r}),V1(e.id)},xs=(t,e,n)=>(async()=>{const o=(await fn(t)).find(a=>a.id===e.id&&a.size===n);return o?o.quantity:0})(),op=async t=>{const e=await fn(t),n=[];return e.forEach(i=>{n.push(i.quantity)}),n.reduce((i,s)=>i+=s,0)},Qb=async t=>{const e=await fn(t),n=[];return e.forEach(i=>{const s=i.price*i.quantity;n.push(s)}),n.reduce((i,s)=>i+=s,0)},Yb=async t=>{const n=(await fn(t)).filter(s=>s.onSale===!0),r=[];return n.forEach(s=>{const o=s.price*1*s.quantity;r.push(o)}),r.reduce((s,o)=>s+=o,0)},Xb=()=>{const{setProducts:t}=w.useContext(Bi),{matchedItems:e,setFoundItemCount:n}=w.useContext(zr),{setTotalCartCount:r}=w.useContext(An),{user:i,setUser:s,favourites:o,setFavourites:a,inCart:l,setInCart:u}=w.useContext(tn);return w.useEffect(()=>{(async()=>{const h=await B1();t(h),e.length===0&&n(h.length)})()},[]),w.useEffect(()=>{(async()=>{const h=await Ob("BeorY05zH7u4GyNdDByE");s(h)})()},[]),w.useEffect(()=>{if(!i)return;(async()=>{const h=await op(i);r(h)})(),a(i.favourites),u(i.inCart)},[i]),b("div",{className:YD.HomePage,children:[S(zi,{}),S(ub,{}),S(Mb,{categoryName:"food"}),S(Gb,{categoryName:"character"}),S(Ui,{})]})},Jb="_ShopPage_158bs_1",Zb="_NavBar_158bs_9",zg={ShopPage:Jb,NavBar:Zb},eA="_ItemsFound_b3fhy_2",tA={ItemsFound:eA},nA=()=>{const{foundItemCount:t}=w.useContext(zr);return b("div",{className:tA.ItemsFound,children:[t," Item",t===1?"":"s"," Found"]})},rA="_Products_fgh8g_2",iA="_ProductGrid_fgh8g_10",sA="_ProductCard_fgh8g_18",kc={Products:rA,ProductGrid:iA,ProductCard:sA},r_=({products:t,pageNum:e})=>S("div",{className:kc.Products,children:S("div",{className:kc.ProductGrid,children:t&&t.filter((n,r)=>r>=e*50&&r<(e+1)*50).map(n=>S("div",{className:kc.ProductCard,children:S(sp,{product:n})},n.id))})}),oA="_PageSelector_8qbge_2",aA="_PageSelector_Text_8qbge_11",lA="_PageSelector_Btn_8qbge_18",Gr={PageSelector:oA,PageSelector_Text:aA,PageSelector_Btn:lA},uA=({handlePageFirst:t,handlePageDecrement:e,handlePageIncrement:n,handlePageLast:r,pageNum:i,productNum:s})=>b("div",{className:Gr.PageSelector,children:[S("button",{className:Gr.PageSelector_Btn,onClick:t,children:"< <"}),S("button",{className:Gr.PageSelector_Btn,onClick:e,children:"<"}),b("p",{className:Gr.PageSelector_Text,children:["Page ",i+1," of ",Math.ceil(s/50)]}),S("button",{className:Gr.PageSelector_Btn,onClick:n,children:">"}),S("button",{className:Gr.PageSelector_Btn,onClick:r,children:"> >"})]}),cA="_ProductGridContainer_155ca_2",hA="_NothingFound_155ca_9",Ug={ProductGridContainer:cA,NothingFound:hA},dA=()=>{const{products:t}=w.useContext(Bi),{matchedItems:e,failedSearch:n,foundItemCount:r}=w.useContext(zr),[i,s]=w.useState(0),o=()=>{s(c=>c<Math.ceil(r/50)-1?c+1:c)},a=()=>{s(c=>c>0?c-1:c)},l=()=>{s(0)},u=()=>{s(Math.ceil(r/50)-1)};return w.useEffect(()=>{s(0)},[e]),w.useEffect(()=>{},[i]),b("div",{className:Ug.ProductGridContainer,children:[!t&&S("p",{children:"Loading..."}),t&&b(Nc,{children:[n&&S("p",{className:Ug.NothingFound,children:"Sorry, no items matched that search."}),!n&&b(Nc,{children:[S(r_,{products:e.length===0?t:e,pageNum:i}),S(uA,{handlePageFirst:l,handlePageLast:u,handlePageDecrement:a,handlePageIncrement:o,pageNum:i,productNum:r})]})]})]})},fA=()=>{const{products:t,setProducts:e}=w.useContext(Bi),{user:n}=w.useContext(tn),{setTotalCartCount:r}=w.useContext(An),{matchedItems:i,setMatchedItems:s,setFoundItemCount:o}=w.useContext(zr);return w.useEffect(()=>{(async()=>{const l=await B1();e(l),i.length===0&&o(l.length);const u=await op(n);r(u)})()},[]),b("div",{className:zg.ShopPage,children:[S(zi,{className:zg.NavBar}),S(nA,{}),S(dA,{}),S(Ui,{})]})},pA="_ImagesContainer_fpeww_2",mA="_SideBar_fpeww_10",gA="_SideBar_Img_fpeww_19",yA="_FeatureImg_fpeww_25",vA="_FeatureImg_Img_fpeww_32",os={ImagesContainer:pA,SideBar:mA,SideBar_Img:gA,FeatureImg:yA,FeatureImg_Img:vA},SA=({images:t,name:e,featuredImg:n,onClick:r})=>b("div",{className:os.ImagesContainer,children:[S("div",{className:os.SideBar,children:t&&t.map((i,s)=>S("img",{className:os.SideBar_Img,src:i,alt:e,onClick:r},`${e} ${s}`))}),S("div",{className:os.FeatureImg,children:S("img",{className:os.FeatureImg_Img,src:n})})]}),_A="_DetailsContainer_rcfwz_2",wA="_ProductName_rcfwz_10",CA="_Prices_rcfwz_18",EA="_Prices_Price_rcfwz_25",kA="_Prices_FullPrice_rcfwz_29",TA="_Prices_Discount_rcfwz_34",NA="_SizeHeader_rcfwz_40",IA="_Sizing_rcfwz_46",PA="_Sizing_CategoriesContainer_rcfwz_52",DA="_Sizing_CategoryRadio_rcfwz_58",xA="_Sizing_Label_rcfwz_70",bA="_Sizing_Dropdown_rcfwz_75",AA="_Sizing_Dropdown_Option_rcfwz_80",OA="_AddCartBtn_rcfwz_84",$A="_InCartBtn_rcfwz_102",LA="_InCartBtn_Btns_rcfwz_115",RA="_InCartBtn_Quantity_rcfwz_124",MA="_InStock_rcfwz_129",FA="_Description_rcfwz_137",BA="_Description_Container_rcfwz_140",zA="_Description_Label_rcfwz_151",UA="_Description_ArrowDown_rcfwz_157",VA="_Description_ArrowUp_rcfwz_164",jA="_Description_Modal_Container_rcfwz_171",HA="_Description_Modal_Description_rcfwz_175",qA="_Description_Modal_MaterialLabel_rcfwz_181",WA="_Description_Modal_Material_rcfwz_181",X={DetailsContainer:_A,ProductName:wA,Prices:CA,Prices_Price:EA,Prices_FullPrice:kA,Prices_Discount:TA,SizeHeader:NA,Sizing:IA,Sizing_CategoriesContainer:PA,Sizing_CategoryRadio:DA,Sizing_Label:xA,Sizing_Dropdown:bA,Sizing_Dropdown_Option:AA,AddCartBtn:OA,InCartBtn:$A,InCartBtn_Btns:LA,InCartBtn_Quantity:RA,InStock:MA,Description:FA,Description_Container:BA,Description_Label:zA,Description_ArrowDown:UA,Description_ArrowUp:VA,Description_Modal_Container:jA,Description_Modal_Description:HA,Description_Modal_MaterialLabel:qA,Description_Modal_Material:WA},KA=({product:t,descriptionModal:e,toggleDescriptionModal:n,selectedCategory:r,handleRadioSelect:i,handleDropdownSelect:s,addToCart:o,removeFromCart:a,thisInCart:l,thisQuantityInCart:u})=>{const{name:c,price:h,description:d,adultSizes:m,kidsSizes:_,material:y,onSale:E}=t;return w.useContext(tn),w.useEffect(()=>{},[r]),b("div",{className:X.DetailsContainer,children:[S("h1",{className:X.ProductName,children:c}),b("div",{className:X.Prices,children:[b("h5",{className:X.Prices_Price,children:["$",Zn(h)]}),E&&b("h5",{className:X.Prices_FullPrice,children:["$",Zn(h*2)]}),E&&S("h5",{className:X.Prices_Discount,children:"50% off"})]}),S("h3",{className:X.SizeHeader,children:"Select Your Size"}),b("div",{className:X.Sizing,children:[m&&_&&b("div",{className:X.Sizing_CategoriesContainer,children:[S("input",{className:X.Sizing_CategoryRadio,type:"radio",name:"size-category",value:"adults",onChange:i}),S("label",{className:X.Sizing_Label,htmlFor:"adultSizes",children:"Adult"}),S("input",{className:X.Sizing_CategoryRadio,type:"radio",name:"size-category",value:"kids",onChange:i}),S("label",{className:X.Sizing_Label,htmlFor:"kidSizes",children:"Kids"})]}),!_&&S("p",{className:X.Sizing_Label,children:"Adults"}),!m&&S("p",{className:X.Sizing_Label,children:"Kids"}),b("select",{className:X.Sizing_Dropdown,onChange:s,children:[S("option",{className:X.Sizing_Dropdown_Option}),S("option",{children:"S"}),S("option",{children:"M"}),S("option",{children:"L"}),m&&r!=="kids"&&S("option",{children:"XL"})]})]}),!l&&S("button",{className:X.AddCartBtn,onClick:o,children:"Add To Cart"}),l&&b("div",{className:X.InCartBtn,children:[S("button",{className:X.InCartBtn_Btns,onClick:a,children:"-"}),S("p",{className:X.InCartBtn_Quantity,children:u>0&&u}),S("button",{className:X.InCartBtn_Btns,onClick:o,children:"+"})]}),S("p",{className:X.InStock,children:"In Stock"}),b("button",{className:X.Description_Container,onClick:n,children:[S("p",{className:X.Description_Label,children:"Description "}),b("p",{className:e?X.Description_ArrowUp:X.Description_ArrowDown,children:[e?"":""," "]})]}),e&&b("div",{className:X.Description_Modal_Container,children:[S("p",{className:X.Description_Modal_Description,children:d}),S("h6",{className:X.Description_Modal_MaterialLabel,children:"Material:"}),S("p",{className:X.Description_Modal_Material,children:`${Du(y)}`})]})]})},GA="_ProductCardDetailed_17szu_1",QA={ProductCardDetailed:GA},YA=({product:t})=>{const{name:e,images:n,price:r,onSale:i}=t,{user:s}=w.useContext(tn),{setTotalCartCount:o,setPriceSubtotal:a,setTotalSavings:l,cartProducts:u,setCartProducts:c}=w.useContext(An),[h,d]=w.useState(n[0]),[m,_]=w.useState(null),[y,E]=w.useState(null),[p,f]=w.useState(!1),[g,C]=w.useState(!1),[N,P]=w.useState(0),[A,D]=w.useState(!1),re=ne=>{d(ne.target.src)},V=ne=>{const ht=ne.target.value;_(ht),g&&(C(!1),P(0))},ie=async ne=>{const ht=ne.target.value;E(ht),g&&(C(!1),P(0))},$t=()=>y?y&&m?(f(!0),!0):t.adultSizes?t.kidsSizes?!1:(_("adults"),f(!0),!0):(_("kids"),f(!0),!0):(f(!1),!1),wt=async()=>{$t()&&(P(N+1),o(ne=>ne+1),C(!0),a(ne=>ne+r),i&&l(ne=>ne+r),setTimeout(async()=>{let ne=`${m} ${y}`;const ht=await xs(s,t,ne),x=await z1(t.id);if(ht<x){const M=Y1(u,t,ne);c(M),await J1(s,t,ne)?t_(s,t,ne):Z1(s,t,ne)}else P(N-1),o(M=>M-1),a(M=>M-r)},500))},qr=async()=>{N>1?P(x=>x-1):(P(0),C(!1));const ne=`${m} ${y}`,ht=await xs(s,t,ne);if(ht>0){o(M=>M-1),a(M=>M-r);const x=X1(u,t,ne);c(x),i&&l(M=>M-r),ht===1?e_(s,t,ne):n_(s,t,ne)}},Qi=()=>{D(!A)};return w.useEffect(()=>{},[t]),b("div",{className:QA.ProductCardDetailed,children:[S(SA,{images:n,name:e,featuredImg:h,onClick:re}),S(KA,{product:t,descriptionModal:A,toggleDescriptionModal:Qi,selectedCategory:m,selectedSize:y,handleRadioSelect:V,handleDropdownSelect:ie,addToCart:wt,thisInCart:g,thisQuantityInCart:N,removeFromCart:qr})]})},XA="_Page_bnpmc_2",JA="_BackBtn_bnpmc_9",Vg={Page:XA,BackBtn:JA},ZA=()=>{const{products:t}=w.useContext(Bi),{id:e}=mE(),n=t.find(r=>r.id===e);return b("div",{className:Vg.Page,children:[S(zi,{}),S(Oe,{to:"/shop",className:Vg.BackBtn,children:"< < Back"}),S(YA,{product:n}),S(Ui,{})]})},eO="_SavedItemsPage_82evt_2",tO="_Heading_82evt_9",jg={SavedItemsPage:eO,Heading:tO},nO=()=>{const{user:t}=w.useContext(tn),[e,n]=w.useState([]),[r,i]=w.useState(0);return w.useEffect(()=>{(async()=>{const o=await xu(t);n(o)})()},[]),w.useEffect(()=>{},[e,t]),b("div",{className:jg.SavedItemsPage,children:[S(zi,{}),S("h3",{className:jg.Heading,children:"Saved Items"}),S(r_,{products:e,pageNum:r}),S(Ui,{})]})},rO="_CheckoutPage_1ov4n_1",iO={CheckoutPage:rO},sO="_CheckoutProducts_fzguk_2",oO="_Header_fzguk_10",aO="_CheckoutProductGrid_fzguk_16",lO="_NothingInCart_fzguk_25",Sa={CheckoutProducts:sO,Header:oO,CheckoutProductGrid:aO,NothingInCart:lO},uO="_CheckoutProductCard_1ab8v_2",cO="_ProductImgHolder_1ab8v_12",hO="_ProductImgHolder_Img_1ab8v_17",dO="_CartDetails_1ab8v_23",fO="_CartDetails_ProductName_1ab8v_31",pO="_CartDetails_Sizing_1ab8v_38",mO="_CartDetails_ProductPrice_1ab8v_44",gO="_CartDetails_ProductPrice_Original_1ab8v_50",yO="_CartDetails_ProductPrice_Current_1ab8v_56",vO="_InCartBtn_1ab8v_60",SO="_InCartBtn_Btns_1ab8v_74",_O="_InCartBtn_Quantity_1ab8v_83",Et={CheckoutProductCard:uO,ProductImgHolder:cO,ProductImgHolder_Img:hO,CartDetails:dO,CartDetails_ProductName:fO,CartDetails_Sizing:pO,CartDetails_ProductPrice:mO,CartDetails_ProductPrice_Original:gO,CartDetails_ProductPrice_Current:yO,InCartBtn:vO,InCartBtn_Btns:SO,InCartBtn_Quantity:_O},wO=({product:t,addToCart:e,removeFromCart:n,quantityInCart:r})=>{const{name:i,images:s,price:o,size:a,quantity:l,onSale:u}=t;return w.useEffect(()=>{},[l]),b("div",{className:Et.CheckoutProductCard,children:[s&&S("div",{className:Et.ProductImgHolder,children:S("img",{className:Et.ProductImgHolder_Img,src:s[0]})}),b("div",{className:Et.CartDetails,children:[S("h4",{className:Et.CartDetails_ProductName,children:i}),b("h5",{className:Et.CartDetails_Sizing,children:["Size: ",Du(a)]}),b("div",{className:Et.CartDetails_ProductPrice,children:[u&&b("p",{className:Et.CartDetails_ProductPrice_Original,children:["$",Zn(o*2)]}),b("p",{className:Et.CartDetails_ProductPrice_Current,children:["$",Zn(o)," / each"]})]}),b("div",{className:Et.InCartBtn,children:[S("button",{className:Et.InCartBtn_Btns,onClick:n,children:"-"}),S("p",{className:Et.InCartBtn_Quantity,children:r}),S("button",{className:Et.InCartBtn_Btns,onClick:e,children:"+"})]})]})]})},CO=({product:t})=>{const{size:e,price:n,onSale:r}=t,{user:i}=w.useContext(tn),{setTotalCartCount:s,setPriceSubtotal:o,setTotalSavings:a,cartProducts:l,setCartProducts:u}=w.useContext(An),[c,h]=w.useState(1);return w.useEffect(()=>{(async()=>{const y=await xs(i,t,e);h(y)})()},[]),S(wO,{product:t,addToCart:async()=>{h(c+1),o(p=>p+n),s(p=>p+1);const _=Y1(l,t,e);u(_),r&&a(p=>p+n);const y=await xs(i,t,e),E=await z1(t.id);y<E?await J1(i,t,e)?t_(i,t,e):Z1(i,t,e):(h(c-1),o(p=>p-n),s(p=>p-1),a(p=>p-n))},removeFromCart:async()=>{if(c>0){o(E=>E-n),h(E=>E-1),s(E=>E-1),r&&a(E=>E-n);const y=X1(l,t,e);u(y)}const _=await xs(i,t,e);_===1?e_(i,t,e):_>1&&n_(i,t,e)},quantityInCart:c})},EO="_CheckoutSummary_1268q_2",kO="_Heading_1268q_16",TO="_Subtotal_1268q_23",NO="_Subtotal_Label_1268q_30",IO="_Subtotal_Price_1268q_33",PO="_Savings_1268q_38",DO="_Savings_Label_1268q_45",xO="_Savings_Price_1268q_48",bO="_Shipping_1268q_53",AO="_Shipping_Label_1268q_61",OO="_Shipping_Price_1268q_64",$O="_Total_1268q_69",LO="_Total_Label_1268q_77",RO="_Total_Price_1268q_80",MO="_ContinueToCheckout_1268q_85",FO="_NavLink_1268q_98",Fe={CheckoutSummary:EO,Heading:kO,Subtotal:TO,Subtotal_Label:NO,Subtotal_Price:IO,Savings:PO,Savings_Label:DO,Savings_Price:xO,Shipping:bO,Shipping_Label:AO,Shipping_Price:OO,Total:$O,Total_Label:LO,Total_Price:RO,ContinueToCheckout:MO,NavLink:FO},BO=({itemCount:t,subtotal:e,savings:n,total:r})=>(w.useEffect(()=>{},[t,e,n,r]),b("div",{className:Fe.CheckoutSummary,children:[S("h4",{className:Fe.Heading,children:"Order Summary"}),b("div",{className:Fe.Subtotal,children:[b("p",{className:Fe.Subtotal_Label,children:["Subtotal - ",t," item",t>1?"s":""]}),b("p",{className:Fe.Subtotal_Price,children:["$",Zn(e)]})]}),b("div",{className:Fe.Savings,children:[S("p",{className:Fe.Savings_Label,children:"Sale Savings"}),n>0&&b("p",{className:Fe.Savings_Price,children:["-$",Zn(n)]}),(!n||n===0)&&S("p",{className:Fe.Savings_Price,children:"-"})]}),b("div",{className:Fe.Shipping,children:[S("p",{className:Fe.Shipping_Label,children:"Estimated shipping"}),S("p",{className:Fe.Shipping_Price,children:"$9.95"})]}),b("div",{className:Fe.Total,children:[S("p",{className:Fe.Total_Label,children:"Total"}),b("p",{className:Fe.Total_Price,children:["$",Zn(r)]})]}),S(Oe,{to:"/not-a-real-company",className:Fe.NavLink,children:S("div",{className:Fe.ContinueToCheckout,children:"Continue to Checkout"})})]})),zO=()=>{const{totalCartCount:t,priceSubtotal:e,setPriceSubtotal:n,totalSavings:r,setTotalSavings:i}=w.useContext(An),{user:s}=w.useContext(tn),[o,a]=w.useState(0);return w.useEffect(()=>{const l=async()=>{const c=await Qb(s);c!==e&&n(c)},u=async()=>{const c=await Yb(s);c!==r&&i(c)};l(),u()},[]),w.useEffect(()=>{a(e+9.95)},[e,t]),S(BO,{itemCount:t,subtotal:e,savings:r,total:o})},UO=()=>{const{user:t}=w.useContext(tn),{cartProducts:e,setCartProducts:n}=w.useContext(An);return w.useEffect(()=>{fn(t).then(r=>n(r))},[]),w.useEffect(()=>{},[e]),b("div",{className:Sa.CheckoutProducts,children:[S("h1",{className:Sa.Header,children:"In Cart"}),b("div",{className:Sa.CheckoutProductGrid,children:[e.length<1&&S("p",{className:Sa.NothingInCart,children:"Nothing in cart."}),e&&e.map(r=>S(CO,{product:r},`${r.id} ${r.size}`)),e.length>0&&S(zO,{})]})]})},VO=()=>{const{setTotalCartCount:t}=w.useContext(An),{user:e}=w.useContext(tn);return w.useEffect(()=>{(async()=>{const r=await op(e);t(r)})()},[]),b("div",{className:iO.CheckoutPage,children:[S(zi,{}),S(UO,{}),S(Ui,{})]})},jO="_Page_wzvcc_2",HO="_Main_wzvcc_9",qO="_Heading_wzvcc_15",WO="_Para_wzvcc_22",_a={Page:jO,Main:HO,Heading:qO,Para:WO},KO=()=>b("div",{className:_a.Page,children:[S(zi,{}),b("div",{className:_a.Main,children:[S("h1",{className:_a.Heading,children:"Oops!"}),S("p",{className:_a.Para,children:"Unfortunately, that link doesn't exist right now, because this isn't a real company and website that you can actually make purchases from."})]}),S(Ui,{})]});function GO(){return S(VE,{children:S(Ab,{children:S(jE,{children:S(nk,{children:b(bE,{children:[S("div",{className:"App"}),b(NE,{children:[S(mr,{path:"/",element:S(Xb,{})}),S(mr,{path:"/shop",element:S(fA,{})}),S(mr,{path:"/saved-items",element:S(nO,{})}),S(mr,{path:"/checkout",element:S(VO,{})}),S(mr,{path:"/:id",element:S(ZA,{})}),S(mr,{path:"/not-a-real-company",element:S(KO,{})})]})]})})})})})}Ic.createRoot(document.getElementById("root")).render(S(B.StrictMode,{children:S(GO,{})}));
